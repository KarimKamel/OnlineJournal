(this.webpackJsonptry1=this.webpackJsonptry1||[]).push([[0],{110:function(e,t,n){"use strict";n.r(t);var r=n(0),a=n.n(r),s=n(30),c=n.n(s),o=n(14),i=(n(77),n(10)),l=n(11),u=n(5),d=n.n(u),j=n(8),p=a.a.createContext();function b(){return Object(r.useContext)(p)}var h=n(1);function m(e){e.props;var t=Object(l.h)(),n=b();return Object(r.useLayoutEffect)((function(){function e(){return(e=Object(j.a)(d.a.mark((function e(){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n.setLoading(!0),e.next=3,n.userCheckAndRefreshAuth();case 3:n.setLoading(!1);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[t.pathname]),Object(h.jsx)("div",{children:console.log("rendering middleware")})}var x=n(22),f=n(9),O=n(122),g=n(118),v=n(119),y=n(123),w=n(120),k=n(70),C=n.n(k),N=Object(O.a)({root:{},form:{marginTop:"2rem"},errorMessage:{color:"red"},spinnerContainer:{display:"flex",paddingTop:"20vh",justifyContent:"center"},spinner:{width:"5rem",height:"5rem"}});function S(e){var t=b(),n=N(),a=Object(r.useState)({status:!1,errorMessageList:[]}),s=Object(f.a)(a,2),c=s[0],i=s[1],l=Object(r.useState)(!1),u=Object(f.a)(l,2),p=u[0],m=u[1];Object(r.useEffect)((function(){console.log("logging user context:"+JSON.stringify(t))}),[t]);var O=Object(r.useState)({username:"",password:"",repeatPassword:""}),k=Object(f.a)(O,2),S=k[0],T=k[1],E=function(e){console.log("change"),T((function(t){return Object(o.a)(Object(o.a)({},t),{},Object(x.a)({},e.target.name,e.target.value))}))},I=function(){var e=Object(j.a)(d.a.mark((function e(n){var r,a,s,c,o;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(console.log("submit"),n.preventDefault(),console.log(t),r=S.username,a=S.password,s=B(a),console.log(s),!(s.length>0)){e.next=12;break}c=[],s.forEach((function(e){var t;"min"===e&&(t="password must be at least 8 characters"),"max"===e&&(t="password cannot exceed 100 characters"),"digits"===e&&(t="password must contain at least one digit"),"spaces"===e&&(t="password cannot contain spaces"),console.log(t),c.push(t)})),i({status:!0,errorMessageList:c}),e.next=18;break;case 12:return m(!0),e.next=15,t.userSignUp(r,a);case 15:o=e.sent,m(!1),o!==r&&i({status:!0,errorMessageList:[o]});case 18:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),$=new C.a;function B(e){return $.is().min(8).is().max(100).has().digits(1).has().not().spaces(),$.validate(e,{list:!0})}return Object(h.jsx)(g.a,{children:p?Object(h.jsxs)("div",{className:n.spinnerContainer,children:[" ",Object(h.jsx)(v.a,{animation:"border",className:n.spinner,role:"status",children:Object(h.jsx)("span",{className:"sr-only",children:"Loading..."})})]}):Object(h.jsxs)(y.a,{className:n.form,onSubmit:I,children:[Object(h.jsxs)(y.a.Group,{controlId:"formBasicEmail",children:[Object(h.jsx)(y.a.Label,{children:"username"}),Object(h.jsx)(y.a.Control,{value:S.username,onChange:E,name:"username",type:"text",placeholder:"Enter email"})]}),Object(h.jsxs)(y.a.Group,{controlId:"formBasicPassword",children:[Object(h.jsx)(y.a.Label,{children:"password"}),Object(h.jsx)(y.a.Control,{value:S.password,onChange:E,name:"password",type:"password",placeholder:"password"})]}),Object(h.jsxs)(y.a.Group,{controlId:"formBasicPassword",children:[Object(h.jsx)(y.a.Label,{children:"repeat password"}),Object(h.jsx)(y.a.Control,{value:S.password,onChange:E,name:"password",type:"password",placeholder:"password"})]}),c.status&&Object(h.jsx)("div",{children:c.errorMessageList.map((function(e){return Object(h.jsx)("p",{className:n.errorMessage,children:e},e)}))}),Object(h.jsx)(w.a,{variant:"primary",type:"submit",children:"Submit"})]})})}var T=n(121),E=n(71),I=n(127),$="https://protected-shelf-10157.herokuapp.com/";function B(){return L.apply(this,arguments)}function L(){return(L=Object(j.a)(d.a.mark((function e(){var t,n;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t="".concat($,"users/auth"),console.log(t),console.log("checking auth"),e.next=5,fetch(t,{method:"GET",credentials:"include",headers:{"Content-Type":"application/json"}});case 5:return n=e.sent,e.abrupt("return",n);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function P(){return D.apply(this,arguments)}function D(){return(D=Object(j.a)(d.a.mark((function e(){var t;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat($,"users/refreshToken"),{method:"GET",credentials:"include",headers:{"Content-Type":"application/json"}});case 2:return t=e.sent,e.abrupt("return",t);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function A(){return(A=Object(j.a)(d.a.mark((function e(){var t,n;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat($),{method:"GET",credentials:"include",headers:{"Content-Type":"application/json"}});case 2:return t=e.sent,e.next=5,t.text();case 5:return n=e.sent,console.log(t),console.log(t.headers),console.log(n),e.abrupt("return",t);case 10:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function M(){return G.apply(this,arguments)}function G(){return(G=Object(j.a)(d.a.mark((function e(){var t,n,r,a,s,c,o;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("in check and refresh auth"),e.next=3,B();case 3:if(200!==(t=e.sent).status){e.next=13;break}return console.log("access token valid"),e.next=8,t.text();case 8:return n=e.sent,console.log("username: "+n),e.abrupt("return",n);case 13:if(401!==t.status){e.next=47;break}return console.log("access token expired"),e.next=17,t.text();case 17:return r=e.sent,console.log(r),e.next=21,P();case 21:if(200!==(t=e.sent).status){e.next=44;break}return console.log("new access token issued"),e.next=26,B();case 26:if(200!==(a=e.sent).status){e.next=36;break}return console.log("access token valid"),e.next=31,a.text();case 31:return s=e.sent,console.log("username: "+s),e.abrupt("return",s);case 36:return console.log("2nd check auth returned "+a.status),e.next=39,a.text();case 39:return c=e.sent,console.log(c),e.abrupt("return");case 42:e.next=45;break;case 44:return e.abrupt("return");case 45:e.next=52;break;case 47:return e.next=49,t.text();case 49:return o=e.sent,console.log(o),e.abrupt("return");case 52:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function J(){return F.apply(this,arguments)}function F(){return(F=Object(j.a)(d.a.mark((function e(){var t;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat($,"users/signout"),{withCredentials:!0,credentials:"include"});case 2:return t=e.sent,e.abrupt("return",t);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function R(e){return U.apply(this,arguments)}function U(){return(U=Object(j.a)(d.a.mark((function e(t){var n;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat($,"users/signin"),{method:"POST",withCredentials:!0,credentials:"include",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)});case 2:return n=e.sent,e.abrupt("return",n);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function _(e){return z.apply(this,arguments)}function z(){return(z=Object(j.a)(d.a.mark((function e(t){var n;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat($,"users/signup"),{method:"POST",withCredentials:!0,credentials:"include",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)});case 2:return n=e.sent,console.log("authAPI signup response"),console.log(n),e.abrupt("return",n);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function K(e){return W.apply(this,arguments)}function W(){return(W=Object(j.a)(d.a.mark((function e(t){var n;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat($,"users/google/signin"),{method:"POST",withCredentials:!0,credentials:"include",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)});case 2:return n=e.sent,e.abrupt("return",n);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function H(e){return q.apply(this,arguments)}function q(){return(q=Object(j.a)(d.a.mark((function e(t){var n,r,a,s,c;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.username,r=t.name,a=t.email,s=t.hobbies,e.next=3,fetch("".concat($,"users/").concat(n),{method:"PATCH",withCredentials:!0,credentials:"include",headers:{"Content-Type":"application/json"},body:JSON.stringify({name:r,email:a,hobbies:s})});case 3:return c=e.sent,e.abrupt("return",c);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Q(e){return V.apply(this,arguments)}function V(){return(V=Object(j.a)(d.a.mark((function e(t){var n,r;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t,e.next=3,fetch("".concat($,"users/").concat(n),{method:"GET",withCredentials:!0,credentials:"include",headers:{"Content-Type":"application/json"}});case 3:return r=e.sent,e.abrupt("return",r);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var X=n.p+"static/media/stockJournal.16770ff0.png",Y=Object(O.a)({title:{marginTop:"2rem",marginBottom:"4rem"},imageContainer:{width:"50%"},image:{marginLeft:"50%",marginTop:"-10%",width:"100%"},signoutButton:{borderStyle:"none",display:"inline",backgroundColor:"inherit",padding:"0",color:"dodgerblue"}});function Z(){var e=b(),t=Y();return Object(r.useEffect)((function(){!function(){A.apply(this,arguments)}()})),Object(h.jsx)(g.a,{className:t.root,children:e.user?Object(h.jsxs)(h.Fragment,{children:[Object(h.jsx)(T.a,{children:Object(h.jsx)(E.a,{xs:6,children:Object(h.jsxs)("h1",{className:t.title,children:["Welcome Back, ",Object(h.jsx)(i.b,{to:"/profile",children:e.user})]})})}),Object(h.jsxs)(T.a,{children:[Object(h.jsx)(E.a,{xs:6,children:Object(h.jsxs)(I.a,{children:[Object(h.jsx)(I.a.Item,{children:Object(h.jsx)(i.b,{to:"/Journal",children:"Journal"})}),Object(h.jsx)(I.a.Item,{children:Object(h.jsx)(i.b,{to:"/Profile",children:"Profile Page"})}),Object(h.jsx)(I.a.Item,{children:Object(h.jsx)("button",{className:"".concat(t.signoutButton," list-group-item"),onClick:function(){return e.userSignOut()},children:"Signout"})})]})}),Object(h.jsx)(E.a,{xs:6,children:Object(h.jsx)("div",{className:t.imageContainer,children:Object(h.jsx)("img",{className:t.image,src:X,alt:""})})})]})]}):Object(h.jsxs)(h.Fragment,{children:[Object(h.jsx)(T.a,{children:Object(h.jsx)(E.a,{xs:6,children:Object(h.jsx)("h1",{className:t.title,children:"Welcome To My Online Journal"})})}),Object(h.jsxs)(T.a,{children:[Object(h.jsx)(E.a,{xs:6,children:Object(h.jsxs)(I.a,{children:[Object(h.jsx)(I.a.Item,{children:Object(h.jsx)(i.b,{to:"/Signup",children:"create an account"})}),Object(h.jsx)(I.a.Item,{children:Object(h.jsx)(i.b,{to:"/Signin",children:"Sign in with an existing account"})})]})}),Object(h.jsx)(E.a,{xs:6,children:Object(h.jsx)("div",{className:t.imageContainer,children:Object(h.jsx)("img",{className:t.image,src:X,alt:""})})})]})]})})}var ee=n(125),te=n(72),ne=Object(O.a)({root:{},form:{marginTop:"2rem"},button:{marginBottom:"2rem"},dividerContainer:{marginTop:"4rem"},dividerText:{marginTop:"-45px",border:"2px solid black",display:"inline-block",borderRadius:"50%",background:"white",padding:"1rem",marginLeft:"50%",transform:"translate(-50%,-20%)"},buttonContainer:{display:"flex",justifyContent:"center",marginTop:"4rem"},googleButton:{width:"80%",background:"red !important",color:"white",padding:"1rem",border:"0px",boxShadow:"2px 3px 5px black"}});function re(e){var t=b(),n=ne(),a=Object(r.useState)(!1),s=Object(f.a)(a,2),c=s[0],i=s[1];Object(r.useEffect)((function(){console.log("logging user context:"+JSON.stringify(t))}),[t]);var l=Object(r.useState)({username:"",password:"",remember:!1}),u=Object(f.a)(l,2),p=u[0],m=u[1],O=function(e){console.log("change"),m((function(t){return Object(o.a)(Object(o.a)({},t),{},Object(x.a)({},e.target.name,e.target.value))}))},v=function(){var e=Object(j.a)(d.a.mark((function e(n){var r,a;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n.preventDefault(),r=p,e.next=4,t.userSignIn(r);case 4:a=e.sent,console.log(a),!1===a&&i(!0);case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();function k(e){return C.apply(this,arguments)}function C(){return(C=Object(j.a)(d.a.mark((function e(n){var r;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:try{console.log(n),r={access_token:n.tokenObj.access_token},t.userGoogleSignIn(r)}catch(a){console.log(a)}case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return Object(h.jsxs)(g.a,{children:[console.log("rendering sign in"),Object(h.jsx)("h2",{className:"mt-3",children:"sign in"}),Object(h.jsxs)(y.a,{className:n.form,onSubmit:v,children:[Object(h.jsxs)(y.a.Group,{controlId:"formBasicEmail",children:[Object(h.jsx)(y.a.Label,{children:"username"}),Object(h.jsx)(y.a.Control,{value:p.username,onChange:O,name:"username",type:"text",placeholder:"Enter email"})]}),Object(h.jsxs)(y.a.Group,{controlId:"formBasicPassword",children:[Object(h.jsx)(y.a.Label,{children:"Password"}),Object(h.jsx)(y.a.Control,{value:p.password,onChange:O,name:"password",type:"password",placeholder:"Password"})]}),Object(h.jsx)(y.a.Group,{controlId:"formBasicCheckbox",children:Object(h.jsx)(y.a.Check,{name:"remember",onChange:function(e){m((function(t){return Object(o.a)(Object(o.a)({},t),{},Object(x.a)({},e.target.name,!p.remember))}))},type:"checkbox",label:"remember me on this pc"})}),Object(h.jsx)(w.a,{className:n.button,variant:"primary",type:"submit",children:"Submit"}),c&&Object(h.jsx)(ee.a,{variant:"danger",children:"Unable to login. Username or password are incorrect"})]}),Object(h.jsxs)("div",{className:n.dividerContainer,children:[Object(h.jsx)("hr",{}),Object(h.jsx)("h1",{className:n.dividerText,children:"Or"})]}),Object(h.jsx)("div",{className:n.buttonContainer,children:Object(h.jsx)(te.GoogleLogin,{clientId:"507566462397-vdp1f4lpqml8a4fppi7h5d1sg4fm72h0.apps.googleusercontent.com",className:n.googleButton,buttonText:"Login",onSuccess:k,onFailure:k,cookiePolicy:"single_host_origin"})})]})}var ae=Object(O.a)({title:{padding:"2rem",textAlign:"center"},row:{marginBottom:"1rem"},label:{verticalAlign:"middle",marginBottom:"0",fontWeight:"bold"},spinnerContainer:{display:"flex",paddingTop:"20vh",justifyContent:"center"},spinner:{width:"5rem",height:"5rem"},button:{display:"block",marginLeft:"auto"}});function se(e){var t=b(),n=t.user,a=t.userGetDetails,s=t.userUpdateDetails,c=Object(r.useState)({name:"",email:"",hobbies:""}),i=Object(f.a)(c,2),l=i[0],u=i[1],p=Object(r.useState)(!1),m=Object(f.a)(p,2),O=m[0],k=m[1],C=ae();function N(e){u((function(t){return Object(o.a)(Object(o.a)({},t),{},Object(x.a)({},e.target.name,e.target.value))}))}function S(){return(S=Object(j.a)(d.a.mark((function e(){var t,r,a,c;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=l.name,r=l.hobbies,a=l.email,k(!0),e.next=4,s(n,t,a,r);case 4:c=e.sent,k(!1),console.log(c);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return Object(r.useLayoutEffect)((function(){function e(){return(e=Object(j.a)(d.a.mark((function e(){var t,r,s,c;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return k(!0),e.next=3,a(n);case 3:t=e.sent,console.log(t),r=t.name,s=t.email,c=t.hobbies,console.log(r,s,c),u({name:r,email:s,hobbies:c}),k(!1);case 9:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[n]),Object(h.jsx)(g.a,{children:O?Object(h.jsxs)("div",{className:C.spinnerContainer,children:[" ",Object(h.jsx)(v.a,{animation:"border",className:C.spinner,role:"status",children:Object(h.jsx)("span",{className:"sr-only",children:"Loading..."})})]}):Object(h.jsxs)("div",{children:[Object(h.jsxs)("h1",{className:C.title,children:[n,"'s Profile Page"]}),Object(h.jsxs)(T.a,{className:C.row,children:[Object(h.jsx)(E.a,{xs:2,children:Object(h.jsx)(y.a.Label,{className:C.label,children:"Email address"})}),Object(h.jsx)(E.a,{xs:6,children:Object(h.jsx)(y.a.Control,{onChange:N,name:"email",value:l.email,type:"email"})})]}),Object(h.jsxs)(T.a,{className:C.row,children:[Object(h.jsx)(E.a,{xs:2,children:Object(h.jsx)(y.a.Label,{className:C.label,children:"Name"})}),Object(h.jsx)(E.a,{xs:6,children:Object(h.jsx)(y.a.Control,{onChange:N,name:"name",value:l.name,type:"text"})})]}),Object(h.jsxs)(T.a,{className:C.row,children:[Object(h.jsx)(E.a,{xs:2,children:Object(h.jsx)(y.a.Label,{className:C.label,children:"Interests and hobbies"})}),Object(h.jsx)(E.a,{xs:6,children:Object(h.jsx)(y.a.Control,{onChange:N,name:"hobbies",value:l.hobbies,as:"textarea",rows:3})})]}),Object(h.jsx)(T.a,{children:Object(h.jsxs)(E.a,{xs:8,children:[" ",Object(h.jsx)(w.a,{onClick:function(){return S.apply(this,arguments)},className:C.button,variant:"dark",children:"save"})]})})]})})}var ce=n(124),oe=n(126);function ie(e){var t=le(),n=b();return Object(r.useEffect)((function(){console.log("useeffect Navbar")}),[n.user]),Object(h.jsxs)(ce.a,{bg:"light",expand:"sm",children:[console.log("rendering nav"),Object(h.jsx)(ce.a.Brand,{children:Object(h.jsx)("b",{children:"My Online Journal"})}),Object(h.jsx)(ce.a.Toggle,{"aria-controls":"basic-navbar-nav"}),Object(h.jsx)(ce.a.Collapse,{id:"basic-navbar-nav",children:Object(h.jsxs)(oe.a,{className:"mr-auto",children:[Object(h.jsx)(i.b,{className:"nav-link",to:"/",children:"Home"}),n.user?Object(h.jsxs)(h.Fragment,{children:[Object(h.jsx)(i.b,{className:"nav-link",to:"/Calendar",children:"Calendar"}),Object(h.jsx)(i.b,{className:"nav-link",to:"/journal",children:"Journal"}),Object(h.jsx)(i.b,{className:"nav-link",to:"/allentries",children:"All Entries"}),Object(h.jsx)(i.b,{className:"nav-link",to:"/profile",children:"Profile"}),Object(h.jsx)("button",{className:"".concat(t.signoutButton," nav-link"),onClick:function(){return n.userSignOut()},children:"Signout"})]}):Object(h.jsxs)(h.Fragment,{children:[Object(h.jsx)(i.b,{className:"nav-link",to:"/signin",children:"Signin"}),Object(h.jsx)(i.b,{className:"nav-link",to:"/signup",children:"Signup"})]})]})})]})}var le=Object(O.a)({root:{background:"purple",padding:"10px"},item:{fontSize:"2rem",marginRight:"1rem",color:"white",textDecoration:"none","&:hover":{color:"black"}},signoutButton:{borderStyle:"none",backgroundColor:"inherit"}}),ue=Object(O.a)({title:{marginTop:"2rem",marginBottom:"4rem"},imageContainer:{width:"50%"},image:{marginLeft:"50%",marginTop:"-10%",width:"100%"},signoutButton:{borderStyle:"none",display:"inline",backgroundColor:"inherit",padding:"0",color:"dodgerblue"}});function de(){var e=ue();return Object(h.jsxs)(g.a,{className:e.root,children:[Object(h.jsx)(T.a,{children:Object(h.jsx)(E.a,{xs:6,children:Object(h.jsx)("h1",{className:e.title,children:"Add, browse or edit your Journal entries from this page!"})})}),Object(h.jsxs)(T.a,{children:[Object(h.jsx)(E.a,{xs:6,children:Object(h.jsxs)(I.a,{children:[Object(h.jsx)(I.a.Item,{children:Object(h.jsx)(i.b,{to:"/allentries",children:"Browse All Entries"})}),Object(h.jsx)(I.a.Item,{children:Object(h.jsx)(i.b,{to:"/Calendar",children:"Browse Entries By Date"})}),Object(h.jsx)(I.a.Item,{children:Object(h.jsx)(i.b,{to:"/Entries/create-entry",children:"create a new Entry"})})]})}),Object(h.jsx)(E.a,{xs:6,children:Object(h.jsx)("div",{className:e.imageContainer,children:Object(h.jsx)("img",{className:e.image,src:X,alt:""})})})]})]})}var je=n(76),pe=(n(91),n(28)),be=n.n(pe),he=n(33),me=n(34),xe=n.n(me);function fe(e,t,n,r){return Oe.apply(this,arguments)}function Oe(){return(Oe=Object(j.a)(d.a.mark((function e(t,n,r,a){var s,c;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return s={data:t,date:n,title:r,username:a},console.log("saving: ",t),console.log(t),e.next=5,fetch("".concat($,"entries"),{method:"POST",withCredentials:!0,credentials:"include",headers:{"Content-Type":"application/json"},body:JSON.stringify(s)});case 5:return c=e.sent,e.abrupt("return",c);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ge(e,t,n){return ve.apply(this,arguments)}function ve(){return(ve=Object(j.a)(d.a.mark((function e(t,n,r){var a,s;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a={title:n,data:r},e.next=3,fetch("".concat($,"entries/").concat(t),{method:"PUT",withCredentials:!0,credentials:"include",headers:{"Content-Type":"application/json"},body:JSON.stringify(a)});case 3:return s=e.sent,e.abrupt("return",s);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ye(e){return we.apply(this,arguments)}function we(){return(we=Object(j.a)(d.a.mark((function e(t){var n,r;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("getting number of entries for "+t),e.next=3,fetch("".concat($,"entries/count?username=").concat(t),{method:"GET",withCredentials:!0,credentials:"include",headers:{"Content-Type":"application/json"}});case 3:return n=e.sent,e.next=6,n.json();case 6:return r=e.sent,e.abrupt("return",r);case 8:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ke(e,t,n,r){return Ce.apply(this,arguments)}function Ce(){return(Ce=Object(j.a)(d.a.mark((function e(t,n,r,a){var s,c,o;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("getting entries for "+t+" on "+n),s=encodeURIComponent(n),console.log(s),e.next=5,fetch("".concat($,"entries?date=").concat(s,"&username=").concat(t,"&amount=").concat(r,"&order=").concat(a),{method:"GET",withCredentials:!0,credentials:"include",headers:{"Content-Type":"application/json"}});case 5:return c=e.sent,e.next=8,c.json();case 8:return o=e.sent,e.abrupt("return",o);case 10:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Ne(e){return Se.apply(this,arguments)}function Se(){return(Se=Object(j.a)(d.a.mark((function e(t){var n,r;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("id "+t),e.next=3,fetch("".concat($,"entries/").concat(t),{method:"get",withCredentials:!0,credentials:"include",headers:{"Content-Type":"application/json"}});case 3:return n=e.sent,e.next=6,n.json();case 6:return r=e.sent,e.abrupt("return",r);case 8:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Te(e){return Ee.apply(this,arguments)}function Ee(){return(Ee=Object(j.a)(d.a.mark((function e(t){var n;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat($,"entries/").concat(t),{method:"DELETE",withCredentials:!0,credentials:"include",headers:{"Content-Type":"application/json"}});case 2:return n=e.sent,e.abrupt("return",n);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var Ie=Object(O.a)({root:{paddingTop:"2rem"},titleInput:{marginBottom:"2rem",width:"100%"},titleLabel:{fontSize:"2rem"},buttonSave:{marginTop:"2rem",marginRight:"1rem"},message:{textAlign:"center"}});function $e(e){return(new DOMParser).parseFromString(e,"text/html").body.textContent||""}function Be(e){var t=Object(l.h)(),n=Object(l.g)(),a=Object(r.useState)(t.entry),s=Object(f.a)(a,2),c=s[0],o=s[1],i=Object(r.useState)(""),u=Object(f.a)(i,2),p=u[0],b=u[1],m=Object(r.useState)(""),x=Object(f.a)(m,2),O=x[0],v=x[1],y=Object(r.useState)(!1),k=Object(f.a)(y,2),C=k[0],N=k[1],S=Object(r.useState)(!1),T=Object(f.a)(S,2),E=T[0],I=T[1],$=Object(r.useState)(!1),B=Object(f.a)($,2),L=B[0],P=B[1],D=Ie();function A(){I(!0),setTimeout((function(){return I(!1)}),1e3)}Object(r.useEffect)((function(){function e(){return(e=Object(j.a)(d.a.mark((function e(){var n,r;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(c){e.next=12;break}return console.log("No entry"),n=t.search.slice(1),e.next=5,Ne(n);case 5:r=e.sent,console.log("entry res "+r),o(r),b(r.data),v(r.title),e.next=13;break;case 12:p||(console.log("No data"),b(c.data),v(c.title));case 13:case"end":return e.stop()}}),e)})))).apply(this,arguments)}c&&p||function(){e.apply(this,arguments)}()}),[]);var M=function(){var e=Object(j.a)(d.a.mark((function e(){var t;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=function(){return(t=Object(j.a)(d.a.mark((function e(t){var n,r,a,s;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.entryId,r=t.title,a=t.data,console.log("id "+n),console.log("data "+a),console.log("title "+r),e.next=6,ge(n,r,a);case 6:s=e.sent,N(!1),console.log(s),A();case 10:case"end":return e.stop()}}),e)})))).apply(this,arguments)},function(e){return t.apply(this,arguments)}({data:p,title:O,entryId:c._id});case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),G=function(){var e=Object(j.a)(d.a.mark((function e(t){var r;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=c._id,e.next=3,Te(r);case 3:e.sent,P(!0),setTimeout((function(){P(!1),n.goBack()}),1e3);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(h.jsx)(g.a,{className:D.root,children:E?Object(h.jsx)("h1",{className:D.message,children:"post has been updated"}):Object(h.jsx)(h.Fragment,{children:L?Object(h.jsx)("h1",{className:D.message,children:"post has been deleted"}):Object(h.jsx)("div",{children:C?Object(h.jsxs)("div",{children:[Object(h.jsx)("label",{htmlFor:"titleInput",className:D.titleLabel,children:"Title"}),Object(h.jsx)("input",{id:"titleInput",type:"text",value:O,className:D.titleInput,onChange:function(e){return v(e.target.value)},disabled:!C}),Object(h.jsx)(he.CKEditor,{editor:xe.a,data:p,onReady:function(e){console.log("Editor is ready to use!",e)},onChange:function(e,t){return b(t.getData())},disabled:!C}),Object(h.jsxs)(w.a,{variant:"dark mt-2",className:D.buttonSave,onClick:function(){return M()},children:["save changes"," "]})]}):Object(h.jsxs)(h.Fragment,{children:[Object(h.jsx)("h1",{children:$e(O)}),Object(h.jsx)("p",{children:$e(p)}),Object(h.jsxs)(w.a,{variant:"dark",className:D.buttonSave,onClick:function(){return N(!C)},children:["edit post"," "]}),Object(h.jsxs)(w.a,{variant:"dark",className:D.buttonSave,name:"deleteButton",onClick:function(e){return G(e)},children:["delete post"," "]})]})})})})}function Le(e){var t=Object(r.useState)(!0),n=Object(f.a)(t,1)[0],a=e.data,s=e.setData;return Object(r.useEffect)((function(){console.log("useEffect editor with data: "+a)}),[a]),Object(h.jsxs)("div",{className:"root",children:[console.log("rendering editor with data: "+a),n?Object(h.jsx)(he.CKEditor,{editor:xe.a,data:a,onReady:function(e){console.log("Editor is ready to use!",e)},onChange:function(e,t){return s(t.getData())},disabled:!1}):Object(h.jsx)(he.CKEditor,{config:{toolbar:[]},editor:xe.a,data:a,onReady:function(e){console.log("Editor is ready to use!",e)},disabled:!0})]})}var Pe=Object(O.a)({root:{paddingTop:"2rem"},inputLabel:{fontSize:"2rem",marginTop:"2rem",display:"block"},inputTitle:{width:"100%",marginBottom:"2rem"},message:{textAlign:"center"}});function De(e){var t,n=Object(l.h)(),a=Object(l.g)(),s=Object(r.useState)(),c=Object(f.a)(s,2),o=c[0],u=c[1],p=Object(r.useState)(""),m=Object(f.a)(p,2),x=m[0],O=m[1],v=Object(r.useState)(!1),y=Object(f.a)(v,2),k=y[0],C=y[1],N=b().user,S=Pe(),T=n.search.slice(1);try{T||(T=new Date),T=decodeURI(T),t=be()(T,"dddd dd mmmm yyyy")}catch(I){console.log(n.search.slice(1)),console.log(I)}var E=function(){var e=Object(j.a)(d.a.mark((function e(t){var n,r,s,c;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:c=function(){return(c=Object(j.a)(d.a.mark((function e(t){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fe(t);case 2:200===e.sent.status&&(C(!0),setTimeout((function(){return a.goBack()}),1e3));case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)},s=function(e){return c.apply(this,arguments)},n=new Date,r=n.getTimezoneOffset(),s({date:T,username:N,title:x,data:t,createdAt:n,timezoneOffset:r});case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(h.jsx)(g.a,{className:S.root,children:k?Object(h.jsx)("h1",{className:S.message,children:"Post successfull"}):Object(h.jsxs)("div",{children:[console.log(n.search.slice(1)),console.log(T),Object(h.jsxs)("h1",{children:[t,Object(h.jsx)("span",{style:{fontSize:"1.2rem"},children:Object(h.jsx)(i.b,{to:"/Calendar",children:" pick a different date"})})]}),Object(h.jsx)("h3",{children:"Create a new Entry"}),Object(h.jsx)("label",{htmlFor:"titleInput",className:S.inputLabel,children:"title"}),Object(h.jsx)("input",{id:"titleInput",value:x,onChange:function(e){return O(e.target.value)},className:S.inputTitle}),Object(h.jsx)(Le,{handleSubmit:E,data:o,setData:function(e){return u(e)}}),Object(h.jsx)(w.a,{variant:"dark mt-2",className:S.buttonSave,onClick:function(){return E(o)},children:"save new entry"})]})})}var Ae=n(128),Me=Object(O.a)({headerContainer:{display:"flex",justifyContent:"space-between",alignItems:"center",marginTop:"2rem"},linkContainer:{textAlign:"end"},card:{marginTop:"2rem"},cardText:{whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis"},spinnerContainer:{display:"flex",paddingTop:"20vh",justifyContent:"center"},spinner:{width:"5rem",height:"5rem"},noEntriesMessageContainer:{display:"flex",justifyContent:"center",paddingTop:"4rem",border:"2px solid black",marginTop:"6rem",paddingBottom:"4rem",alignItems:"center",background:"lightsteelblue",borderRadius:"5px"}});function Ge(e){var t,n=Object(l.i)(),a=(n.path,n.url,n.isExact),s=Object(l.g)(),c=Object(l.h)(),o=Object(r.useState)(!1),u=Object(f.a)(o,2),p=u[0],m=u[1],x=c.search.slice(1);try{console.log("date received as: "+x),x=decodeURI(x),console.log("date decoded to: "+x),t=be()(x,"dddd dd mmmm yyyy"),console.log("display date formatted as: "+t)}catch(T){console.log("date format incorrect")}var O=b(),y=Object(r.useState)([]),k=Object(f.a)(y,2),C=k[0],N=k[1],S=Me();return Object(r.useLayoutEffect)((function(){function e(){return(e=Object(j.a)(d.a.mark((function e(){var t;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return m(!0),console.log("retrieving for date: ",x),console.log("$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$"),e.next=5,ke(O.user,x);case 5:t=e.sent,m(!1),N(t);case 8:case"end":return e.stop()}}),e)})))).apply(this,arguments)}if(console.log("use effect entries"),a){console.log("loading entries");try{!function(){e.apply(this,arguments)}()}catch(T){console.log(T)}}}),[]),Object(h.jsxs)(g.a,{children:[console.log("entries root"),Object(h.jsxs)("div",{className:S.headerContainer,children:[Object(h.jsx)("h1",{className:S.title,children:Object(h.jsx)("em",{children:Object(h.jsx)("i",{children:t})})}),Object(h.jsx)(i.b,{to:{pathname:"/entries/create-entry",new:!0,search:x},children:Object(h.jsx)(w.a,{variant:"dark",children:"create new entry"})})," "]}),p?Object(h.jsxs)("div",{className:S.spinnerContainer,children:[" ",Object(h.jsx)(v.a,{animation:"border",className:S.spinner,role:"status",children:Object(h.jsx)("span",{className:"sr-only",children:"Loading..."})})]}):C.length>0?C.map((function(e,t){return Object(h.jsx)(Ae.a,{className:S.card,children:Object(h.jsxs)(Ae.a.Body,{children:[Object(h.jsxs)(Ae.a.Title,{children:[e.title," "]}),Object(h.jsx)(Ae.a.Text,{className:S.cardText,children:(n=e.data,(new DOMParser).parseFromString(n,"text/html").body.textContent||"")}),Object(h.jsx)("div",{className:S.linkContainer,children:Object(h.jsxs)(w.a,{variant:"dark",onClick:function(){s.push({pathname:"/entries/display-entry",entry:e,search:"".concat(e._id)})},children:[" ","go to entry"]})})]})},t);var n})):Object(h.jsx)("div",{className:S.noEntriesMessageContainer,children:Object(h.jsx)("h1",{children:"No entries made on this date"})})]})}var Je=Object(O.a)({calendar:{marginTop:"2rem",width:"100%","& .react-calendar__tile--active":{background:"black"}},button:{border:" 5px solid gray"}});function Fe(){var e=Object(r.useState)(new Date),t=Object(f.a)(e,2),n=t[0],a=t[1],s=Object(l.i)(),c=s.path,o=(s.url,Object(l.h)(),Object(l.g)()),i=Je();return Object(h.jsxs)(l.d,{children:[console.log("rendering calendar"),Object(h.jsx)(l.b,{path:"".concat(c,"/Entries"),children:Object(h.jsx)(Ge,{})}),Object(h.jsx)(l.b,{path:"".concat(c),children:Object(h.jsx)(g.a,{children:Object(h.jsx)(je.a,{className:i.calendar,onChange:a,value:n,onClickDay:function(e){o.push({pathname:"".concat(c,"/Entries"),search:e.toString()})}})})})]})}var Re=n(75),Ue=n(129);function _e(e){var t=e.pages,n=e.active,r=e.setActive;return Object(h.jsx)("div",{children:Object(h.jsx)(Ue.a,{variant:"dark",size:"lg",children:function(){for(var e=[],a=function(t){e.push(Object(h.jsx)(Ue.a.Item,{onClick:function(){return r(t)},active:t===n,children:t},t))},s=1;s<=t;s++)a(s);return e}().map((function(e){return e}))})})}var ze=Object(O.a)({headerContainer:{display:"flex",justifyContent:"space-between",alignItems:"center",marginTop:"2rem"},linkContainer:{textAlign:"end"},card:{marginBottom:"2rem"},cardText:{whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis"},spinnerContainer:{display:"flex",paddingTop:"20vh",justifyContent:"center"},spinner:{width:"5rem",height:"5rem"},noEntriesMessageContainer:{display:"flex",justifyContent:"center",paddingTop:"4rem",border:"2px solid black",marginTop:"6rem",paddingBottom:"4rem",alignItems:"center",background:"lightsteelblue",borderRadius:"5px"},dateContainer:{backgroundColor:"black",color:"white"},newEntryButton:{display:"block",marginBottom:"2rem"},paginationContainer:{display:"flex",justifyContent:"center",paddingTop:"2rem",paddingBottom:"2rem","& .page-item .page-link":{color:"black"},"& .page-item.active .page-link":{backgroundColor:"black",borderColor:"black",color:"white"}}});function Ke(){var e=Object(r.useState)([]),t=Object(f.a)(e,2),n=t[0],a=t[1],s=Object(r.useState)(!1),c=Object(f.a)(s,2),o=c[0],i=c[1],u=b(),p=ze(),m=Object(l.i)().path,x=Object(l.g)(),O=Object(r.useState)(0),y=Object(f.a)(O,2),k=y[0],C=y[1],N=Object(r.useState)(1),S=Object(f.a)(N,2),T=S[0],E=S[1],I=Object(r.useState)(5),$=Object(f.a)(I,2),B=$[0];$[1];return Object(r.useLayoutEffect)((function(){function e(){return(e=Object(j.a)(d.a.mark((function e(t){var n;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ye(t);case 2:n=e.sent,C(n);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function t(){return(t=Object(j.a)(d.a.mark((function e(t,n,r){var s,c,o,l,u,j,p;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ke(t,null,n,r);case 2:s=e.sent,console.log(s),c=[],s.forEach((function(e){return c.push(e.date)})),o=new Set(c),l=[],u=Object(Re.a)(o);try{for(u.s();!(j=u.n()).done;)p=j.value,l.push({date:p,entries:[]})}catch(d){u.e(d)}finally{u.f()}l.forEach((function(e){s.forEach((function(t){e.date===t.date&&e.entries.push(t)})),e.date=new Date(e.date)})),a(l),i(!1);case 13:case"end":return e.stop()}}),e)})))).apply(this,arguments)}i(!0),function(t){e.apply(this,arguments)}(u.user),function(e,n,r){t.apply(this,arguments)}(u.user,B,T)}),[T]),Object(h.jsx)(g.a,{children:o?Object(h.jsxs)("div",{className:p.spinnerContainer,children:[" ",Object(h.jsx)(v.a,{animation:"border",className:p.spinner,role:"status",children:Object(h.jsx)("span",{className:"sr-only",children:"Loading..."})})]}):Object(h.jsxs)("div",{children:[Object(h.jsx)("div",{className:p.paginationContainer,children:Object(h.jsx)(_e,{pages:Math.ceil(k/B),active:T,setActive:E})}),Object(h.jsx)(w.a,{className:p.newEntryButton,variant:"dark",onClick:function(){return x.push({pathname:"Entries/create-entry"})},children:"add a new journal entry"}),n.length>0?n.map((function(e){return Object(h.jsxs)("div",{children:[Object(h.jsx)("div",{className:p.dateContainer,children:Object(h.jsx)("h2",{children:be()(new Date(e.date),"dddd, mmmm dS, yyyy")})}),e.entries.map((function(e){return Object(h.jsx)(Ae.a,{className:p.card,children:Object(h.jsxs)(Ae.a.Body,{children:[Object(h.jsx)(Ae.a.Title,{children:e.title}),Object(h.jsx)(Ae.a.Text,{className:p.cardText,children:(t=e.data,(new DOMParser).parseFromString(t,"text/html").body.textContent||"")}),Object(h.jsx)("div",{className:p.linkContainer,children:Object(h.jsxs)(w.a,{variant:"dark",onClick:function(){x.push({pathname:"".concat(m,"/display-entry"),entry:e,search:"".concat(e._id)})},children:[" ","go to post"]})})]})},e._id);var t}))]})})):Object(h.jsx)("div",{children:Object(h.jsx)("div",{className:p.noEntriesMessageContainer,children:Object(h.jsx)("h1",{children:"No journal entries have been made yet"})})}),Object(h.jsx)("div",{className:p.paginationContainer,children:Object(h.jsx)(_e,{pages:Math.ceil(k/B),active:T,setActive:E})})]})})}var We=Object(O.a)({loadingContainer:{display:"flex",justifyContent:"center","& h1":{paddingTop:"2rem"}}});function He(){var e=b(),t=We();return Object(h.jsxs)(i.a,{children:[console.log("production"),console.log("#####################"),console.log("rendering APP"),Object(h.jsx)(m,{}),Object(h.jsx)("div",{children:e.loading?Object(h.jsxs)("div",{className:t.loadingContainer,children:[console.log("display loading"),Object(h.jsx)("h1",{className:t.loadingText,children:"Loading..."})]}):Object(h.jsxs)("div",{children:[console.log("remove loading"),Object(h.jsx)(ie,{}),Object(h.jsx)(l.b,{exact:!0,path:"/",children:Object(h.jsx)(Z,{})}),Object(h.jsx)(l.b,{path:"/signin",children:e.user?Object(h.jsx)(l.a,{to:{pathname:"/"}}):Object(h.jsx)(re,{})}),Object(h.jsx)(l.b,{path:"/profile",children:e.user?Object(h.jsx)(se,{}):Object(h.jsx)(l.a,{to:{pathname:"/"}})}),Object(h.jsx)(l.b,{path:"/signup",children:e.user?Object(h.jsx)(l.a,{to:{pathname:"/profile"}}):Object(h.jsx)(S,{})}),Object(h.jsx)(l.b,{path:"/allentries",children:e.user?Object(h.jsx)(Ke,{}):Object(h.jsx)(l.a,{to:{pathname:"/signin"}})}),Object(h.jsx)(l.b,{path:"/Calendar",children:Object(h.jsx)(Fe,{})}),Object(h.jsx)(l.b,{path:"/journal",children:e.user?Object(h.jsx)(de,{}):Object(h.jsx)(l.a,{to:{pathname:"/"}})}),Object(h.jsx)(l.b,{path:"/entries/create-entry",children:e.user?Object(h.jsx)(De,{}):Object(h.jsx)(l.a,{to:{pathname:"/"}})}),Object(h.jsx)(l.b,{path:"/entries/display-entry",children:e.user?Object(h.jsx)(Be,{}):Object(h.jsx)(l.a,{to:{pathname:"/"}})})]})})]})}var qe=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,130)).then((function(t){var n=t.getCLS,r=t.getFID,a=t.getFCP,s=t.getLCP,c=t.getTTFB;n(e),r(e),a(e),s(e),c(e)}))};n(105);function Qe(e){var t=function(){var e=Object(r.useState)(""),t=Object(f.a)(e,2),n=t[0],a=t[1],s=Object(r.useState)(!1),c=Object(f.a)(s,2);function o(){return(o=Object(j.a)(d.a.mark((function e(t){var n;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("in userSignIn"),e.next=3,R(t);case 3:if(200!==(n=e.sent).status){e.next=9;break}return console.log("user signin successfull"),console.log("setting user to: "+t.username),a(t.username),e.abrupt("return",!0);case 9:if(403!==n.status){e.next=12;break}return console.log(n.status),e.abrupt("return",!1);case 12:console.log(n);case 13:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function i(){return(i=Object(j.a)(d.a.mark((function e(t,n,r,a){var s,c,o;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return s={username:t,name:n,email:r,hobbies:a},e.next=3,H(s);case 3:if(200!==(c=e.sent).status){e.next=11;break}return e.next=7,c.json();case 7:return o=e.sent,e.abrupt("return",o);case 11:return e.abrupt("return",!1);case 12:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function l(){return(l=Object(j.a)(d.a.mark((function e(t){var n,r;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Q(t);case 2:if(200!==(n=e.sent).status){e.next=11;break}return e.next=6,n.json();case 6:return r=e.sent,console.log(r),e.abrupt("return",r);case 11:return e.abrupt("return",!1);case 12:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function u(){return(u=Object(j.a)(d.a.mark((function e(t,n){var r,s,c;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,_({username:t,password:n});case 2:if(r=e.sent,console.log("useUserProvider signup res:"),console.log(r),200!==r.status){e.next=11;break}return console.log("user signin successfull"),a(t),e.abrupt("return",t);case 11:return e.next=13,r.json();case 13:return s=e.sent,c=s.message,e.abrupt("return",c);case 16:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function p(){return(p=Object(j.a)(d.a.mark((function e(t){var n,r;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("in google sign in"),e.next=3,K(t);case 3:if(n=e.sent,console.log("useUserProvider googleSignIn res:"),console.log(n),200!==n.status){e.next=13;break}return console.log("user signin successfull"),e.next=10,n.json();case 10:return r=e.sent,a(r),e.abrupt("return",!0);case 13:if(!(n.status>400)){e.next=17;break}return console.log(n.status),console.log("unauthorized"),e.abrupt("return",!1);case 17:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function b(){return(b=Object(j.a)(d.a.mark((function e(){var t;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,J();case 2:if(200!==(t=e.sent).status){e.next=7;break}return a(""),console.log("user removed from context"),e.abrupt("return",t);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function h(){return(h=Object(j.a)(d.a.mark((function e(){var t;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,M();case 2:return t=e.sent,console.log("check and refresh returned: "+t),t?(a(t),console.log("setting user in context"+t)):(a(""),console.log("removing user from context")),e.abrupt("return");case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return{user:n,userCheckAndRefreshAuth:function(){return h.apply(this,arguments)},userGoogleSignIn:function(e){return p.apply(this,arguments)},userSignIn:function(e){return o.apply(this,arguments)},userSignOut:function(){return b.apply(this,arguments)},userSignUp:function(e,t){return u.apply(this,arguments)},loading:c[0],setLoading:c[1],userGetDetails:function(e){return l.apply(this,arguments)},userUpdateDetails:function(e,t,n,r){return i.apply(this,arguments)}}}();return Object(h.jsx)(p.Provider,{value:t,children:e.children})}n(109);c.a.render(Object(h.jsx)(a.a.StrictMode,{children:Object(h.jsx)(Qe,{children:Object(h.jsx)(He,{})})}),document.getElementById("root")),qe()}},[[110,1,2]]]);
//# sourceMappingURL=main.b574a1ab.chunk.js.map