{"version":3,"sources":["context/UserContext.js","components/Middleware.js","components/Signup.js","api/config.js","api/authApi.js","img/stockJournal.png","components/Home.js","components/Signin.js","components/Profile.js","components/NavComp.js","components/Journal.js","api/entriesApi.js","components/DisplayEntry.js","components/Editor.js","components/NewEntry.js","components/Entries.js","components/Calendar.js","components/PaginationComponent.js","components/AllEntries.js","App.js","reportWebVitals.js","context/UserProvider.js","state/useUserProvider.js","index.js"],"names":["userContext","React","createContext","useUserContext","useContext","Middleware","props","location","useLocation","useLayoutEffect","a","setLoading","userCheckAndRefreshAuth","checkTokenValidity","pathname","console","log","useStyles","makeStyles","root","form","marginTop","errorMessage","color","spinnerContainer","display","paddingTop","justifyContent","spinner","width","height","Signup","classes","useState","status","errorMessageList","setErrorMessage","loading","useEffect","JSON","stringify","username","password","repeatPassword","formFields","setFormFields","handleChange","e","prev","target","name","value","handleSubmit","preventDefault","errorList","validatePassword","length","messageList","forEach","error","message","push","userSignUp","result","schema","passwordValidator","is","min","max","has","digits","not","spaces","validate","list","Container","className","Spinner","animation","role","Form","onSubmit","Group","controlId","Label","Control","onChange","type","placeholder","map","err","Button","variant","serverUrl","process","checkAuth","formedUrl","fetch","method","credentials","headers","response","refreshAuth","text","data","checkAndRefreshAuth","res","signout","withCredentials","signin","body","signup","googleSignin","accessTokenObj","updateDetails","email","hobbies","getDetails","title","marginBottom","imageContainer","image","marginLeft","signoutButton","borderStyle","backgroundColor","padding","Home","getHome","user","Row","Col","xs","to","ListGroup","Item","onClick","userSignOut","src","journalImg","alt","button","dividerContainer","dividerText","border","borderRadius","background","transform","buttonContainer","googleButton","boxShadow","Signin","remember","userSignIn","responseGoogle","access_token","tokenObj","userGoogleSignIn","Check","label","Alert","clientId","buttonText","onSuccess","onFailure","cookiePolicy","textAlign","row","verticalAlign","fontWeight","Profile","userGetDetails","userUpdateDetails","details","setDetails","event","userGetDetailsWrapper","as","rows","NavComp","Navbar","bg","expand","Brand","Toggle","aria-controls","Collapse","id","Nav","item","fontSize","marginRight","textDecoration","saveEntry","date","entryData","updateEntry","getNumberOfEntries","json","entries","getEntries","amount","order","encodedDate","encodeURIComponent","getEntry","entryId","deleteEntry","titleInput","titleLabel","buttonSave","strip","html","DOMParser","parseFromString","textContent","DisplayEntry","history","useHistory","entry","setEntry","setData","setTitle","editMode","setEditMode","successMessage","setSuccessMessage","deletMessage","setDeleteMessage","displaySuccessMessage","setTimeout","search","slice","getEntryWrapper","updateData","updateEntryWrapper","_id","handleDelete","goBack","htmlFor","disabled","editor","ClassicEditor","onReady","getData","Editor","config","toolbar","inputLabel","inputTitle","NewEntry","displayDate","Date","decodeURI","dateFormat","saveEntryWrapper","createdAt","timezoneOffset","getTimezoneOffset","style","headerContainer","alignItems","linkContainer","card","cardText","whiteSpace","overflow","textOverflow","noEntriesMessageContainer","paddingBottom","Entries","useRouteMatch","isExact","path","url","setEntries","loadEntries","new","Card","Body","Title","Text","calendar","Calendar","onDateChange","onClickDay","toString","PaginationComponent","pages","active","setActive","Pagination","size","items","number","makeItems","dateContainer","newEntryButton","paginationContainer","borderColor","AllEntries","entriesByDate","setEntriesByDate","numberOfEntries","setNumberOfEntries","activePage","setActivePage","entriesPerPage","dates","dateSet","Set","obj","getNumberOfEntriesWrapper","getEntriesWrapper","Math","ceil","loadingContainer","App","loadingText","exact","reportWebVitals","onPerfEntry","Function","then","getCLS","getFID","getFCP","getLCP","getTTFB","UserProvider","userMethods","setUser","useUserProvider","Provider","children","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.b574a1ab.chunk.js","sourcesContent":["import React, { useContext } from \"react\";\r\nconst userContext = React.createContext();\r\nfunction useUserContext() {\r\n  return useContext(userContext);\r\n}\r\nexport { useUserContext, userContext };\r\n","import { useLocation } from \"react-router-dom\";\r\nimport { useLayoutEffect, useState } from \"react\";\r\nimport { useUserContext } from \"../context/UserContext\";\r\n\r\nexport default function Middleware({ props }) {\r\n  const location = useLocation();\r\n\r\n  const userContext = useUserContext();\r\n\r\n  useLayoutEffect(() => {\r\n    async function checkTokenValidity() {\r\n      userContext.setLoading(true);\r\n\r\n      await userContext.userCheckAndRefreshAuth();\r\n      userContext.setLoading(false);\r\n    }\r\n    checkTokenValidity();\r\n  }, [location.pathname]);\r\n\r\n  return <div>{console.log(\"rendering middleware\")}</div>;\r\n}\r\n","import { useState, useEffect } from \"react\";\r\nimport { useUserContext } from \"../context/UserContext\";\r\nimport { useHistory } from \"react-router-dom\";\r\nimport { makeStyles } from \"@material-ui/styles\";\r\nimport { Form, Button, Container, Spinner } from \"react-bootstrap\";\r\nimport passwordValidator from \"password-validator\";\r\n\r\nconst useStyles = makeStyles({\r\n  root: {},\r\n  form: { marginTop: \"2rem\" },\r\n  errorMessage: {\r\n    color: \"red\",\r\n  },\r\n  spinnerContainer: {\r\n    display: \"flex\",\r\n    paddingTop: \"20vh\",\r\n    justifyContent: \"center\",\r\n  },\r\n  spinner: {\r\n    width: \"5rem\",\r\n    height: \"5rem\",\r\n  },\r\n});\r\n\r\nexport default function Signup(props) {\r\n  const userContext = useUserContext();\r\n  const classes = useStyles();\r\n  const [errorMessage, setErrorMessage] = useState({\r\n    status: false,\r\n    errorMessageList: [],\r\n  });\r\n  const [loading, setLoading] = useState(false);\r\n  useEffect(() => {\r\n    console.log(\"logging user context:\" + JSON.stringify(userContext));\r\n  }, [userContext]);\r\n\r\n  const [formFields, setFormFields] = useState({\r\n    username: \"\",\r\n    password: \"\",\r\n    repeatPassword: \"\",\r\n  });\r\n\r\n  const handleChange = (e) => {\r\n    console.log(\"change\");\r\n    setFormFields((prev) => ({ ...prev, [e.target.name]: e.target.value }));\r\n  };\r\n  const handleSubmit = async (e) => {\r\n    console.log(\"submit\");\r\n    e.preventDefault();\r\n    console.log(userContext);\r\n    const { username, password } = formFields;\r\n    const errorList = validatePassword(password);\r\n    console.log(errorList);\r\n\r\n    if (errorList.length > 0) {\r\n      let messageList = [];\r\n\r\n      errorList.forEach((error) => {\r\n        let message;\r\n        if (error === \"min\") message = \"password must be at least 8 characters\";\r\n        if (error === \"max\") message = \"password cannot exceed 100 characters\";\r\n        if (error === \"digits\")\r\n          message = \"password must contain at least one digit\";\r\n        if (error === \"spaces\") message = \"password cannot contain spaces\";\r\n        console.log(message);\r\n        messageList.push(message);\r\n      });\r\n      setErrorMessage({ status: true, errorMessageList: messageList });\r\n    } else {\r\n      setLoading(true);\r\n      const result = await userContext.userSignUp(username, password);\r\n      setLoading(false);\r\n\r\n      if (result !== username) {\r\n        setErrorMessage({ status: true, errorMessageList: [result] });\r\n      }\r\n    }\r\n  };\r\n\r\n  var schema = new passwordValidator();\r\n\r\n  function validatePassword(password) {\r\n    schema\r\n      .is()\r\n      .min(8) // Minimum length 8\r\n      .is()\r\n      .max(100) // Maximum length 100\r\n      .has()\r\n      .digits(1) // Must have at least 2 digits\r\n      .has()\r\n      .not()\r\n      .spaces();\r\n\r\n    return schema.validate(password, { list: true });\r\n  }\r\n\r\n  return (\r\n    <Container>\r\n      {loading ? (\r\n        <div className={classes.spinnerContainer}>\r\n          {\" \"}\r\n          <Spinner animation=\"border\" className={classes.spinner} role=\"status\">\r\n            <span className=\"sr-only\">Loading...</span>\r\n          </Spinner>\r\n        </div>\r\n      ) : (\r\n        <Form className={classes.form} onSubmit={handleSubmit}>\r\n          <Form.Group controlId=\"formBasicEmail\">\r\n            <Form.Label>username</Form.Label>\r\n            <Form.Control\r\n              value={formFields.username}\r\n              onChange={handleChange}\r\n              name=\"username\"\r\n              type=\"text\"\r\n              placeholder=\"Enter email\"\r\n            />\r\n          </Form.Group>\r\n\r\n          <Form.Group controlId=\"formBasicPassword\">\r\n            <Form.Label>password</Form.Label>\r\n            <Form.Control\r\n              value={formFields.password}\r\n              onChange={handleChange}\r\n              name=\"password\"\r\n              type=\"password\"\r\n              placeholder=\"password\"\r\n            />\r\n          </Form.Group>\r\n          <Form.Group controlId=\"formBasicPassword\">\r\n            <Form.Label>repeat password</Form.Label>\r\n            <Form.Control\r\n              value={formFields.password}\r\n              onChange={handleChange}\r\n              name=\"password\"\r\n              type=\"password\"\r\n              placeholder=\"password\"\r\n            />\r\n          </Form.Group>\r\n          {errorMessage.status && (\r\n            <div>\r\n              {errorMessage.errorMessageList.map((err) => (\r\n                <p key={err} className={classes.errorMessage}>\r\n                  {err}\r\n                </p>\r\n              ))}\r\n            </div>\r\n          )}\r\n\r\n          <Button variant=\"primary\" type=\"submit\">\r\n            Submit\r\n          </Button>\r\n        </Form>\r\n      )}\r\n    </Container>\r\n  );\r\n}\r\n","const serverUrl = process.env.REACT_APP_HEROKU_SERVER_URL;\r\n// const serverUrl = process.env.REACT_APP_LOCAL_SERVER_URL;\r\nexport default serverUrl;\r\n","import serverUrl from \"./config\";\r\n\r\nasync function checkAuth() {\r\n  var formedUrl = `${serverUrl}users/auth`;\r\n  console.log(formedUrl);\r\n  console.log(\"checking auth\");\r\n\r\n  const response = await fetch(formedUrl, {\r\n    method: \"GET\",\r\n    credentials: \"include\",\r\n    headers: {\r\n      \"Content-Type\": \"application/json\",\r\n    },\r\n  });\r\n  return response;\r\n}\r\nasync function refreshAuth() {\r\n  const response = await fetch(`${serverUrl}users/refreshToken`, {\r\n    method: \"GET\",\r\n    credentials: \"include\",\r\n    headers: {\r\n      \"Content-Type\": \"application/json\",\r\n    },\r\n  });\r\n  return response;\r\n}\r\nasync function getHome() {\r\n  const response = await fetch(`${serverUrl}`, {\r\n    method: \"GET\",\r\n    credentials: \"include\",\r\n    headers: {\r\n      \"Content-Type\": \"application/json\",\r\n    },\r\n  });\r\n  const data = await response.text();\r\n  console.log(response);\r\n  console.log(response.headers);\r\n  console.log(data);\r\n\r\n  return response;\r\n}\r\n\r\nasync function checkAndRefreshAuth() {\r\n  console.log(\"in check and refresh auth\");\r\n  let res = await checkAuth();\r\n  if (res.status === 200) {\r\n    console.log(\"access token valid\");\r\n    let username = await res.text();\r\n    console.log(\"username: \" + username);\r\n    return username;\r\n  } else if (res.status === 401) {\r\n    console.log(\"access token expired\");\r\n    const message = await res.text();\r\n    console.log(message);\r\n    res = await refreshAuth();\r\n    if (res.status === 200) {\r\n      console.log(\"new access token issued\");\r\n      let res = await checkAuth();\r\n      if (res.status === 200) {\r\n        console.log(\"access token valid\");\r\n        let username = await res.text();\r\n        console.log(\"username: \" + username);\r\n\r\n        return username;\r\n      } else {\r\n        console.log(\"2nd check auth returned \" + res.status);\r\n        let message = await res.text();\r\n        console.log(message);\r\n        return;\r\n      }\r\n    } else {\r\n      return;\r\n    }\r\n  } else {\r\n    let message = await res.text();\r\n    console.log(message);\r\n    return;\r\n  }\r\n}\r\n\r\nasync function signout() {\r\n  const res = await fetch(`${serverUrl}users/signout`, {\r\n    withCredentials: true,\r\n    credentials: \"include\",\r\n  });\r\n  return res;\r\n}\r\n\r\nasync function signin(data) {\r\n  // Default options are marked with *\r\n  const response = await fetch(`${serverUrl}users/signin`, {\r\n    method: \"POST\", // *GET, POST, PUT, DELETE, etc.\r\n    withCredentials: true,\r\n    credentials: \"include\",\r\n    headers: {\r\n      \"Content-Type\": \"application/json\",\r\n      // 'Content-Type': 'application/x-www-form-urlencoded',\r\n    },\r\n\r\n    body: JSON.stringify(data), // body data type must match \"Content-Type\" header\r\n  });\r\n  return response; // parses JSON response into native JavaScript objects\r\n}\r\nasync function signup(data) {\r\n  // Default options are marked with *\r\n  const response = await fetch(`${serverUrl}users/signup`, {\r\n    method: \"POST\", // *GET, POST, PUT, DELETE, etc.\r\n    withCredentials: true,\r\n    credentials: \"include\",\r\n    headers: {\r\n      \"Content-Type\": \"application/json\",\r\n      // 'Content-Type': 'application/x-www-form-urlencoded',\r\n    },\r\n\r\n    body: JSON.stringify(data), // body data type must match \"Content-Type\" header\r\n  });\r\n  console.log(\"authAPI signup response\");\r\n  console.log(response);\r\n\r\n  return response; // parses JSON response into native JavaScript objects\r\n}\r\nasync function googleSignin(accessTokenObj) {\r\n  const res = await fetch(`${serverUrl}users/google/signin`, {\r\n    method: \"POST\",\r\n    withCredentials: true,\r\n    credentials: \"include\",\r\n    headers: {\r\n      \"Content-Type\": \"application/json\",\r\n      // \"Content-Type\": \"application/x-www-form-urlencoded\",\r\n    },\r\n    body: JSON.stringify(accessTokenObj),\r\n    // body: accessToken,\r\n  });\r\n  return res;\r\n}\r\nasync function updateDetails(data) {\r\n  const { username, name, email, hobbies } = data;\r\n  const res = await fetch(`${serverUrl}users/${username}`, {\r\n    // const res = await fetch(`${serverUrl}users/user`, {\r\n    method: \"PATCH\",\r\n    withCredentials: true,\r\n    credentials: \"include\",\r\n    headers: {\r\n      \"Content-Type\": \"application/json\",\r\n      // \"Content-Type\": \"application/x-www-form-urlencoded\",\r\n    },\r\n    body: JSON.stringify({ name, email, hobbies }),\r\n  });\r\n  return res;\r\n}\r\nasync function getDetails(data) {\r\n  const username = data;\r\n  const res = await fetch(`${serverUrl}users/${username}`, {\r\n    method: \"GET\",\r\n    withCredentials: true,\r\n    credentials: \"include\",\r\n    headers: {\r\n      \"Content-Type\": \"application/json\",\r\n      // \"Content-Type\": \"application/x-www-form-urlencoded\",\r\n    },\r\n  });\r\n  return res;\r\n}\r\n\r\nexport {\r\n  getHome,\r\n  checkAuth,\r\n  refreshAuth,\r\n  signin,\r\n  signout,\r\n  signup,\r\n  checkAndRefreshAuth,\r\n  googleSignin,\r\n  updateDetails,\r\n  getDetails,\r\n};\r\n","export default __webpack_public_path__ + \"static/media/stockJournal.16770ff0.png\";","import { useUserContext } from \"../context/UserContext\";\r\nimport { Container, ListGroup, Col, Row } from \"react-bootstrap\";\r\nimport { useEffect } from \"react\";\r\nimport { makeStyles } from \"@material-ui/styles\";\r\nimport { Link } from \"react-router-dom\";\r\nimport { getHome } from \"../api/authApi\";\r\nimport journalImg from \"../img/stockJournal.png\";\r\n\r\nconst useStyles = makeStyles({\r\n  title: {\r\n    marginTop: \"2rem\",\r\n    marginBottom: \"4rem\",\r\n  },\r\n  imageContainer: {\r\n    width: \"50%\",\r\n  },\r\n  image: {\r\n    marginLeft: \"50%\",\r\n    marginTop: \"-10%\",\r\n    width: \"100%\",\r\n  },\r\n  signoutButton: {\r\n    borderStyle: \"none\",\r\n    display: \"inline\",\r\n    backgroundColor: \"inherit\",\r\n    padding: \"0\",\r\n    color: \"dodgerblue\",\r\n  },\r\n});\r\n\r\nexport default function Home() {\r\n  const userContext = useUserContext();\r\n  const classes = useStyles();\r\n\r\n  useEffect(() => {\r\n    getHome();\r\n  });\r\n\r\n  return (\r\n    <Container className={classes.root}>\r\n      {userContext.user ? (\r\n        <>\r\n          <Row>\r\n            <Col xs={6}>\r\n              <h1 className={classes.title}>\r\n                Welcome Back, <Link to=\"/profile\">{userContext.user}</Link>\r\n              </h1>\r\n            </Col>\r\n          </Row>\r\n          <Row>\r\n            <Col xs={6}>\r\n              <ListGroup>\r\n                <ListGroup.Item>\r\n                  <Link to=\"/Journal\">Journal</Link>\r\n                </ListGroup.Item>\r\n\r\n                <ListGroup.Item>\r\n                  <Link to=\"/Profile\">Profile Page</Link>\r\n                </ListGroup.Item>\r\n                <ListGroup.Item>\r\n                  <button\r\n                    className={`${classes.signoutButton} list-group-item`}\r\n                    onClick={() => userContext.userSignOut()}\r\n                  >\r\n                    Signout\r\n                  </button>\r\n                </ListGroup.Item>\r\n              </ListGroup>\r\n            </Col>\r\n            <Col xs={6}>\r\n              <div className={classes.imageContainer}>\r\n                <img className={classes.image} src={journalImg} alt=\"\" />\r\n              </div>\r\n            </Col>\r\n          </Row>\r\n        </>\r\n      ) : (\r\n        <>\r\n          <Row>\r\n            <Col xs={6}>\r\n              <h1 className={classes.title}>Welcome To My Online Journal</h1>\r\n            </Col>\r\n          </Row>\r\n          <Row>\r\n            <Col xs={6}>\r\n              <ListGroup>\r\n                <ListGroup.Item>\r\n                  <Link to=\"/Signup\">create an account</Link>\r\n                </ListGroup.Item>\r\n\r\n                <ListGroup.Item>\r\n                  <Link to=\"/Signin\">Sign in with an existing account</Link>\r\n                </ListGroup.Item>\r\n              </ListGroup>\r\n            </Col>\r\n            <Col xs={6}>\r\n              <div className={classes.imageContainer}>\r\n                <img className={classes.image} src={journalImg} alt=\"\" />\r\n              </div>\r\n            </Col>\r\n          </Row>\r\n        </>\r\n      )}\r\n    </Container>\r\n  );\r\n}\r\n","import { useState, useEffect } from \"react\";\r\nimport { useUserContext } from \"../context/UserContext\";\r\nimport { makeStyles } from \"@material-ui/styles\";\r\nimport { Form, Button, Container, Alert } from \"react-bootstrap\";\r\nimport { GoogleLogin } from \"react-google-login\";\r\n\r\nconst useStyles = makeStyles({\r\n  root: {},\r\n  form: { marginTop: \"2rem\" },\r\n  button: {\r\n    marginBottom: \"2rem\",\r\n  },\r\n  dividerContainer: {\r\n    marginTop: \"4rem\",\r\n  },\r\n  dividerText: {\r\n    marginTop: \"-45px\",\r\n    border: \"2px solid black\",\r\n    display: \"inline-block\",\r\n    borderRadius: \"50%\",\r\n    background: \"white\",\r\n    padding: \"1rem\",\r\n    marginLeft: \"50%\",\r\n    transform: \"translate(-50%,-20%)\",\r\n  },\r\n  buttonContainer: {\r\n    display: \"flex\",\r\n    justifyContent: \"center\",\r\n    marginTop: \"4rem\",\r\n  },\r\n  googleButton: {\r\n    width: \"80%\",\r\n    background: \"red !important\",\r\n    color: \"white\",\r\n    padding: \"1rem\",\r\n    border: \"0px\",\r\n    boxShadow: \"2px 3px 5px black\",\r\n  },\r\n});\r\n\r\nexport default function Signin(props) {\r\n  const userContext = useUserContext();\r\n  const classes = useStyles();\r\n  const [errorMessage, setErrorMessage] = useState(false);\r\n\r\n  useEffect(() => {\r\n    console.log(\"logging user context:\" + JSON.stringify(userContext));\r\n  }, [userContext]);\r\n\r\n  const [formFields, setFormFields] = useState({\r\n    username: \"\",\r\n    password: \"\",\r\n    remember: false,\r\n  });\r\n  const handleCheck = (e) => {\r\n    setFormFields((prev) => ({\r\n      ...prev,\r\n      [e.target.name]: !formFields.remember,\r\n    }));\r\n  };\r\n  const handleChange = (e) => {\r\n    console.log(\"change\");\r\n    setFormFields((prev) => ({ ...prev, [e.target.name]: e.target.value }));\r\n  };\r\n  const handleSubmit = async (e) => {\r\n    e.preventDefault();\r\n    const user = formFields;\r\n    const result = await userContext.userSignIn(user);\r\n    console.log(result);\r\n    if (result === false) {\r\n      setErrorMessage(true);\r\n    }\r\n  };\r\n\r\n  async function responseGoogle(response) {\r\n    try {\r\n      console.log(response);\r\n      // console.log(response.tokenObj[\"access_token\"]);\r\n      const accessTokenObj = { access_token: response.tokenObj.access_token };\r\n      userContext.userGoogleSignIn(accessTokenObj);\r\n    } catch (err) {\r\n      console.log(err);\r\n    }\r\n  }\r\n\r\n  return (\r\n    <Container>\r\n      {console.log(\"rendering sign in\")}\r\n      <h2 className=\"mt-3\">sign in</h2>\r\n      <Form className={classes.form} onSubmit={handleSubmit}>\r\n        <Form.Group controlId=\"formBasicEmail\">\r\n          <Form.Label>username</Form.Label>\r\n          <Form.Control\r\n            value={formFields.username}\r\n            onChange={handleChange}\r\n            name=\"username\"\r\n            type=\"text\"\r\n            placeholder=\"Enter email\"\r\n          />\r\n        </Form.Group>\r\n\r\n        <Form.Group controlId=\"formBasicPassword\">\r\n          <Form.Label>Password</Form.Label>\r\n          <Form.Control\r\n            value={formFields.password}\r\n            onChange={handleChange}\r\n            name=\"password\"\r\n            type=\"password\"\r\n            placeholder=\"Password\"\r\n          />\r\n        </Form.Group>\r\n        <Form.Group controlId=\"formBasicCheckbox\">\r\n          <Form.Check\r\n            name=\"remember\"\r\n            onChange={handleCheck}\r\n            type=\"checkbox\"\r\n            label=\"remember me on this pc\"\r\n          />\r\n        </Form.Group>\r\n\r\n        <Button className={classes.button} variant=\"primary\" type=\"submit\">\r\n          Submit\r\n        </Button>\r\n        {errorMessage && (\r\n          <Alert variant={\"danger\"}>\r\n            Unable to login. Username or password are incorrect\r\n          </Alert>\r\n        )}\r\n      </Form>\r\n      <div className={classes.dividerContainer}>\r\n        <hr></hr>\r\n\r\n        <h1 className={classes.dividerText}>Or</h1>\r\n      </div>\r\n      {/* <div className={classes.buttonContainer}>\r\n        <button onClick={handleClick} className={classes.googleButton}>\r\n          <i class=\"fab fa-google mr-2\"></i>\r\n          <span>connect with google</span>\r\n        </button>\r\n      </div> */}\r\n      <div className={classes.buttonContainer}>\r\n        <GoogleLogin\r\n          // clientId=\"507566462397-llnfhqvlk2g21hsviv4jditq01i9f860.apps.googleusercontent.com\"\r\n          clientId=\"507566462397-vdp1f4lpqml8a4fppi7h5d1sg4fm72h0.apps.googleusercontent.com\" //production\r\n          className={classes.googleButton}\r\n          buttonText=\"Login\"\r\n          onSuccess={responseGoogle}\r\n          onFailure={responseGoogle}\r\n          cookiePolicy={\"single_host_origin\"}\r\n        />\r\n      </div>\r\n    </Container>\r\n  );\r\n}\r\n","import { useHistory } from \"react-router-dom\";\r\nimport { useUserContext } from \"../context/UserContext\";\r\nimport { Container, Form, Row, Col, Button } from \"react-bootstrap\";\r\nimport { makeStyles } from \"@material-ui/styles\";\r\nimport { useLayoutEffect, useState } from \"react\";\r\nimport { Spinner } from \"react-bootstrap\";\r\n\r\nconst useStyles = makeStyles({\r\n  title: {\r\n    padding: \"2rem\",\r\n    textAlign: \"center\",\r\n  },\r\n  row: {\r\n    marginBottom: \"1rem\",\r\n  },\r\n  label: {\r\n    verticalAlign: \"middle\",\r\n    marginBottom: \"0\",\r\n    fontWeight: \"bold\",\r\n  },\r\n  spinnerContainer: {\r\n    display: \"flex\",\r\n    paddingTop: \"20vh\",\r\n    justifyContent: \"center\",\r\n  },\r\n  spinner: {\r\n    width: \"5rem\",\r\n    height: \"5rem\",\r\n  },\r\n  button: { display: \"block\", marginLeft: \"auto\" },\r\n});\r\n\r\nexport default function Profile(props) {\r\n  const userContext = useUserContext();\r\n  const { user, userGetDetails, userUpdateDetails } = userContext;\r\n  const [details, setDetails] = useState({\r\n    name: \"\",\r\n    email: \"\",\r\n    hobbies: \"\",\r\n  });\r\n  const [loading, setLoading] = useState(false);\r\n  const classes = useStyles();\r\n\r\n  useLayoutEffect(() => {\r\n    async function userGetDetailsWrapper() {\r\n      setLoading(true);\r\n      const data = await userGetDetails(user);\r\n      console.log(data);\r\n      const { name, email, hobbies } = data;\r\n      console.log(name, email, hobbies);\r\n      setDetails({ name, email, hobbies });\r\n      setLoading(false);\r\n    }\r\n    userGetDetailsWrapper();\r\n  }, [user]);\r\n\r\n  function onChange(event) {\r\n    setDetails((prev) => ({\r\n      ...prev,\r\n      [event.target.name]: event.target.value,\r\n    }));\r\n  }\r\n  async function handleClick() {\r\n    const { name, hobbies, email } = details;\r\n    setLoading(true);\r\n    const res = await userUpdateDetails(user, name, email, hobbies);\r\n    setLoading(false);\r\n    console.log(res);\r\n  }\r\n\r\n  return (\r\n    <Container>\r\n      {loading ? (\r\n        <div className={classes.spinnerContainer}>\r\n          {\" \"}\r\n          <Spinner animation=\"border\" className={classes.spinner} role=\"status\">\r\n            <span className=\"sr-only\">Loading...</span>\r\n          </Spinner>\r\n        </div>\r\n      ) : (\r\n        <div>\r\n          <h1 className={classes.title}>{user}'s Profile Page</h1>\r\n          <Row className={classes.row}>\r\n            <Col xs={2}>\r\n              <Form.Label className={classes.label}>Email address</Form.Label>\r\n            </Col>\r\n            <Col xs={6}>\r\n              <Form.Control\r\n                onChange={onChange}\r\n                name=\"email\"\r\n                value={details.email}\r\n                type=\"email\"\r\n              />\r\n            </Col>\r\n          </Row>\r\n          <Row className={classes.row}>\r\n            <Col xs={2}>\r\n              <Form.Label className={classes.label}>Name</Form.Label>\r\n            </Col>\r\n            <Col xs={6}>\r\n              <Form.Control\r\n                onChange={onChange}\r\n                name=\"name\"\r\n                value={details.name}\r\n                type=\"text\"\r\n              />\r\n            </Col>\r\n          </Row>\r\n          <Row className={classes.row}>\r\n            <Col xs={2}>\r\n              <Form.Label className={classes.label}>\r\n                Interests and hobbies\r\n              </Form.Label>\r\n            </Col>\r\n            <Col xs={6}>\r\n              <Form.Control\r\n                onChange={onChange}\r\n                name=\"hobbies\"\r\n                value={details.hobbies}\r\n                as=\"textarea\"\r\n                rows={3}\r\n              />\r\n            </Col>\r\n          </Row>\r\n          <Row>\r\n            <Col xs={8}>\r\n              {\" \"}\r\n              <Button\r\n                onClick={handleClick}\r\n                className={classes.button}\r\n                variant=\"dark\"\r\n              >\r\n                save\r\n              </Button>\r\n            </Col>\r\n          </Row>\r\n        </div>\r\n      )}\r\n    </Container>\r\n  );\r\n}\r\n","import { Link } from \"react-router-dom\";\r\nimport { makeStyles } from \"@material-ui/styles\";\r\n\r\nimport { useEffect } from \"react\";\r\nimport { useUserContext } from \"../context/UserContext\";\r\nimport { Navbar, Nav } from \"react-bootstrap\";\r\n\r\nexport default function NavComp(props) {\r\n  const classes = useStyles();\r\n  const userContext = useUserContext();\r\n  useEffect(() => {\r\n    console.log(\"useeffect Navbar\");\r\n  }, [userContext.user]);\r\n\r\n  return (\r\n    <Navbar bg=\"light\" expand=\"sm\">\r\n      {console.log(\"rendering nav\")}\r\n\r\n      <Navbar.Brand>\r\n        <b>My Online Journal</b>\r\n      </Navbar.Brand>\r\n      <Navbar.Toggle aria-controls=\"basic-navbar-nav\" />\r\n      <Navbar.Collapse id=\"basic-navbar-nav\">\r\n        <Nav className=\"mr-auto\">\r\n          <Link className=\"nav-link\" to=\"/\">\r\n            Home\r\n          </Link>\r\n\r\n          {userContext.user ? (\r\n            <>\r\n              <Link className=\"nav-link\" to=\"/Calendar\">\r\n                Calendar\r\n              </Link>\r\n              <Link className=\"nav-link\" to=\"/journal\">\r\n                Journal\r\n              </Link>\r\n              <Link className=\"nav-link\" to=\"/allentries\">\r\n                All Entries\r\n              </Link>\r\n              <Link className=\"nav-link\" to=\"/profile\">\r\n                Profile\r\n              </Link>\r\n              {/* <Link className=\"nav-link\" to=\"/signout\">\r\n                Signout\r\n              </Link> */}\r\n              <button\r\n                className={`${classes.signoutButton} nav-link`}\r\n                onClick={() => userContext.userSignOut()}\r\n              >\r\n                Signout\r\n              </button>\r\n            </>\r\n          ) : (\r\n            <>\r\n              <Link className=\"nav-link\" to=\"/signin\">\r\n                Signin\r\n              </Link>\r\n              <Link className=\"nav-link\" to=\"/signup\">\r\n                Signup\r\n              </Link>\r\n            </>\r\n          )}\r\n        </Nav>\r\n      </Navbar.Collapse>\r\n    </Navbar>\r\n  );\r\n}\r\n\r\nconst useStyles = makeStyles({\r\n  root: {\r\n    background: \"purple\",\r\n\r\n    padding: \"10px\",\r\n  },\r\n  item: {\r\n    fontSize: \"2rem\",\r\n    marginRight: \"1rem\",\r\n    color: \"white\",\r\n    textDecoration: \"none\",\r\n    // \"&:first-child\": {\r\n    //   marginLeft: \"1rem\",\r\n    // },\r\n\r\n    \"&:hover\": {\r\n      color: \"black\",\r\n    },\r\n  },\r\n  signoutButton: {\r\n    borderStyle: \"none\",\r\n    backgroundColor: \"inherit\",\r\n  },\r\n});\r\n","import { Container, ListGroup, Col, Row } from \"react-bootstrap\";\r\nimport { makeStyles } from \"@material-ui/styles\";\r\nimport { Link } from \"react-router-dom\";\r\nimport journalImg from \"../img/stockJournal.png\";\r\n\r\nconst useStyles = makeStyles({\r\n  title: {\r\n    marginTop: \"2rem\",\r\n    marginBottom: \"4rem\",\r\n  },\r\n  imageContainer: {\r\n    width: \"50%\",\r\n  },\r\n  image: {\r\n    marginLeft: \"50%\",\r\n    marginTop: \"-10%\",\r\n    width: \"100%\",\r\n  },\r\n  signoutButton: {\r\n    borderStyle: \"none\",\r\n    display: \"inline\",\r\n    backgroundColor: \"inherit\",\r\n    padding: \"0\",\r\n    color: \"dodgerblue\",\r\n  },\r\n});\r\n\r\nexport default function Home() {\r\n  const classes = useStyles();\r\n\r\n  // if (userContext.userState) {\r\n  //   console.log(userContext.userState);\r\n  // }\r\n\r\n  return (\r\n    <Container className={classes.root}>\r\n      <Row>\r\n        <Col xs={6}>\r\n          <h1 className={classes.title}>\r\n            Add, browse or edit your Journal entries from this page!\r\n          </h1>\r\n        </Col>\r\n      </Row>\r\n      <Row>\r\n        <Col xs={6}>\r\n          <ListGroup>\r\n            <ListGroup.Item>\r\n              <Link to=\"/allentries\">Browse All Entries</Link>\r\n            </ListGroup.Item>\r\n\r\n            <ListGroup.Item>\r\n              <Link to=\"/Calendar\">Browse Entries By Date</Link>\r\n            </ListGroup.Item>\r\n            <ListGroup.Item>\r\n              <Link to=\"/Entries/create-entry\">create a new Entry</Link>\r\n            </ListGroup.Item>\r\n          </ListGroup>\r\n        </Col>\r\n        <Col xs={6}>\r\n          <div className={classes.imageContainer}>\r\n            <img className={classes.image} src={journalImg} alt=\"\" />\r\n          </div>\r\n        </Col>\r\n      </Row>\r\n    </Container>\r\n  );\r\n}\r\n","import serverUrl from \"./config\";\r\n\r\nasync function saveEntry(data, date, title, username) {\r\n  const entryData = { data, date, title, username };\r\n  console.log(\"saving: \", data);\r\n  console.log(data);\r\n  const response = await fetch(`${serverUrl}entries`, {\r\n    method: \"POST\", // *GET, POST, PUT, DELETE, etc.\r\n    withCredentials: true,\r\n    credentials: \"include\",\r\n    headers: {\r\n      \"Content-Type\": \"application/json\",\r\n      // 'Content-Type': 'application/x-www-form-urlencoded',\r\n    },\r\n\r\n    body: JSON.stringify(entryData), // body data type must match \"Content-Type\" header\r\n  });\r\n  return response;\r\n}\r\nasync function updateEntry(id, title, data) {\r\n  const entryData = { title, data };\r\n\r\n  const response = await fetch(`${serverUrl}entries/${id}`, {\r\n    method: \"PUT\", // *GET, POST, PUT, DELETE, etc.\r\n    withCredentials: true,\r\n    credentials: \"include\",\r\n    headers: {\r\n      \"Content-Type\": \"application/json\",\r\n      // 'Content-Type': 'application/x-www-form-urlencoded',\r\n    },\r\n\r\n    body: JSON.stringify(entryData), // body data type must match \"Content-Type\" header\r\n  });\r\n  return response;\r\n}\r\nasync function getNumberOfEntries(username) {\r\n  console.log(\"getting number of entries for \" + username);\r\n  const response = await fetch(\r\n    `${serverUrl}entries/count?username=${username}`,\r\n    {\r\n      method: \"GET\", // *GET, POST, PUT, DELETE, etc.\r\n      withCredentials: true,\r\n      credentials: \"include\",\r\n      headers: {\r\n        \"Content-Type\": \"application/json\",\r\n        // 'Content-Type': 'application/x-www-form-urlencoded',\r\n      },\r\n\r\n      // body data type must match \"Content-Type\" header\r\n    }\r\n  );\r\n  const entries = await response.json();\r\n  return entries;\r\n}\r\n\r\nasync function getEntries(username, date, amount, order) {\r\n  console.log(\"getting entries for \" + username + \" on \" + date);\r\n  const encodedDate = encodeURIComponent(date);\r\n  console.log(encodedDate);\r\n\r\n  const response = await fetch(\r\n    `${serverUrl}entries?date=${encodedDate}&username=${username}&amount=${amount}&order=${order}`,\r\n    {\r\n      method: \"GET\", // *GET, POST, PUT, DELETE, etc.\r\n      withCredentials: true,\r\n      credentials: \"include\",\r\n      headers: {\r\n        \"Content-Type\": \"application/json\",\r\n        // 'Content-Type': 'application/x-www-form-urlencoded',\r\n      },\r\n\r\n      // body data type must match \"Content-Type\" header\r\n    }\r\n  );\r\n  const entries = await response.json();\r\n  return entries;\r\n}\r\nasync function getEntry(entryId) {\r\n  console.log(\"id \" + entryId);\r\n  const response = await fetch(`${serverUrl}entries/${entryId}`, {\r\n    method: \"get\", // *GET, POST, PUT, DELETE, etc.\r\n    withCredentials: true,\r\n    credentials: \"include\",\r\n    headers: {\r\n      \"Content-Type\": \"application/json\",\r\n      // 'Content-Type': 'application/x-www-form-urlencoded',\r\n    },\r\n  });\r\n  const entries = await response.json();\r\n  return entries;\r\n}\r\nasync function deleteEntry(entryId) {\r\n  const res = await fetch(`${serverUrl}entries/${entryId}`, {\r\n    method: \"DELETE\",\r\n    withCredentials: true,\r\n    credentials: \"include\",\r\n    headers: {\r\n      \"Content-Type\": \"application/json\",\r\n      // 'Content-Type': 'application/x-www-form-urlencoded',\r\n    },\r\n  });\r\n\r\n  return res;\r\n}\r\n\r\nexport {\r\n  saveEntry,\r\n  getEntries,\r\n  updateEntry,\r\n  getEntry,\r\n  deleteEntry,\r\n  getNumberOfEntries,\r\n};\r\n","import React, { useState, useEffect } from \"react\";\r\nimport { CKEditor } from \"@ckeditor/ckeditor5-react\";\r\nimport ClassicEditor from \"@ckeditor/ckeditor5-build-classic\";\r\n\r\nimport { useLocation, useHistory } from \"react-router\";\r\nimport { Card, Button, Container } from \"react-bootstrap\";\r\nimport { makeStyles } from \"@material-ui/styles\";\r\nimport {\r\n  getEntry,\r\n  updateEntry,\r\n  saveEntry,\r\n  deleteEntry,\r\n} from \"../api/entriesApi\";\r\nconst useStyles = makeStyles({\r\n  root: {\r\n    paddingTop: \"2rem\",\r\n  },\r\n  titleInput: {\r\n    marginBottom: \"2rem\",\r\n    width: \"100%\",\r\n  },\r\n  titleLabel: {\r\n    fontSize: \"2rem\",\r\n  },\r\n  buttonSave: {\r\n    marginTop: \"2rem\",\r\n    marginRight: \"1rem\",\r\n  },\r\n  message: {\r\n    textAlign: \"center\",\r\n  },\r\n});\r\nfunction strip(html) {\r\n  let doc = new DOMParser().parseFromString(html, \"text/html\");\r\n  return doc.body.textContent || \"\";\r\n}\r\n\r\nexport default function DisplayEntry(props) {\r\n  const location = useLocation();\r\n  const history = useHistory();\r\n  const [entry, setEntry] = useState(location.entry);\r\n  const [data, setData] = useState(\"\");\r\n  const [title, setTitle] = useState(\"\");\r\n  const [editMode, setEditMode] = useState(false);\r\n  const [successMessage, setSuccessMessage] = useState(false);\r\n  const [deletMessage, setDeleteMessage] = useState(false);\r\n  const classes = useStyles();\r\n\r\n  //   useEffect(() => {\r\n  //     async function getEntryWrapper() {\r\n  //       const entryId = location.search.slice(1);\r\n  //       const res = await getEntry(entryId);\r\n  //       console.log(\"entry res \" + res);\r\n  //       setEntry(res);\r\n  //       setData(res.data);\r\n  //     }\r\n  //     if (!entry) {\r\n  //       console.log(\"noEntry\");\r\n  //       getEntryWrapper();\r\n  //     }\r\n  //   }, []);\r\n  useEffect(() => {\r\n    async function getEntryWrapper() {\r\n      if (!entry) {\r\n        console.log(\"No entry\");\r\n        const entryId = location.search.slice(1);\r\n        const res = await getEntry(entryId);\r\n        console.log(\"entry res \" + res);\r\n        setEntry(res);\r\n        setData(res.data);\r\n        setTitle(res.title);\r\n      } else if (!data) {\r\n        console.log(\"No data\");\r\n        setData(entry.data);\r\n        setTitle(entry.title);\r\n      }\r\n    }\r\n\r\n    if (!entry || !data) {\r\n      getEntryWrapper();\r\n    }\r\n  }, []);\r\n\r\n  function displaySuccessMessage() {\r\n    setSuccessMessage(true);\r\n    setTimeout(() => setSuccessMessage(false), 1000);\r\n  }\r\n  function displayDeleteMessage() {\r\n    setDeleteMessage(true);\r\n\r\n    setTimeout(() => {\r\n      setDeleteMessage(false);\r\n      history.goBack();\r\n    }, 1000);\r\n  }\r\n\r\n  const handleSubmit = async () => {\r\n    async function updateEntryWrapper(updateData) {\r\n      const { entryId, title, data } = updateData;\r\n      console.log(\"id \" + entryId);\r\n      console.log(\"data \" + data);\r\n      console.log(\"title \" + title);\r\n      const res = await updateEntry(entryId, title, data);\r\n      setEditMode(false);\r\n      console.log(res);\r\n      displaySuccessMessage();\r\n    }\r\n    updateEntryWrapper({ data, title, entryId: entry._id });\r\n  };\r\n\r\n  const handleDelete = async (event) => {\r\n    const entryId = entry._id;\r\n    const res = await deleteEntry(entryId);\r\n    displayDeleteMessage();\r\n  };\r\n\r\n  return (\r\n    <Container className={classes.root}>\r\n      {successMessage ? (\r\n        <h1 className={classes.message}>post has been updated</h1>\r\n      ) : (\r\n        <>\r\n          {deletMessage ? (\r\n            <h1 className={classes.message}>post has been deleted</h1>\r\n          ) : (\r\n            <div>\r\n              {editMode ? (\r\n                <div>\r\n                  <label htmlFor=\"titleInput\" className={classes.titleLabel}>\r\n                    Title\r\n                  </label>\r\n                  <input\r\n                    id=\"titleInput\"\r\n                    type=\"text\"\r\n                    value={title}\r\n                    className={classes.titleInput}\r\n                    onChange={(event) => setTitle(event.target.value)}\r\n                    disabled={!editMode}\r\n                  />\r\n\r\n                  <CKEditor\r\n                    editor={ClassicEditor}\r\n                    data={data}\r\n                    onReady={(editor) => {\r\n                      // You can store the \"editor\" and use when it is needed.\r\n                      console.log(\"Editor is ready to use!\", editor);\r\n                    }}\r\n                    onChange={(event, editor) => setData(editor.getData())}\r\n                    disabled={!editMode}\r\n                  />\r\n                  <Button\r\n                    variant={\"dark mt-2\"}\r\n                    className={classes.buttonSave}\r\n                    onClick={() => handleSubmit()}\r\n                  >\r\n                    save changes{\" \"}\r\n                  </Button>\r\n                </div>\r\n              ) : (\r\n                <>\r\n                  <h1>{strip(title)}</h1>\r\n                  <p>{strip(data)}</p>\r\n                  <Button\r\n                    variant={\"dark\"}\r\n                    className={classes.buttonSave}\r\n                    onClick={() => setEditMode(!editMode)}\r\n                  >\r\n                    edit post{\" \"}\r\n                  </Button>\r\n                  <Button\r\n                    variant={\"dark\"}\r\n                    className={classes.buttonSave}\r\n                    name={\"deleteButton\"}\r\n                    onClick={(event) => handleDelete(event)}\r\n                  >\r\n                    delete post{\" \"}\r\n                  </Button>\r\n                </>\r\n              )}\r\n            </div>\r\n          )}\r\n        </>\r\n      )}\r\n    </Container>\r\n  );\r\n}\r\n","import React, { useState, useEffect } from \"react\";\r\nimport { CKEditor } from \"@ckeditor/ckeditor5-react\";\r\nimport ClassicEditor from \"@ckeditor/ckeditor5-build-classic\";\r\n\r\nexport default function Editor(props) {\r\n  const [editMode] = useState(true);\r\n  const { data, setData } = props;\r\n\r\n  useEffect(() => {\r\n    console.log(\"useEffect editor with data: \" + data);\r\n  }, [data]);\r\n\r\n  return (\r\n    <div className=\"root\">\r\n      {console.log(\"rendering editor with data: \" + data)}\r\n      {editMode ? (\r\n        <CKEditor\r\n          editor={ClassicEditor}\r\n          data={data}\r\n          onReady={(editor) => {\r\n            // You can store the \"editor\" and use when it is needed.\r\n            console.log(\"Editor is ready to use!\", editor);\r\n          }}\r\n          onChange={(event, editor) => setData(editor.getData())}\r\n          disabled={false}\r\n        />\r\n      ) : (\r\n        <CKEditor\r\n          config={{ toolbar: [] }}\r\n          editor={ClassicEditor}\r\n          data={data}\r\n          onReady={(editor) => {\r\n            // You can store the \"editor\" and use when it is needed.\r\n            console.log(\"Editor is ready to use!\", editor);\r\n          }}\r\n          disabled={true}\r\n        />\r\n      )}\r\n    </div>\r\n  );\r\n}\r\n","import React, { useState, useEffect } from \"react\";\r\nimport Editor from \"./Editor\";\r\nimport { useUserContext } from \"../context/UserContext\";\r\nimport dateFormat from \"dateformat\";\r\nimport { useLocation, useHistory } from \"react-router\";\r\nimport { Link } from \"react-router-dom\";\r\nimport { Card, Button, Container } from \"react-bootstrap\";\r\nimport { makeStyles } from \"@material-ui/styles\";\r\nimport { getEntry, updateEntry, saveEntry } from \"../api/entriesApi\";\r\n\r\nconst useStyles = makeStyles({\r\n  root: {\r\n    paddingTop: \"2rem\",\r\n  },\r\n  inputLabel: {\r\n    fontSize: \"2rem\",\r\n    marginTop: \"2rem\",\r\n    display: \"block\",\r\n  },\r\n  inputTitle: {\r\n    width: \"100%\",\r\n    marginBottom: \"2rem\",\r\n  },\r\n  message: {\r\n    textAlign: \"center\",\r\n  },\r\n});\r\n\r\nexport default function NewEntry(props) {\r\n  const location = useLocation();\r\n  const history = useHistory();\r\n  const [data, setData] = useState();\r\n  const [title, setTitle] = useState(\"\");\r\n  const [successMessage, setSuccessMessage] = useState(false);\r\n  const userContext = useUserContext();\r\n  const username = userContext.user;\r\n  const classes = useStyles();\r\n  var date = location.search.slice(1);\r\n\r\n  var displayDate;\r\n  try {\r\n    if (!date) {\r\n      date = new Date();\r\n    }\r\n    date = decodeURI(date);\r\n    displayDate = dateFormat(date, \"dddd dd mmmm yyyy\");\r\n  } catch (err) {\r\n    console.log(location.search.slice(1));\r\n    console.log(err);\r\n  }\r\n\r\n  const handleSubmit = async (data) => {\r\n    const createdAt = new Date();\r\n    const timezoneOffset = createdAt.getTimezoneOffset();\r\n\r\n    const entryData = {\r\n      date,\r\n      username,\r\n      title,\r\n      data,\r\n      createdAt,\r\n      timezoneOffset,\r\n    };\r\n    async function saveEntryWrapper(entryData) {\r\n      const res = await saveEntry(entryData);\r\n      if (res.status === 200) {\r\n        setSuccessMessage(true);\r\n        setTimeout(() => history.goBack(), 1000);\r\n      }\r\n    }\r\n    saveEntryWrapper(entryData);\r\n  };\r\n\r\n  return (\r\n    <Container className={classes.root}>\r\n      {successMessage ? (\r\n        <h1 className={classes.message}>Post successfull</h1>\r\n      ) : (\r\n        <div>\r\n          {console.log(location.search.slice(1))}\r\n          {console.log(date)}\r\n          <h1>\r\n            {displayDate}\r\n            <span style={{ fontSize: \"1.2rem\" }}>\r\n              <Link to=\"/Calendar\"> pick a different date</Link>\r\n            </span>\r\n          </h1>\r\n          <h3>Create a new Entry</h3>\r\n          <label htmlFor=\"titleInput\" className={classes.inputLabel}>\r\n            title\r\n          </label>\r\n          <input\r\n            id=\"titleInput\"\r\n            value={title}\r\n            onChange={(event) => setTitle(event.target.value)}\r\n            className={classes.inputTitle}\r\n          ></input>\r\n          <Editor\r\n            handleSubmit={handleSubmit}\r\n            data={data}\r\n            setData={(data) => setData(data)}\r\n          />\r\n          <Button\r\n            variant=\"dark mt-2\"\r\n            className={classes.buttonSave}\r\n            onClick={() => handleSubmit(data)}\r\n          >\r\n            save new entry\r\n          </Button>\r\n        </div>\r\n      )}\r\n    </Container>\r\n  );\r\n}\r\n","import React, { useState, useLayoutEffect } from \"react\";\r\nimport dateFormat from \"dateformat\";\r\nimport {\r\n  Link,\r\n  useHistory,\r\n  useRouteMatch,\r\n  Switch,\r\n  Route,\r\n  useLocation,\r\n} from \"react-router-dom\";\r\nimport DisplayEntry from \"./DisplayEntry\";\r\nimport NewEntry from \"./NewEntry\";\r\nimport { useUserContext } from \"../context/UserContext\";\r\nimport { getEntries } from \"../api/entriesApi\";\r\nimport { Card, Button, Container, Spinner } from \"react-bootstrap\";\r\nimport { makeStyles } from \"@material-ui/styles\";\r\n\r\nconst useStyles = makeStyles({\r\n  headerContainer: {\r\n    display: \"flex\",\r\n    justifyContent: \"space-between\",\r\n    alignItems: \"center\",\r\n    marginTop: \"2rem\",\r\n  },\r\n  linkContainer: { textAlign: \"end\" },\r\n  card: { marginTop: \"2rem\" },\r\n  cardText: {\r\n    whiteSpace: \"nowrap\",\r\n    overflow: \"hidden\",\r\n    textOverflow: \"ellipsis\",\r\n  },\r\n  spinnerContainer: {\r\n    display: \"flex\",\r\n    paddingTop: \"20vh\",\r\n    justifyContent: \"center\",\r\n  },\r\n  spinner: {\r\n    width: \"5rem\",\r\n    height: \"5rem\",\r\n  },\r\n\r\n  noEntriesMessageContainer: {\r\n    display: \"flex\",\r\n    justifyContent: \"center\",\r\n    paddingTop: \"4rem\",\r\n    border: \"2px solid black\",\r\n    marginTop: \"6rem\",\r\n    paddingBottom: \"4rem\",\r\n    alignItems: \"center\",\r\n    background: \"lightsteelblue\",\r\n    borderRadius: \"5px\",\r\n  },\r\n});\r\n\r\nfunction strip(html) {\r\n  let doc = new DOMParser().parseFromString(html, \"text/html\");\r\n  return doc.body.textContent || \"\";\r\n}\r\n\r\nexport default function Entries(props) {\r\n  const { path, url, isExact } = useRouteMatch();\r\n  const history = useHistory();\r\n  const location = useLocation();\r\n  const [loading, setLoading] = useState(false);\r\n  var date = location.search.slice(1);\r\n  var displayDate;\r\n\r\n  try {\r\n    console.log(\"date received as: \" + date);\r\n    date = decodeURI(date);\r\n    console.log(\"date decoded to: \" + date);\r\n    displayDate = dateFormat(date, \"dddd dd mmmm yyyy\");\r\n    console.log(\"display date formatted as: \" + displayDate);\r\n  } catch (err) {\r\n    console.log(\"date format incorrect\");\r\n  }\r\n\r\n  // const { date } = location.date;\r\n\r\n  const userContext = useUserContext();\r\n  const [entries, setEntries] = useState([]);\r\n  const classes = useStyles();\r\n\r\n  useLayoutEffect(() => {\r\n    console.log(\"use effect entries\");\r\n    async function loadEntries() {\r\n      setLoading(true);\r\n      console.log(\"retrieving for date: \", date);\r\n      console.log(\"$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$\");\r\n      const entries = await getEntries(userContext.user, date);\r\n      setLoading(false);\r\n\r\n      setEntries(entries);\r\n    }\r\n    if (isExact) {\r\n      console.log(\"loading entries\");\r\n      try {\r\n        loadEntries();\r\n      } catch (err) {\r\n        console.log(err);\r\n      }\r\n    }\r\n  }, []);\r\n\r\n  return (\r\n    <Container>\r\n      {console.log(\"entries root\")}\r\n\r\n      <div className={classes.headerContainer}>\r\n        <h1 className={classes.title}>\r\n          <em>\r\n            <i>{displayDate}</i>\r\n          </em>\r\n        </h1>\r\n        <Link\r\n          to={{\r\n            pathname: `/entries/create-entry`,\r\n            new: true,\r\n            search: date,\r\n          }}\r\n        >\r\n          <Button variant=\"dark\">create new entry</Button>\r\n        </Link>{\" \"}\r\n      </div>\r\n\r\n      {loading ? (\r\n        <div className={classes.spinnerContainer}>\r\n          {\" \"}\r\n          <Spinner animation=\"border\" className={classes.spinner} role=\"status\">\r\n            <span className=\"sr-only\">Loading...</span>\r\n          </Spinner>\r\n        </div>\r\n      ) : entries.length > 0 ? (\r\n        entries.map((entry, id) => (\r\n          <Card key={id} className={classes.card}>\r\n            <Card.Body>\r\n              <Card.Title>{entry.title} </Card.Title>\r\n              <Card.Text className={classes.cardText}>\r\n                {strip(entry.data)}\r\n              </Card.Text>\r\n              <div className={classes.linkContainer}>\r\n                <Button\r\n                  variant=\"dark\"\r\n                  onClick={() => {\r\n                    history.push({\r\n                      pathname: `/entries/display-entry`,\r\n                      entry: entry,\r\n                      search: `${entry._id}`,\r\n                      // search: `testentry`,\r\n                    });\r\n                  }}\r\n                >\r\n                  {\" \"}\r\n                  go to entry\r\n                </Button>\r\n              </div>\r\n            </Card.Body>\r\n          </Card>\r\n        ))\r\n      ) : (\r\n        <div className={classes.noEntriesMessageContainer}>\r\n          <h1>No entries made on this date</h1>\r\n        </div>\r\n      )}\r\n    </Container>\r\n  );\r\n}\r\n","import React, { useState } from \"react\";\r\nimport ReactCalendar from \"react-calendar\";\r\nimport { Container } from \"react-bootstrap\";\r\n// import \"./Calendar.css\";\r\nimport \"react-calendar/dist/Calendar.css\";\r\n\r\nimport {\r\n  useRouteMatch,\r\n  useLocation,\r\n  Route,\r\n  Switch,\r\n  useHistory,\r\n} from \"react-router-dom\";\r\nimport Entries from \"./Entries\";\r\nimport { makeStyles } from \"@material-ui/styles\";\r\n\r\nconst useStyles = makeStyles({\r\n  calendar: {\r\n    marginTop: \"2rem\",\r\n    width: \"100%\",\r\n    \"& .react-calendar__tile--active\": {\r\n      background: \"black\",\r\n    },\r\n  },\r\n\r\n  button: { border: \" 5px solid gray\" },\r\n});\r\n\r\nexport default function Calendar() {\r\n  const [date, onDateChange] = useState(new Date());\r\n  const { path, url } = useRouteMatch();\r\n  const location = useLocation();\r\n  const history = useHistory();\r\n  // const path = location.pathname;\r\n  const classes = useStyles();\r\n\r\n  return (\r\n    <Switch>\r\n      {console.log(\"rendering calendar\")}\r\n      <Route path={`${path}/Entries`}>\r\n        <Entries />\r\n      </Route>\r\n      <Route path={`${path}`}>\r\n        <Container>\r\n          <ReactCalendar\r\n            className={classes.calendar}\r\n            onChange={onDateChange}\r\n            value={date}\r\n            onClickDay={(date) => {\r\n              history.push({\r\n                pathname: `${path}/Entries`,\r\n                // search: `?query=${date}`,\r\n                // search: `${dateFormat(date, \"dd-mm-yyyy\")}`,\r\n                search: date.toString(),\r\n              });\r\n            }}\r\n            // history.push(`${path}/Entries`)\r\n          />\r\n        </Container>\r\n\r\n        {/* <Link to={`${url}/Entries`}>go to entries</Link>{\" \"} */}\r\n      </Route>\r\n    </Switch>\r\n  );\r\n}\r\n","import React, { useState } from \"react\";\r\nimport { Pagination } from \"react-bootstrap\";\r\n\r\nexport default function PaginationComponent(props) {\r\n  const { pages, active, setActive } = props;\r\n\r\n  function makeItems() {\r\n    let items = [];\r\n    for (let number = 1; number <= pages; number++) {\r\n      items.push(\r\n        <Pagination.Item\r\n          key={number}\r\n          onClick={() => setActive(number)}\r\n          active={number === active}\r\n        >\r\n          {number}\r\n        </Pagination.Item>\r\n      );\r\n    }\r\n    return items;\r\n  }\r\n\r\n  return (\r\n    <div>\r\n      <Pagination variant=\"dark\" size=\"lg\">\r\n        {makeItems().map((item) => item)}\r\n      </Pagination>\r\n    </div>\r\n  );\r\n}\r\n","import React, { useState, useLayoutEffect } from \"react\";\r\nimport { getEntries, getNumberOfEntries } from \"../api/entriesApi\";\r\nimport { useUserContext } from \"../context/UserContext\";\r\nimport { Card, Spinner, Container, Button } from \"react-bootstrap\";\r\nimport { makeStyles } from \"@material-ui/styles\";\r\nimport { useHistory, useRouteMatch } from \"react-router-dom\";\r\nimport dateFormat from \"dateformat\";\r\nimport PaginationComponent from \"./PaginationComponent\";\r\n\r\nconst useStyles = makeStyles({\r\n  headerContainer: {\r\n    display: \"flex\",\r\n    justifyContent: \"space-between\",\r\n    alignItems: \"center\",\r\n    marginTop: \"2rem\",\r\n  },\r\n  linkContainer: { textAlign: \"end\" },\r\n  card: { marginBottom: \"2rem\" },\r\n  cardText: {\r\n    whiteSpace: \"nowrap\",\r\n    overflow: \"hidden\",\r\n    textOverflow: \"ellipsis\",\r\n  },\r\n  spinnerContainer: {\r\n    display: \"flex\",\r\n    paddingTop: \"20vh\",\r\n    justifyContent: \"center\",\r\n  },\r\n  spinner: {\r\n    width: \"5rem\",\r\n    height: \"5rem\",\r\n  },\r\n\r\n  noEntriesMessageContainer: {\r\n    display: \"flex\",\r\n    justifyContent: \"center\",\r\n    paddingTop: \"4rem\",\r\n    border: \"2px solid black\",\r\n    marginTop: \"6rem\",\r\n    paddingBottom: \"4rem\",\r\n    alignItems: \"center\",\r\n    background: \"lightsteelblue\",\r\n    borderRadius: \"5px\",\r\n  },\r\n  dateContainer: {\r\n    backgroundColor: \"black\",\r\n    color: \"white\",\r\n  },\r\n  newEntryButton: {\r\n    display: \"block\",\r\n\r\n    marginBottom: \"2rem\",\r\n  },\r\n  paginationContainer: {\r\n    display: \"flex\",\r\n    justifyContent: \"center\",\r\n    paddingTop: \"2rem\",\r\n    paddingBottom: \"2rem\",\r\n\r\n    \"& .page-item .page-link\": {\r\n      color: \"black\",\r\n    },\r\n    \"& .page-item.active .page-link\": {\r\n      backgroundColor: \"black\",\r\n      borderColor: \"black\",\r\n      color: \"white\",\r\n    },\r\n  },\r\n});\r\nfunction strip(html) {\r\n  let doc = new DOMParser().parseFromString(html, \"text/html\");\r\n  return doc.body.textContent || \"\";\r\n}\r\n\r\nexport default function AllEntries() {\r\n  const [entriesByDate, setEntriesByDate] = useState([]);\r\n  const [loading, setLoading] = useState(false);\r\n  const userContext = useUserContext();\r\n  const classes = useStyles();\r\n  const { path } = useRouteMatch();\r\n  const history = useHistory();\r\n  const [numberOfEntries, setNumberOfEntries] = useState(0);\r\n  const [activePage, setActivePage] = useState(1);\r\n  const [entriesPerPage, setEntriesPerPage] = useState(5);\r\n\r\n  useLayoutEffect(() => {\r\n    setLoading(true);\r\n\r\n    async function getNumberOfEntriesWrapper(user) {\r\n      const res = await getNumberOfEntries(user);\r\n      setNumberOfEntries(res);\r\n    }\r\n    async function getEntriesWrapper(user, entriesPerPage, activePage) {\r\n      const res = await getEntries(user, null, entriesPerPage, activePage);\r\n      console.log(res);\r\n      var dates = [];\r\n      res.forEach((entry) => dates.push(entry.date));\r\n      var dateSet = new Set(dates);\r\n      // var entriesByDate = [{ date: \"\", entries: [{}] }];\r\n      var entriesByDate = [];\r\n      for (let date of dateSet) {\r\n        entriesByDate.push({ date, entries: [] });\r\n      }\r\n      entriesByDate.forEach((obj) => {\r\n        res.forEach((entry) => {\r\n          if (obj.date === entry.date) {\r\n            obj.entries.push(entry);\r\n          }\r\n        });\r\n        obj.date = new Date(obj.date);\r\n      });\r\n      setEntriesByDate(entriesByDate);\r\n      setLoading(false);\r\n    }\r\n\r\n    // setEntries(res);\r\n    // setLoading(false);\r\n    getNumberOfEntriesWrapper(userContext.user);\r\n    getEntriesWrapper(userContext.user, entriesPerPage, activePage);\r\n  }, [activePage]);\r\n\r\n  return (\r\n    <Container>\r\n      {loading ? (\r\n        <div className={classes.spinnerContainer}>\r\n          {\" \"}\r\n          <Spinner animation=\"border\" className={classes.spinner} role=\"status\">\r\n            <span className=\"sr-only\">Loading...</span>\r\n          </Spinner>\r\n        </div>\r\n      ) : (\r\n        <div>\r\n          <div className={classes.paginationContainer}>\r\n            <PaginationComponent\r\n              pages={Math.ceil(numberOfEntries / entriesPerPage)}\r\n              active={activePage}\r\n              setActive={setActivePage}\r\n            />\r\n          </div>\r\n          <Button\r\n            className={classes.newEntryButton}\r\n            variant=\"dark\"\r\n            onClick={() => history.push({ pathname: `Entries/create-entry` })}\r\n          >\r\n            add a new journal entry\r\n          </Button>\r\n          {entriesByDate.length > 0 ? (\r\n            entriesByDate.map((obj) => (\r\n              <div>\r\n                <div className={classes.dateContainer}>\r\n                  <h2>\r\n                    {dateFormat(new Date(obj.date), \"dddd, mmmm dS, yyyy\")}\r\n                  </h2>\r\n                </div>\r\n\r\n                {obj.entries.map((entry) => (\r\n                  <Card key={entry._id} className={classes.card}>\r\n                    <Card.Body>\r\n                      <Card.Title>{entry.title}</Card.Title>\r\n                      <Card.Text className={classes.cardText}>\r\n                        {strip(entry.data)}\r\n                      </Card.Text>\r\n                      <div className={classes.linkContainer}>\r\n                        <Button\r\n                          variant=\"dark\"\r\n                          onClick={() => {\r\n                            history.push({\r\n                              pathname: `${path}/display-entry`,\r\n                              entry: entry,\r\n                              search: `${entry._id}`,\r\n                              // search: `testentry`,\r\n                            });\r\n                          }}\r\n                        >\r\n                          {\" \"}\r\n                          go to post\r\n                        </Button>\r\n                      </div>\r\n                    </Card.Body>\r\n                  </Card>\r\n                ))}\r\n              </div>\r\n            ))\r\n          ) : (\r\n            <div>\r\n              <div className={classes.noEntriesMessageContainer}>\r\n                <h1>No journal entries have been made yet</h1>\r\n              </div>\r\n            </div>\r\n          )}\r\n\r\n          <div className={classes.paginationContainer}>\r\n            <PaginationComponent\r\n              pages={Math.ceil(numberOfEntries / entriesPerPage)}\r\n              active={activePage}\r\n              setActive={setActivePage}\r\n            />\r\n          </div>\r\n        </div>\r\n      )}\r\n    </Container>\r\n  );\r\n}\r\n","import React from \"react\";\nimport { BrowserRouter, Redirect, Route } from \"react-router-dom\";\n\nimport Middleware from \"./components/Middleware\";\nimport Signup from \"./components/Signup\";\nimport Home from \"./components/Home\";\nimport Signin from \"./components/Signin\";\nimport Signout from \"./components/Signout\";\nimport Profile from \"./components/Profile\";\nimport NavComp from \"./components/NavComp\";\nimport Journal from \"./components/Journal\";\n\nimport Calendar from \"./components/Calendar\";\nimport { useUserContext } from \"./context/UserContext\";\nimport { makeStyles } from \"@material-ui/styles\";\nimport AllEntries from \"./components/AllEntries\";\nimport NewEntry from \"./components/NewEntry\";\nimport DisplayEntry from \"./components/DisplayEntry\";\n\nconst useStyles = makeStyles({\n  loadingContainer: {\n    display: \"flex\",\n    justifyContent: \"center\",\n\n    \"& h1\": {\n      paddingTop: \"2rem\",\n    },\n  },\n});\nexport default function App() {\n  const userContext = useUserContext();\n  const classes = useStyles();\n\n  return (\n    <BrowserRouter>\n      {console.log(process.env.NODE_ENV)}\n      {console.log(\"#####################\")}\n\n      {console.log(\"rendering APP\")}\n      <Middleware />\n      <div>\n        {userContext.loading ? (\n          <div className={classes.loadingContainer}>\n            {console.log(\"display loading\")}\n            <h1 className={classes.loadingText}>Loading...</h1>\n          </div>\n        ) : (\n          <div>\n            {console.log(\"remove loading\")}\n            <NavComp />\n\n            <Route exact path=\"/\">\n              <Home />\n            </Route>\n\n            {/* <PrivateRoute path=\"/signin\">\n              <Signin />\n            </PrivateRoute> */}\n            <Route path=\"/signin\">\n              {!userContext.user ? (\n                <Signin />\n              ) : (\n                <Redirect\n                  to={{\n                    pathname: \"/\",\n                  }}\n                />\n              )}\n            </Route>\n\n            <Route path=\"/profile\">\n              {userContext.user ? (\n                <Profile />\n              ) : (\n                <Redirect\n                  to={{\n                    pathname: \"/\",\n                  }}\n                />\n              )}\n            </Route>\n            <Route path=\"/signup\">\n              {!userContext.user ? (\n                <Signup />\n              ) : (\n                <Redirect\n                  to={{\n                    pathname: \"/profile\",\n                  }}\n                />\n              )}\n            </Route>\n            <Route path=\"/allentries\">\n              {userContext.user ? (\n                <AllEntries />\n              ) : (\n                <Redirect\n                  to={{\n                    pathname: \"/signin\",\n                  }}\n                />\n              )}\n            </Route>\n            <Route path=\"/Calendar\">\n              <Calendar />\n            </Route>\n            <Route path=\"/journal\">\n              {userContext.user ? (\n                <Journal />\n              ) : (\n                <Redirect\n                  to={{\n                    pathname: \"/\",\n                  }}\n                />\n              )}\n            </Route>\n            <Route path=\"/entries/create-entry\">\n              {userContext.user ? (\n                <NewEntry />\n              ) : (\n                <Redirect\n                  to={{\n                    pathname: \"/\",\n                  }}\n                />\n              )}\n            </Route>\n            <Route path=\"/entries/display-entry\">\n              {userContext.user ? (\n                <DisplayEntry />\n              ) : (\n                <Redirect\n                  to={{\n                    pathname: \"/\",\n                  }}\n                />\n              )}\n            </Route>\n          </div>\n        )}\n      </div>\n    </BrowserRouter>\n  );\n}\nfunction PrivateRoute({ children, ...rest }) {\n  let auth = useUserContext();\n  return (\n    <Route\n      {...rest}\n      render={({ location }) =>\n        !auth.user ? (\n          children\n        ) : (\n          <Redirect\n            to={{\n              pathname: \"/profile\",\n              state: { from: location },\n            }}\n          />\n        )\n      }\n    />\n  );\n}\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import { userContext } from \"./UserContext\";\r\nimport useUserProvider from \"../state/useUserProvider\";\r\n\r\nexport default function UserProvider(props) {\r\n  const userMethods = useUserProvider();\r\n  return (\r\n    <userContext.Provider value={userMethods}>\r\n      {props.children}\r\n    </userContext.Provider>\r\n  );\r\n}\r\n","import {\r\n  signin,\r\n  checkAndRefreshAuth,\r\n  signout,\r\n  signup,\r\n  googleSignin,\r\n  updateDetails,\r\n  getDetails,\r\n} from \"../api/authApi\";\r\nimport { useState } from \"react\";\r\nimport { trackPromise } from \"react-promise-tracker\";\r\n\r\nexport default function useUserProvider() {\r\n  const [user, setUser] = useState(\"\");\r\n  const [loading, setLoading] = useState(false);\r\n\r\n  async function userSignIn(user) {\r\n    console.log(\"in userSignIn\");\r\n    const res = await signin(user);\r\n    if (res.status === 200) {\r\n      console.log(\"user signin successfull\");\r\n      console.log(\"setting user to: \" + user.username);\r\n      setUser(user.username);\r\n      return true;\r\n    }\r\n    if (res.status === 403) {\r\n      console.log(res.status);\r\n      return false;\r\n    }\r\n\r\n    console.log(res);\r\n  }\r\n  async function userUpdateDetails(username, name, email, hobbies) {\r\n    const data = { username, name, email, hobbies };\r\n    const res = await updateDetails(data);\r\n    if (res.status === 200) {\r\n      const data = await res.json();\r\n      return data;\r\n    } else return false;\r\n  }\r\n  async function userGetDetails(username) {\r\n    const res = await getDetails(username);\r\n    if (res.status === 200) {\r\n      const data = await res.json();\r\n      console.log(data);\r\n      return data;\r\n    } else return false;\r\n  }\r\n\r\n  async function userSignUp(username, password) {\r\n    const res = await signup({ username, password });\r\n    console.log(\"useUserProvider signup res:\");\r\n    console.log(res);\r\n\r\n    if (res.status === 200) {\r\n      console.log(\"user signin successfull\");\r\n\r\n      setUser(username);\r\n      return username;\r\n    } else {\r\n      const { message } = await res.json();\r\n      return message;\r\n    }\r\n  }\r\n\r\n  async function userGoogleSignIn(accessTokenObj) {\r\n    console.log(\"in google sign in\");\r\n    const res = await googleSignin(accessTokenObj);\r\n    console.log(\"useUserProvider googleSignIn res:\");\r\n    console.log(res);\r\n    if (res.status === 200) {\r\n      console.log(\"user signin successfull\");\r\n      const username = await res.json();\r\n\r\n      setUser(username);\r\n      return true;\r\n    }\r\n    if (res.status > 400) {\r\n      console.log(res.status);\r\n      console.log(\"unauthorized\");\r\n      return false;\r\n    }\r\n  }\r\n  async function userSignOut() {\r\n    const res = await signout();\r\n    if (res.status === 200) {\r\n      setUser(\"\");\r\n      console.log(\"user removed from context\");\r\n\r\n      return res;\r\n    }\r\n  }\r\n\r\n  async function userCheckAndRefreshAuth() {\r\n    const username = await checkAndRefreshAuth();\r\n    console.log(\"check and refresh returned: \" + username);\r\n    if (username) {\r\n      setUser(username);\r\n      console.log(\"setting user in context\" + username);\r\n    } else {\r\n      setUser(\"\");\r\n      console.log(\"removing user from context\");\r\n    }\r\n    return;\r\n    // console.log(\"setting loading to false\");\r\n    // setLoading(false);\r\n  }\r\n\r\n  return {\r\n    user,\r\n    userCheckAndRefreshAuth,\r\n    userGoogleSignIn,\r\n    userSignIn,\r\n    userSignOut,\r\n    userSignUp,\r\n    loading,\r\n    setLoading,\r\n    userGetDetails,\r\n    userUpdateDetails,\r\n  };\r\n}\r\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport App from \"./App\";\nimport reportWebVitals from \"./reportWebVitals\";\nimport UserProvider from \"./context/UserProvider\";\nimport \"bootstrap/dist/css/bootstrap.min.css\";\n\nReactDOM.render(\n  <React.StrictMode>\n    <UserProvider>\n      <App />\n    </UserProvider>\n  </React.StrictMode>,\n  document.getElementById(\"root\")\n);\n\nreportWebVitals();\n"],"sourceRoot":""}