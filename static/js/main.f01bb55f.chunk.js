(this.webpackJsonptry1=this.webpackJsonptry1||[]).push([[0],{110:function(e,t,n){"use strict";n.r(t);var r=n(0),a=n.n(r),c=n(30),s=n.n(c),o=n(10),i=n(14),l=(n(77),n(11)),u=n(5),d=n.n(u),j=n(8),b=a.a.createContext();function p(){return Object(r.useContext)(b)}var h=n(1);function x(e){e.props;var t=Object(l.h)(),n=p();return Object(r.useLayoutEffect)((function(){function e(){return(e=Object(j.a)(d.a.mark((function e(){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n.setLoading(!0),e.next=3,n.userCheckAndRefreshAuth();case 3:n.setLoading(!1);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[t.pathname]),Object(h.jsx)("div",{children:console.log("rendering middleware")})}var m=n(22),f=n(9),O=n(122),g=n(118),v=n(119),y=n(123),w=n(120),k=n(70),C=n.n(k),N=Object(O.a)({root:{},form:{marginTop:"2rem"},errorMessage:{color:"red"},spinnerContainer:{display:"flex",paddingTop:"20vh",justifyContent:"center"},spinner:{width:"5rem",height:"5rem"}});function S(e){var t=p(),n=N(),a=Object(r.useState)({status:!1,errorMessageList:[]}),c=Object(f.a)(a,2),s=c[0],o=c[1],l=Object(r.useState)(!1),u=Object(f.a)(l,2),b=u[0],x=u[1];Object(r.useEffect)((function(){console.log("logging user context:"+JSON.stringify(t))}),[t]);var O=Object(r.useState)({username:"",password:"",repeatPassword:""}),k=Object(f.a)(O,2),S=k[0],T=k[1],E=function(e){console.log("change"),T((function(t){return Object(i.a)(Object(i.a)({},t),{},Object(m.a)({},e.target.name,e.target.value))}))},I=function(){var e=Object(j.a)(d.a.mark((function e(n){var r,a,c,s,i;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(console.log("submit"),n.preventDefault(),console.log(t),r=S.username,a=S.password,c=B(a),console.log(c),!(c.length>0)){e.next=12;break}s=[],c.forEach((function(e){var t;"min"===e&&(t="password must be at least 8 characters"),"max"===e&&(t="password cannot exceed 100 characters"),"digits"===e&&(t="password must contain at least one digit"),"spaces"===e&&(t="password cannot contain spaces"),console.log(t),s.push(t)})),o({status:!0,errorMessageList:s}),e.next=18;break;case 12:return x(!0),e.next=15,t.userSignUp(r,a);case 15:i=e.sent,x(!1),i!==r&&o({status:!0,errorMessageList:[i]});case 18:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),$=new C.a;function B(e){return $.is().min(8).is().max(100).has().digits(1).has().not().spaces(),$.validate(e,{list:!0})}return Object(h.jsx)(g.a,{children:b?Object(h.jsxs)("div",{className:n.spinnerContainer,children:[" ",Object(h.jsx)(v.a,{animation:"border",className:n.spinner,role:"status",children:Object(h.jsx)("span",{className:"sr-only",children:"Loading..."})})]}):Object(h.jsxs)(y.a,{className:n.form,onSubmit:I,children:[Object(h.jsxs)(y.a.Group,{controlId:"formBasicEmail",children:[Object(h.jsx)(y.a.Label,{children:"username"}),Object(h.jsx)(y.a.Control,{value:S.username,onChange:E,name:"username",type:"text",placeholder:"Enter email"})]}),Object(h.jsxs)(y.a.Group,{controlId:"formBasicPassword",children:[Object(h.jsx)(y.a.Label,{children:"password"}),Object(h.jsx)(y.a.Control,{value:S.password,onChange:E,name:"password",type:"password",placeholder:"password"})]}),Object(h.jsxs)(y.a.Group,{controlId:"formBasicPassword",children:[Object(h.jsx)(y.a.Label,{children:"repeat password"}),Object(h.jsx)(y.a.Control,{value:S.password,onChange:E,name:"password",type:"password",placeholder:"password"})]}),s.status&&Object(h.jsx)("div",{children:s.errorMessageList.map((function(e){return Object(h.jsx)("p",{className:n.errorMessage,children:e},e)}))}),Object(h.jsx)(w.a,{variant:"primary",type:"submit",children:"Submit"})]})})}var T=n(121),E=n(71),I=n(127),$="https://protected-shelf-10157.herokuapp.com/";function B(){return L.apply(this,arguments)}function L(){return(L=Object(j.a)(d.a.mark((function e(){var t,n;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t="".concat($,"users/auth"),console.log(t),console.log("checking auth"),e.next=5,fetch(t,{method:"GET",credentials:"include",headers:{"Content-Type":"application/json"}});case 5:return n=e.sent,e.abrupt("return",n);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function P(){return D.apply(this,arguments)}function D(){return(D=Object(j.a)(d.a.mark((function e(){var t;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat($,"users/refreshToken"),{method:"GET",credentials:"include",headers:{"Content-Type":"application/json"}});case 2:return t=e.sent,e.abrupt("return",t);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function A(){return(A=Object(j.a)(d.a.mark((function e(){var t,n;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat($),{method:"GET",credentials:"include",headers:{"Content-Type":"application/json"}});case 2:return t=e.sent,e.next=5,t.text();case 5:return n=e.sent,console.log(t),console.log(t.headers),console.log(n),e.abrupt("return",t);case 10:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function J(){return M.apply(this,arguments)}function M(){return(M=Object(j.a)(d.a.mark((function e(){var t,n,r,a,c,s,o;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("in check and refresh auth"),e.next=3,B();case 3:if(200!==(t=e.sent).status){e.next=13;break}return console.log("access token valid"),e.next=8,t.text();case 8:return n=e.sent,console.log("username: "+n),e.abrupt("return",n);case 13:if(401!==t.status){e.next=47;break}return console.log("access token expired"),e.next=17,t.text();case 17:return r=e.sent,console.log(r),e.next=21,P();case 21:if(200!==(t=e.sent).status){e.next=44;break}return console.log("new access token issued"),e.next=26,B();case 26:if(200!==(a=e.sent).status){e.next=36;break}return console.log("access token valid"),e.next=31,a.text();case 31:return c=e.sent,console.log("username: "+c),e.abrupt("return",c);case 36:return console.log("2nd check auth returned "+a.status),e.next=39,a.text();case 39:return s=e.sent,console.log(s),e.abrupt("return");case 42:e.next=45;break;case 44:return e.abrupt("return");case 45:e.next=52;break;case 47:return e.next=49,t.text();case 49:return o=e.sent,console.log(o),e.abrupt("return");case 52:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function R(){return G.apply(this,arguments)}function G(){return(G=Object(j.a)(d.a.mark((function e(){var t;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat($,"users/signout"),{withCredentials:!0,credentials:"include"});case 2:return t=e.sent,e.abrupt("return",t);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function F(e){return U.apply(this,arguments)}function U(){return(U=Object(j.a)(d.a.mark((function e(t){var n;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat($,"users/signin"),{method:"POST",withCredentials:!0,credentials:"include",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)});case 2:return n=e.sent,e.abrupt("return",n);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function _(e){return z.apply(this,arguments)}function z(){return(z=Object(j.a)(d.a.mark((function e(t){var n;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat($,"users/signup"),{method:"POST",withCredentials:!0,credentials:"include",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)});case 2:return n=e.sent,console.log("authAPI signup response"),console.log(n),e.abrupt("return",n);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function K(e){return W.apply(this,arguments)}function W(){return(W=Object(j.a)(d.a.mark((function e(t){var n;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat($,"users/google/signin"),{method:"POST",withCredentials:!0,credentials:"include",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)});case 2:return n=e.sent,e.abrupt("return",n);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function H(e){return q.apply(this,arguments)}function q(){return(q=Object(j.a)(d.a.mark((function e(t){var n,r,a,c,s;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.username,r=t.name,a=t.email,c=t.hobbies,e.next=3,fetch("".concat($,"users/").concat(n),{method:"PATCH",withCredentials:!0,credentials:"include",headers:{"Content-Type":"application/json"},body:JSON.stringify({name:r,email:a,hobbies:c})});case 3:return s=e.sent,e.abrupt("return",s);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Q(e){return V.apply(this,arguments)}function V(){return(V=Object(j.a)(d.a.mark((function e(t){var n,r;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t,e.next=3,fetch("".concat($,"users/").concat(n),{method:"GET",withCredentials:!0,credentials:"include",headers:{"Content-Type":"application/json"}});case 3:return r=e.sent,e.abrupt("return",r);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var X=n.p+"static/media/stockJournal.16770ff0.png",Y=Object(O.a)({title:{marginTop:"2rem",marginBottom:"4rem"},imageContainer:{width:"50%"},image:{marginLeft:"50%",marginTop:"-10%",width:"100%"},signoutButton:{borderStyle:"none",display:"inline",backgroundColor:"inherit",padding:"0",color:"dodgerblue"}});function Z(){var e=p(),t=Y();return Object(r.useEffect)((function(){!function(){A.apply(this,arguments)}()})),Object(h.jsx)(g.a,{className:t.root,children:e.user?Object(h.jsxs)(h.Fragment,{children:[Object(h.jsx)(T.a,{children:Object(h.jsx)(E.a,{xs:6,children:Object(h.jsxs)("h1",{className:t.title,children:["Welcome Back, ",Object(h.jsx)(o.b,{to:"/profile",children:e.user})]})})}),Object(h.jsxs)(T.a,{children:[Object(h.jsx)(E.a,{xs:6,children:Object(h.jsxs)(I.a,{children:[Object(h.jsx)(I.a.Item,{children:Object(h.jsx)(o.b,{to:"/Journal",children:"Journal"})}),Object(h.jsx)(I.a.Item,{children:Object(h.jsx)(o.b,{to:"/Profile",children:"Profile Page"})}),Object(h.jsx)(I.a.Item,{children:Object(h.jsx)("button",{className:"".concat(t.signoutButton," list-group-item"),onClick:function(){return e.userSignOut()},children:"Signout"})})]})}),Object(h.jsx)(E.a,{xs:6,children:Object(h.jsx)("div",{className:t.imageContainer,children:Object(h.jsx)("img",{className:t.image,src:X,alt:""})})})]})]}):Object(h.jsxs)(h.Fragment,{children:[Object(h.jsx)(T.a,{children:Object(h.jsx)(E.a,{xs:6,children:Object(h.jsx)("h1",{className:t.title,children:"Welcome To My Online Journal"})})}),Object(h.jsxs)(T.a,{children:[Object(h.jsx)(E.a,{xs:6,children:Object(h.jsxs)(I.a,{children:[Object(h.jsx)(I.a.Item,{children:Object(h.jsx)(o.b,{to:"/Signup",children:"create an account"})}),Object(h.jsx)(I.a.Item,{children:Object(h.jsx)(o.b,{to:"/Signin",children:"Sign in with an existing account"})})]})}),Object(h.jsx)(E.a,{xs:6,children:Object(h.jsx)("div",{className:t.imageContainer,children:Object(h.jsx)("img",{className:t.image,src:X,alt:""})})})]})]})})}var ee=n(125),te=n(72),ne=Object(O.a)({root:{},form:{marginTop:"2rem"},button:{marginBottom:"2rem"},dividerContainer:{marginTop:"4rem"},dividerText:{marginTop:"-45px",border:"2px solid black",display:"inline-block",borderRadius:"50%",background:"white",padding:"1rem",marginLeft:"50%",transform:"translate(-50%,-20%)"},buttonContainer:{display:"flex",justifyContent:"center",marginTop:"4rem"},googleButton:{width:"80%",background:"red !important",color:"white",padding:"1rem",border:"0px",boxShadow:"2px 3px 5px black"}});function re(e){var t=p(),n=ne(),a=Object(r.useState)(!1),c=Object(f.a)(a,2),s=c[0],o=c[1];Object(r.useEffect)((function(){console.log("logging user context:"+JSON.stringify(t))}),[t]);var l=Object(r.useState)({username:"",password:"",remember:!1}),u=Object(f.a)(l,2),b=u[0],x=u[1],O=function(e){console.log("change"),x((function(t){return Object(i.a)(Object(i.a)({},t),{},Object(m.a)({},e.target.name,e.target.value))}))},v=function(){var e=Object(j.a)(d.a.mark((function e(n){var r,a;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n.preventDefault(),r=b,e.next=4,t.userSignIn(r);case 4:a=e.sent,console.log(a),!1===a&&o(!0);case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();function k(e){return C.apply(this,arguments)}function C(){return(C=Object(j.a)(d.a.mark((function e(n){var r;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:try{console.log(n),r={access_token:n.tokenObj.access_token},t.userGoogleSignIn(r)}catch(a){console.log(a)}case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return Object(h.jsxs)(g.a,{children:[console.log("rendering sign in"),Object(h.jsx)("h2",{className:"mt-3",children:"sign in"}),Object(h.jsxs)(y.a,{className:n.form,onSubmit:v,children:[Object(h.jsxs)(y.a.Group,{controlId:"formBasicEmail",children:[Object(h.jsx)(y.a.Label,{children:"username"}),Object(h.jsx)(y.a.Control,{value:b.username,onChange:O,name:"username",type:"text",placeholder:"Enter email"})]}),Object(h.jsxs)(y.a.Group,{controlId:"formBasicPassword",children:[Object(h.jsx)(y.a.Label,{children:"Password"}),Object(h.jsx)(y.a.Control,{value:b.password,onChange:O,name:"password",type:"password",placeholder:"Password"})]}),Object(h.jsx)(y.a.Group,{controlId:"formBasicCheckbox",children:Object(h.jsx)(y.a.Check,{name:"remember",onChange:function(e){x((function(t){return Object(i.a)(Object(i.a)({},t),{},Object(m.a)({},e.target.name,!b.remember))}))},type:"checkbox",label:"remember me on this pc"})}),Object(h.jsx)(w.a,{className:n.button,variant:"primary",type:"submit",children:"Submit"}),s&&Object(h.jsx)(ee.a,{variant:"danger",children:"Unable to login. Username or password are incorrect"})]}),Object(h.jsxs)("div",{className:n.dividerContainer,children:[Object(h.jsx)("hr",{}),Object(h.jsx)("h1",{className:n.dividerText,children:"Or"})]}),Object(h.jsx)("div",{className:n.buttonContainer,children:Object(h.jsx)(te.GoogleLogin,{clientId:"507566462397-7qgm46k6a0g50bj4s21go3nuibfs024a.apps.googleusercontent.com",className:n.googleButton,buttonText:"Login",onSuccess:k,onFailure:k,cookiePolicy:"single_host_origin"})})]})}var ae=Object(O.a)({title:{padding:"2rem",textAlign:"center"},row:{marginBottom:"1rem"},label:{verticalAlign:"middle",marginBottom:"0",fontWeight:"bold"},spinnerContainer:{display:"flex",paddingTop:"20vh",justifyContent:"center"},spinner:{width:"5rem",height:"5rem"},button:{display:"block",marginLeft:"auto"}});function ce(e){var t=p(),n=t.user,a=t.userGetDetails,c=t.userUpdateDetails,s=Object(r.useState)({name:"",email:"",hobbies:""}),o=Object(f.a)(s,2),l=o[0],u=o[1],b=Object(r.useState)(!1),x=Object(f.a)(b,2),O=x[0],k=x[1],C=ae();function N(e){u((function(t){return Object(i.a)(Object(i.a)({},t),{},Object(m.a)({},e.target.name,e.target.value))}))}function S(){return(S=Object(j.a)(d.a.mark((function e(){var t,r,a,s;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=l.name,r=l.hobbies,a=l.email,k(!0),e.next=4,c(n,t,a,r);case 4:s=e.sent,k(!1),console.log(s);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return Object(r.useLayoutEffect)((function(){function e(){return(e=Object(j.a)(d.a.mark((function e(){var t,r,c,s;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return k(!0),e.next=3,a(n);case 3:t=e.sent,console.log(t),r=t.name,c=t.email,s=t.hobbies,console.log(r,c,s),u({name:r,email:c,hobbies:s}),k(!1);case 9:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[n]),Object(h.jsx)(g.a,{children:O?Object(h.jsxs)("div",{className:C.spinnerContainer,children:[" ",Object(h.jsx)(v.a,{animation:"border",className:C.spinner,role:"status",children:Object(h.jsx)("span",{className:"sr-only",children:"Loading..."})})]}):Object(h.jsxs)("div",{children:[Object(h.jsxs)("h1",{className:C.title,children:[n,"'s Profile Page"]}),Object(h.jsxs)(T.a,{className:C.row,children:[Object(h.jsx)(E.a,{xs:2,children:Object(h.jsx)(y.a.Label,{className:C.label,children:"Email address"})}),Object(h.jsx)(E.a,{xs:6,children:Object(h.jsx)(y.a.Control,{onChange:N,name:"email",value:l.email,type:"email"})})]}),Object(h.jsxs)(T.a,{className:C.row,children:[Object(h.jsx)(E.a,{xs:2,children:Object(h.jsx)(y.a.Label,{className:C.label,children:"Name"})}),Object(h.jsx)(E.a,{xs:6,children:Object(h.jsx)(y.a.Control,{onChange:N,name:"name",value:l.name,type:"text"})})]}),Object(h.jsxs)(T.a,{className:C.row,children:[Object(h.jsx)(E.a,{xs:2,children:Object(h.jsx)(y.a.Label,{className:C.label,children:"Interests and hobbies"})}),Object(h.jsx)(E.a,{xs:6,children:Object(h.jsx)(y.a.Control,{onChange:N,name:"hobbies",value:l.hobbies,as:"textarea",rows:3})})]}),Object(h.jsx)(T.a,{children:Object(h.jsxs)(E.a,{xs:8,children:[" ",Object(h.jsx)(w.a,{onClick:function(){return S.apply(this,arguments)},className:C.button,variant:"dark",children:"save"})]})})]})})}var se=n(124),oe=n(126);function ie(e){var t=le(),n=p(),a=e.rootRoute;return Object(r.useEffect)((function(){console.log("useeffect Navbar")}),[n.user]),Object(h.jsxs)(se.a,{bg:"light",expand:"sm",children:[console.log("rendering nav"),Object(h.jsx)(se.a.Brand,{children:Object(h.jsx)("b",{children:"My Online Journal"})}),Object(h.jsx)(se.a.Toggle,{"aria-controls":"basic-navbar-nav"}),Object(h.jsx)(se.a.Collapse,{id:"basic-navbar-nav",children:Object(h.jsxs)(oe.a,{className:"mr-auto",children:[Object(h.jsx)(o.b,{className:"nav-link",to:"".concat(a,"/"),children:"Home"}),n.user?Object(h.jsxs)(h.Fragment,{children:[Object(h.jsx)(o.b,{className:"nav-link",to:"".concat(a,"/calendar"),children:"Calendar"}),Object(h.jsx)(o.b,{className:"nav-link",to:"".concat(a,"/journal"),children:"Journal"}),Object(h.jsx)(o.b,{className:"nav-link",to:"".concat(a,"/allentries"),children:"All Entries"}),Object(h.jsx)(o.b,{className:"nav-link",to:"".concat(a,"/profile"),children:"Profile"}),Object(h.jsx)("button",{className:"".concat(t.signoutButton," nav-link"),onClick:function(){return n.userSignOut()},children:"Signout"})]}):Object(h.jsxs)(h.Fragment,{children:[Object(h.jsx)(o.b,{className:"nav-link",to:"".concat(a,"/signin"),children:"Signin"}),Object(h.jsx)(o.b,{className:"nav-link",to:"".concat(a,"/signup"),children:"Signup"})]})]})})]})}var le=Object(O.a)({root:{background:"purple",padding:"10px"},item:{fontSize:"2rem",marginRight:"1rem",color:"white",textDecoration:"none","&:hover":{color:"black"}},signoutButton:{borderStyle:"none",backgroundColor:"inherit"}}),ue=Object(O.a)({title:{marginTop:"2rem",marginBottom:"4rem"},imageContainer:{width:"50%"},image:{marginLeft:"50%",marginTop:"-10%",width:"100%"},signoutButton:{borderStyle:"none",display:"inline",backgroundColor:"inherit",padding:"0",color:"dodgerblue"}});function de(e){var t=ue(),n=Object(l.i)(),r=(Object.assign({},n),Object(l.g)()),a=(Object.assign({},r),Object(l.h)()),c=(Object.assign({},a),e.rootRoute);return Object(h.jsxs)(g.a,{className:t.root,children:[Object(h.jsx)(T.a,{children:Object(h.jsx)(E.a,{xs:6,children:Object(h.jsx)("h1",{className:t.title,children:"Add, browse or edit your Journal entries from this page!"})})}),Object(h.jsxs)(T.a,{children:[Object(h.jsx)(E.a,{xs:6,children:Object(h.jsxs)(I.a,{children:[Object(h.jsx)(I.a.Item,{children:Object(h.jsx)(o.b,{to:"".concat(c,"/allentries"),children:"Browse All Entries"})}),Object(h.jsx)(I.a.Item,{children:Object(h.jsx)(o.b,{to:"".concat(c,"/Calendar"),children:"Browse Entries By Date"})}),Object(h.jsx)(I.a.Item,{children:Object(h.jsx)(o.b,{to:"".concat(c,"/Entries/create-entry"),children:"create a new Entry"})})]})}),Object(h.jsx)(E.a,{xs:6,children:Object(h.jsx)("div",{className:t.imageContainer,children:Object(h.jsx)("img",{className:t.image,src:X,alt:""})})})]})]})}var je=n(76),be=(n(91),n(28)),pe=n.n(be),he=n(33),xe=n(34),me=n.n(xe);function fe(e,t,n,r){return Oe.apply(this,arguments)}function Oe(){return(Oe=Object(j.a)(d.a.mark((function e(t,n,r,a){var c,s;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c={data:t,date:n,title:r,username:a},console.log("saving: ",t),console.log(t),e.next=5,fetch("".concat($,"entries"),{method:"POST",withCredentials:!0,credentials:"include",headers:{"Content-Type":"application/json"},body:JSON.stringify(c)});case 5:return s=e.sent,e.abrupt("return",s);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ge(e,t,n){return ve.apply(this,arguments)}function ve(){return(ve=Object(j.a)(d.a.mark((function e(t,n,r){var a,c;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a={title:n,data:r},e.next=3,fetch("".concat($,"entries/").concat(t),{method:"PUT",withCredentials:!0,credentials:"include",headers:{"Content-Type":"application/json"},body:JSON.stringify(a)});case 3:return c=e.sent,e.abrupt("return",c);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ye(e){return we.apply(this,arguments)}function we(){return(we=Object(j.a)(d.a.mark((function e(t){var n,r;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("getting number of entries for "+t),e.next=3,fetch("".concat($,"entries/count?username=").concat(t),{method:"GET",withCredentials:!0,credentials:"include",headers:{"Content-Type":"application/json"}});case 3:return n=e.sent,e.next=6,n.json();case 6:return r=e.sent,e.abrupt("return",r);case 8:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ke(e,t,n,r){return Ce.apply(this,arguments)}function Ce(){return(Ce=Object(j.a)(d.a.mark((function e(t,n,r,a){var c,s,o;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("getting entries for "+t+" on "+n),c=encodeURIComponent(n),console.log(c),e.next=5,fetch("".concat($,"entries?date=").concat(c,"&username=").concat(t,"&amount=").concat(r,"&order=").concat(a),{method:"GET",withCredentials:!0,credentials:"include",headers:{"Content-Type":"application/json"}});case 5:return s=e.sent,e.next=8,s.json();case 8:return o=e.sent,e.abrupt("return",o);case 10:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Ne(e){return Se.apply(this,arguments)}function Se(){return(Se=Object(j.a)(d.a.mark((function e(t){var n,r;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("id "+t),e.next=3,fetch("".concat($,"entries/").concat(t),{method:"get",withCredentials:!0,credentials:"include",headers:{"Content-Type":"application/json"}});case 3:return n=e.sent,e.next=6,n.json();case 6:return r=e.sent,e.abrupt("return",r);case 8:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Te(e){return Ee.apply(this,arguments)}function Ee(){return(Ee=Object(j.a)(d.a.mark((function e(t){var n;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat($,"entries/").concat(t),{method:"DELETE",withCredentials:!0,credentials:"include",headers:{"Content-Type":"application/json"}});case 2:return n=e.sent,e.abrupt("return",n);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var Ie=Object(O.a)({root:{paddingTop:"2rem"},titleInput:{marginBottom:"2rem",width:"100%"},titleLabel:{fontSize:"2rem"},buttonSave:{marginTop:"2rem",marginRight:"1rem"},message:{textAlign:"center"}});function $e(e){return(new DOMParser).parseFromString(e,"text/html").body.textContent||""}function Be(e){var t=Object(l.h)(),n=Object(l.g)(),a=Object(r.useState)(t.entry),c=Object(f.a)(a,2),s=c[0],o=c[1],i=Object(r.useState)(""),u=Object(f.a)(i,2),b=u[0],p=u[1],x=Object(r.useState)(""),m=Object(f.a)(x,2),O=m[0],v=m[1],y=Object(r.useState)(!1),k=Object(f.a)(y,2),C=k[0],N=k[1],S=Object(r.useState)(!1),T=Object(f.a)(S,2),E=T[0],I=T[1],$=Object(r.useState)(!1),B=Object(f.a)($,2),L=B[0],P=B[1],D=Ie();function A(){I(!0),setTimeout((function(){return I(!1)}),1e3)}Object(r.useEffect)((function(){function e(){return(e=Object(j.a)(d.a.mark((function e(){var n,r;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(s){e.next=12;break}return console.log("No entry"),n=t.search.slice(1),e.next=5,Ne(n);case 5:r=e.sent,console.log("entry res "+r),o(r),p(r.data),v(r.title),e.next=13;break;case 12:b||(console.log("No data"),p(s.data),v(s.title));case 13:case"end":return e.stop()}}),e)})))).apply(this,arguments)}s&&b||function(){e.apply(this,arguments)}()}),[]);var J=function(){var e=Object(j.a)(d.a.mark((function e(){var t;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=function(){return(t=Object(j.a)(d.a.mark((function e(t){var n,r,a,c;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.entryId,r=t.title,a=t.data,console.log("id "+n),console.log("data "+a),console.log("title "+r),e.next=6,ge(n,r,a);case 6:c=e.sent,N(!1),console.log(c),A();case 10:case"end":return e.stop()}}),e)})))).apply(this,arguments)},function(e){return t.apply(this,arguments)}({data:b,title:O,entryId:s._id});case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),M=function(){var e=Object(j.a)(d.a.mark((function e(t){var r;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=s._id,e.next=3,Te(r);case 3:e.sent,P(!0),setTimeout((function(){P(!1),n.goBack()}),1e3);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(h.jsx)(g.a,{className:D.root,children:E?Object(h.jsx)("h1",{className:D.message,children:"post has been updated"}):Object(h.jsx)(h.Fragment,{children:L?Object(h.jsx)("h1",{className:D.message,children:"post has been deleted"}):Object(h.jsx)("div",{children:C?Object(h.jsxs)("div",{children:[Object(h.jsx)("label",{htmlFor:"titleInput",className:D.titleLabel,children:"Title"}),Object(h.jsx)("input",{id:"titleInput",type:"text",value:O,className:D.titleInput,onChange:function(e){return v(e.target.value)},disabled:!C}),Object(h.jsx)(he.CKEditor,{editor:me.a,data:b,onReady:function(e){console.log("Editor is ready to use!",e)},onChange:function(e,t){return p(t.getData())},disabled:!C}),Object(h.jsxs)(w.a,{variant:"dark mt-2",className:D.buttonSave,onClick:function(){return J()},children:["save changes"," "]})]}):Object(h.jsxs)(h.Fragment,{children:[Object(h.jsx)("h1",{children:$e(O)}),Object(h.jsx)("p",{children:$e(b)}),Object(h.jsxs)(w.a,{variant:"dark",className:D.buttonSave,onClick:function(){return N(!C)},children:["edit post"," "]}),Object(h.jsxs)(w.a,{variant:"dark",className:D.buttonSave,name:"deleteButton",onClick:function(e){return M(e)},children:["delete post"," "]})]})})})})}function Le(e){var t=Object(r.useState)(!0),n=Object(f.a)(t,1)[0],a=e.data,c=e.setData;return Object(r.useEffect)((function(){console.log("useEffect editor with data: "+a)}),[a]),Object(h.jsxs)("div",{className:"root",children:[console.log("rendering editor with data: "+a),n?Object(h.jsx)(he.CKEditor,{editor:me.a,data:a,onReady:function(e){console.log("Editor is ready to use!",e)},onChange:function(e,t){return c(t.getData())},disabled:!1}):Object(h.jsx)(he.CKEditor,{config:{toolbar:[]},editor:me.a,data:a,onReady:function(e){console.log("Editor is ready to use!",e)},disabled:!0})]})}var Pe=Object(O.a)({root:{paddingTop:"2rem"},inputLabel:{fontSize:"2rem",marginTop:"2rem",display:"block"},inputTitle:{width:"100%",marginBottom:"2rem"},message:{textAlign:"center"}});function De(e){var t,n=Object(l.h)(),a=Object(l.g)(),c=Object(r.useState)(),s=Object(f.a)(c,2),i=s[0],u=s[1],b=Object(r.useState)(""),x=Object(f.a)(b,2),m=x[0],O=x[1],v=Object(r.useState)(!1),y=Object(f.a)(v,2),k=y[0],C=y[1],N=p().user,S=Pe(),T=n.search.slice(1),E=e.rootRoute;try{T||(T=new Date),T=decodeURI(T),t=pe()(T,"dddd dd mmmm yyyy")}catch($){console.log(n.search.slice(1)),console.log($)}var I=function(){var e=Object(j.a)(d.a.mark((function e(t){var n,r,c,s;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:s=function(){return(s=Object(j.a)(d.a.mark((function e(t){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fe(t);case 2:200===e.sent.status&&(C(!0),setTimeout((function(){return a.goBack()}),1e3));case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)},c=function(e){return s.apply(this,arguments)},n=new Date,r=n.getTimezoneOffset(),c({date:T,username:N,title:m,data:t,createdAt:n,timezoneOffset:r});case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(h.jsx)(g.a,{className:S.root,children:k?Object(h.jsx)("h1",{className:S.message,children:"Post successfull"}):Object(h.jsxs)("div",{children:[console.log(n.search.slice(1)),console.log(T),Object(h.jsxs)("h1",{children:[t,Object(h.jsx)("span",{style:{fontSize:"1.2rem"},children:Object(h.jsx)(o.b,{to:"".concat(E,"/Calendar"),children:" pick a different date"})})]}),Object(h.jsx)("h3",{children:"Create a new Entry"}),Object(h.jsx)("label",{htmlFor:"titleInput",className:S.inputLabel,children:"title"}),Object(h.jsx)("input",{id:"titleInput",value:m,onChange:function(e){return O(e.target.value)},className:S.inputTitle}),Object(h.jsx)(Le,{handleSubmit:I,data:i,setData:function(e){return u(e)}}),Object(h.jsx)(w.a,{variant:"dark mt-2",className:S.buttonSave,onClick:function(){return I(i)},children:"save new entry"})]})})}var Ae=n(128),Je=Object(O.a)({headerContainer:{display:"flex",justifyContent:"space-between",alignItems:"center",marginTop:"2rem"},linkContainer:{textAlign:"end"},card:{marginTop:"2rem"},cardText:{whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis"},spinnerContainer:{display:"flex",paddingTop:"20vh",justifyContent:"center"},spinner:{width:"5rem",height:"5rem"},noEntriesMessageContainer:{display:"flex",justifyContent:"center",paddingTop:"4rem",border:"2px solid black",marginTop:"6rem",paddingBottom:"4rem",alignItems:"center",background:"lightsteelblue",borderRadius:"5px"}});function Me(e){var t,n=Object(l.i)(),a=(n.path,n.url,n.isExact),c=Object(l.g)(),s=Object(l.h)(),i=Object(r.useState)(!1),u=Object(f.a)(i,2),b=u[0],x=u[1],m=s.search.slice(1),O=e.rootRoute;try{console.log("date received as: "+m),m=decodeURI(m),console.log("date decoded to: "+m),t=pe()(m,"dddd dd mmmm yyyy"),console.log("display date formatted as: "+t)}catch(E){console.log("date format incorrect")}var y=p(),k=Object(r.useState)([]),C=Object(f.a)(k,2),N=C[0],S=C[1],T=Je();return Object(r.useLayoutEffect)((function(){function e(){return(e=Object(j.a)(d.a.mark((function e(){var t;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return x(!0),console.log("retrieving for date: ",m),console.log("$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$"),e.next=5,ke(y.user,m);case 5:t=e.sent,x(!1),S(t);case 8:case"end":return e.stop()}}),e)})))).apply(this,arguments)}if(console.log("use effect entries"),a){console.log("loading entries");try{!function(){e.apply(this,arguments)}()}catch(E){console.log(E)}}}),[]),Object(h.jsxs)(g.a,{children:[console.log("entries root"),Object(h.jsxs)("div",{className:T.headerContainer,children:[Object(h.jsx)("h1",{className:T.title,children:Object(h.jsx)("em",{children:Object(h.jsx)("i",{children:t})})}),Object(h.jsx)(o.b,{to:{pathname:"".concat(O,"/entries/create-entry"),new:!0,search:m},children:Object(h.jsx)(w.a,{variant:"dark",children:"create new entry"})})," "]}),b?Object(h.jsxs)("div",{className:T.spinnerContainer,children:[" ",Object(h.jsx)(v.a,{animation:"border",className:T.spinner,role:"status",children:Object(h.jsx)("span",{className:"sr-only",children:"Loading..."})})]}):N.length>0?N.map((function(e,t){return Object(h.jsx)(Ae.a,{className:T.card,children:Object(h.jsxs)(Ae.a.Body,{children:[Object(h.jsxs)(Ae.a.Title,{children:[e.title," "]}),Object(h.jsx)(Ae.a.Text,{className:T.cardText,children:(n=e.data,(new DOMParser).parseFromString(n,"text/html").body.textContent||"")}),Object(h.jsx)("div",{className:T.linkContainer,children:Object(h.jsxs)(w.a,{variant:"dark",onClick:function(){c.push({pathname:"".concat(O,"/entries/display-entry"),entry:e,search:"".concat(e._id)})},children:[" ","go to entry"]})})]})},t);var n})):Object(h.jsx)("div",{className:T.noEntriesMessageContainer,children:Object(h.jsx)("h1",{children:"No entries made on this date"})})]})}var Re=Object(O.a)({calendar:{marginTop:"2rem",width:"100%","& .react-calendar__tile--active":{background:"black"}},button:{border:" 5px solid gray"}});function Ge(){var e=Object(r.useState)(new Date),t=Object(f.a)(e,2),n=t[0],a=t[1],c=Object(l.i)(),s=c.path,o=(c.url,Object(l.h)(),Object(l.g)()),i=Re();return Object(h.jsxs)(l.d,{children:[console.log("rendering calendar"),Object(h.jsx)(l.b,{path:"".concat(s,"/Entries"),children:Object(h.jsx)(Me,{})}),Object(h.jsx)(l.b,{path:"".concat(s),children:Object(h.jsx)(g.a,{children:Object(h.jsx)(je.a,{className:i.calendar,onChange:a,value:n,onClickDay:function(e){o.push({pathname:"".concat(s,"/Entries"),search:e.toString()})}})})})]})}var Fe=n(75),Ue=n(129);function _e(e){var t=e.pages,n=e.active,r=e.setActive;return Object(h.jsx)("div",{children:Object(h.jsx)(Ue.a,{variant:"dark",size:"lg",children:function(){for(var e=[],a=function(t){e.push(Object(h.jsx)(Ue.a.Item,{onClick:function(){return r(t)},active:t===n,children:t},t))},c=1;c<=t;c++)a(c);return e}().map((function(e){return e}))})})}var ze=Object(O.a)({headerContainer:{display:"flex",justifyContent:"space-between",alignItems:"center",marginTop:"2rem"},linkContainer:{textAlign:"end"},card:{marginBottom:"2rem"},cardText:{whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis"},spinnerContainer:{display:"flex",paddingTop:"20vh",justifyContent:"center"},spinner:{width:"5rem",height:"5rem"},noEntriesMessageContainer:{display:"flex",justifyContent:"center",paddingTop:"4rem",border:"2px solid black",marginTop:"6rem",paddingBottom:"4rem",alignItems:"center",background:"lightsteelblue",borderRadius:"5px"},dateContainer:{backgroundColor:"black",color:"white"},newEntryButton:{display:"block",marginBottom:"2rem"},paginationContainer:{display:"flex",justifyContent:"center",paddingTop:"2rem",paddingBottom:"2rem","& .page-item .page-link":{color:"black"},"& .page-item.active .page-link":{backgroundColor:"black",borderColor:"black",color:"white"}}});function Ke(){var e=Object(r.useState)([]),t=Object(f.a)(e,2),n=t[0],a=t[1],c=Object(r.useState)(!1),s=Object(f.a)(c,2),o=s[0],i=s[1],u=p(),b=ze(),x=Object(l.i)().path,m=Object(l.g)(),O=Object(r.useState)(0),y=Object(f.a)(O,2),k=y[0],C=y[1],N=Object(r.useState)(1),S=Object(f.a)(N,2),T=S[0],E=S[1],I=Object(r.useState)(5),$=Object(f.a)(I,2),B=$[0];$[1];return Object(r.useLayoutEffect)((function(){function e(){return(e=Object(j.a)(d.a.mark((function e(t){var n;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ye(t);case 2:n=e.sent,C(n);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function t(){return(t=Object(j.a)(d.a.mark((function e(t,n,r){var c,s,o,l,u,j,b;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ke(t,null,n,r);case 2:c=e.sent,console.log(c),s=[],c.forEach((function(e){return s.push(e.date)})),o=new Set(s),l=[],u=Object(Fe.a)(o);try{for(u.s();!(j=u.n()).done;)b=j.value,l.push({date:b,entries:[]})}catch(d){u.e(d)}finally{u.f()}l.forEach((function(e){c.forEach((function(t){e.date===t.date&&e.entries.push(t)})),e.date=new Date(e.date)})),a(l),i(!1);case 13:case"end":return e.stop()}}),e)})))).apply(this,arguments)}i(!0),function(t){e.apply(this,arguments)}(u.user),function(e,n,r){t.apply(this,arguments)}(u.user,B,T)}),[T]),Object(h.jsx)(g.a,{children:o?Object(h.jsxs)("div",{className:b.spinnerContainer,children:[" ",Object(h.jsx)(v.a,{animation:"border",className:b.spinner,role:"status",children:Object(h.jsx)("span",{className:"sr-only",children:"Loading..."})})]}):Object(h.jsxs)("div",{children:[Object(h.jsx)("div",{className:b.paginationContainer,children:Object(h.jsx)(_e,{pages:Math.ceil(k/B),active:T,setActive:E})}),Object(h.jsx)(w.a,{className:b.newEntryButton,variant:"dark",onClick:function(){return m.push({pathname:"Entries/create-entry"})},children:"add a new journal entry"}),n.length>0?n.map((function(e){return Object(h.jsxs)("div",{children:[Object(h.jsx)("div",{className:b.dateContainer,children:Object(h.jsx)("h2",{children:pe()(new Date(e.date),"dddd, mmmm dS, yyyy")})}),e.entries.map((function(e){return Object(h.jsx)(Ae.a,{className:b.card,children:Object(h.jsxs)(Ae.a.Body,{children:[Object(h.jsx)(Ae.a.Title,{children:e.title}),Object(h.jsx)(Ae.a.Text,{className:b.cardText,children:(t=e.data,(new DOMParser).parseFromString(t,"text/html").body.textContent||"")}),Object(h.jsx)("div",{className:b.linkContainer,children:Object(h.jsxs)(w.a,{variant:"dark",onClick:function(){m.push({pathname:"".concat(x,"/display-entry"),entry:e,search:"".concat(e._id)})},children:[" ","go to post"]})})]})},e._id);var t}))]})})):Object(h.jsx)("div",{children:Object(h.jsx)("div",{className:b.noEntriesMessageContainer,children:Object(h.jsx)("h1",{children:"No journal entries have been made yet"})})}),Object(h.jsx)("div",{className:b.paginationContainer,children:Object(h.jsx)(_e,{pages:Math.ceil(k/B),active:T,setActive:E})})]})})}function We(){return Object(h.jsx)("div",{style:{display:"flex",justifyContent:"center"},children:Object(h.jsx)("h1",{children:"error 404,Page not found."})})}var He=Object(O.a)({loadingContainer:{display:"flex",justifyContent:"center","& h1":{paddingTop:"2rem"}}});function qe(){var e=p(),t=He(),n="/OnlineJournal";return Object(h.jsxs)("div",{children:[console.log(n),console.log("production"),console.log("#####################"),console.log("rendering APP"),Object(h.jsx)(x,{}),Object(h.jsx)("div",{children:e.loading?Object(h.jsxs)("div",{className:t.loadingContainer,children:[console.log("display loading"),Object(h.jsx)("h1",{className:t.loadingText,children:"Loading..."})]}):Object(h.jsxs)("div",{children:[console.log("remove loading"),Object(h.jsx)(ie,{rootRoute:n}),Object(h.jsxs)(l.d,{children:[Object(h.jsx)(l.b,{exact:!0,path:"".concat(n,"/"),children:Object(h.jsx)(Z,{})}),Object(h.jsxs)(l.b,{path:"".concat(n,"/signin"),children:[console.log("".concat(n,"/signin")),e.user?Object(h.jsx)(l.a,{to:{pathname:"".concat(n,"/")}}):Object(h.jsx)(re,{})]}),Object(h.jsx)(l.b,{path:"".concat(n,"/profile"),children:e.user?Object(h.jsx)(ce,{}):Object(h.jsx)(l.a,{to:{pathname:"".concat(n,"/")}})}),Object(h.jsx)(l.b,{path:"".concat(n,"/signup"),children:e.user?Object(h.jsx)(l.a,{to:{pathname:"".concat(n,"/profile")}}):Object(h.jsx)(S,{})}),Object(h.jsx)(l.b,{path:"".concat(n,"/allentries"),children:e.user?Object(h.jsx)(Ke,{}):Object(h.jsx)(l.a,{to:{pathname:"".concat(n,"/signin")}})}),Object(h.jsx)(l.b,{path:"".concat(n,"/calendar"),children:Object(h.jsx)(Ge,{})}),Object(h.jsx)(l.b,{path:"".concat(n,"/journal"),children:e.user?Object(h.jsx)(de,{}):Object(h.jsx)(l.a,{to:{pathname:"".concat(n,"/")}})}),Object(h.jsx)(l.b,{path:"".concat(n,"/entries/create-entry"),children:e.user?Object(h.jsx)(De,{}):Object(h.jsx)(l.a,{to:{pathname:"".concat(n,"/")}})}),Object(h.jsx)(l.b,{path:"".concat(n,"/entries/display-entry"),children:e.user?Object(h.jsx)(Be,{}):Object(h.jsx)(l.a,{to:{pathname:"".concat(n,"/")}})}),Object(h.jsx)(l.b,{children:Object(h.jsx)(We,{})})]})]})})]})}var Qe=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,130)).then((function(t){var n=t.getCLS,r=t.getFID,a=t.getFCP,c=t.getLCP,s=t.getTTFB;n(e),r(e),a(e),c(e),s(e)}))};n(105);function Ve(e){var t=function(){var e=Object(r.useState)(""),t=Object(f.a)(e,2),n=t[0],a=t[1],c=Object(r.useState)(!1),s=Object(f.a)(c,2);function o(){return(o=Object(j.a)(d.a.mark((function e(t){var n;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("in userSignIn"),e.next=3,F(t);case 3:if(200!==(n=e.sent).status){e.next=9;break}return console.log("user signin successfull"),console.log("setting user to: "+t.username),a(t.username),e.abrupt("return",!0);case 9:if(403!==n.status){e.next=12;break}return console.log(n.status),e.abrupt("return",!1);case 12:console.log(n);case 13:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function i(){return(i=Object(j.a)(d.a.mark((function e(t,n,r,a){var c,s,o;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c={username:t,name:n,email:r,hobbies:a},e.next=3,H(c);case 3:if(200!==(s=e.sent).status){e.next=11;break}return e.next=7,s.json();case 7:return o=e.sent,e.abrupt("return",o);case 11:return e.abrupt("return",!1);case 12:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function l(){return(l=Object(j.a)(d.a.mark((function e(t){var n,r;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Q(t);case 2:if(200!==(n=e.sent).status){e.next=11;break}return e.next=6,n.json();case 6:return r=e.sent,console.log(r),e.abrupt("return",r);case 11:return e.abrupt("return",!1);case 12:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function u(){return(u=Object(j.a)(d.a.mark((function e(t,n){var r,c,s;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,_({username:t,password:n});case 2:if(r=e.sent,console.log("useUserProvider signup res:"),console.log(r),200!==r.status){e.next=11;break}return console.log("user signin successfull"),a(t),e.abrupt("return",t);case 11:return e.next=13,r.json();case 13:return c=e.sent,s=c.message,e.abrupt("return",s);case 16:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function b(){return(b=Object(j.a)(d.a.mark((function e(t){var n,r;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("in google sign in"),e.next=3,K(t);case 3:if(n=e.sent,console.log("useUserProvider googleSignIn res:"),console.log(n),200!==n.status){e.next=13;break}return console.log("user signin successfull"),e.next=10,n.json();case 10:return r=e.sent,a(r),e.abrupt("return",!0);case 13:if(!(n.status>400)){e.next=17;break}return console.log(n.status),console.log("unauthorized"),e.abrupt("return",!1);case 17:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function p(){return(p=Object(j.a)(d.a.mark((function e(){var t;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,R();case 2:if(200!==(t=e.sent).status){e.next=7;break}return a(""),console.log("user removed from context"),e.abrupt("return",t);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function h(){return(h=Object(j.a)(d.a.mark((function e(){var t;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,J();case 2:return t=e.sent,console.log("check and refresh returned: "+t),t?(a(t),console.log("setting user in context"+t)):(a(""),console.log("removing user from context")),e.abrupt("return");case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return{user:n,userCheckAndRefreshAuth:function(){return h.apply(this,arguments)},userGoogleSignIn:function(e){return b.apply(this,arguments)},userSignIn:function(e){return o.apply(this,arguments)},userSignOut:function(){return p.apply(this,arguments)},userSignUp:function(e,t){return u.apply(this,arguments)},loading:s[0],setLoading:s[1],userGetDetails:function(e){return l.apply(this,arguments)},userUpdateDetails:function(e,t,n,r){return i.apply(this,arguments)}}}();return Object(h.jsx)(b.Provider,{value:t,children:e.children})}n(109);s.a.render(Object(h.jsx)(a.a.StrictMode,{children:Object(h.jsx)(Ve,{children:Object(h.jsx)(o.a,{children:Object(h.jsx)(qe,{})})})}),document.getElementById("root")),Qe()}},[[110,1,2]]]);
//# sourceMappingURL=main.f01bb55f.chunk.js.map