(this.webpackJsonptry1=this.webpackJsonptry1||[]).push([[0],{102:function(e,t,n){"use strict";n.r(t);var r=n(0),a=n.n(r),c=n(30),s=n.n(c),o=n(10),i=n(11),l=n(5),u=n.n(l),d=n(8),j=a.a.createContext();function b(){return Object(r.useContext)(j)}var p=n(1);function h(e){e.props;var t=Object(i.h)(),n=b();return Object(r.useLayoutEffect)((function(){function e(){return(e=Object(d.a)(u.a.mark((function e(){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n.setLoading(!0),console.log("loading state true"),console.log("calling check and refresh"),console.log("user currently set to: "+n.user),e.next=6,n.userCheckAndRefreshAuth();case 6:console.log("returned from  check and refresh, disabling loading"),n.setLoading(!1);case 8:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[t.pathname]),Object(p.jsxs)("div",{children:[console.log("rendering middleware"),console.log("location in render"+t.pathname)]})}var m,x,f=n(22),g=n(19),O=n(9),v=n(110),y=n(111),w=n(115),k=n(112),C=n(68),N=n.n(C),S=n(37);m="https://protected-shelf-10157.herokuapp.com/",x="507566462397-7qgm46k6a0g50bj4s21go3nuibfs024a.apps.googleusercontent.com";var T=n(114),E=Object(T.a)({root:{},form:{marginTop:"2rem"},errorMessage:{color:"red"},spinnerContainer:{display:"flex",paddingTop:"20vh",justifyContent:"center"},spinner:{width:"5rem",height:"5rem"},dividerContainer:{marginTop:"4rem"},dividerText:{marginTop:"-45px",border:"2px solid black",display:"inline-block",borderRadius:"50%",background:"white",padding:"1rem",marginLeft:"50%",transform:"translate(-50%,-20%)"},buttonContainer:{display:"flex",justifyContent:"center",marginTop:"4rem"},googleButton:{width:"80%",background:"red !important",color:"white",padding:"1rem",border:"0px",boxShadow:"2px 3px 5px black"}});function I(e){var t=b(),n=E(),a=Object(r.useState)({status:!1,errorMessageList:[]}),c=Object(O.a)(a,2),s=c[0],o=c[1],i=Object(r.useState)(!1),l=Object(O.a)(i,2),j=l[0],h=l[1];Object(r.useEffect)((function(){console.log("logging user context:"+JSON.stringify(t))}),[t]);var m=Object(r.useState)({username:"",password:"",repeatPassword:""}),C=Object(O.a)(m,2),T=C[0],I=C[1],B=function(e){console.log("change"),I((function(t){return Object(g.a)(Object(g.a)({},t),{},Object(f.a)({},e.target.name,e.target.value))}))},L=function(){var e=Object(d.a)(u.a.mark((function e(n){var r,a,c,s,i;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(console.log("submit"),n.preventDefault(),console.log(t),r=T.username,a=T.password,c=P(a),console.log(c),!(c.length>0)){e.next=12;break}s=[],c.forEach((function(e){var t;"min"===e&&(t="password must be at least 8 characters"),"max"===e&&(t="password cannot exceed 100 characters"),"digits"===e&&(t="password must contain at least one digit"),"spaces"===e&&(t="password cannot contain spaces"),console.log(t),s.push(t)})),o({status:!0,errorMessageList:s}),e.next=18;break;case 12:return h(!0),e.next=15,t.userSignUp(r,a);case 15:i=e.sent,h(!1),i!==r&&o({status:!0,errorMessageList:[i]});case 18:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),$=new N.a;function P(e){return $.is().min(8).is().max(100).has().digits(1).has().not().spaces(),$.validate(e,{list:!0})}function R(e){return D.apply(this,arguments)}function D(){return(D=Object(d.a)(u.a.mark((function e(n){var r;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:try{console.log(n),r={access_token:n.tokenObj.access_token},t.userGoogleSignIn(r)}catch(a){console.log(a)}case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return Object(p.jsx)(v.a,{children:j?Object(p.jsxs)("div",{className:n.spinnerContainer,children:[" ",Object(p.jsx)(y.a,{animation:"border",className:n.spinner,role:"status",children:Object(p.jsx)("span",{className:"sr-only",children:"Loading..."})})]}):Object(p.jsxs)("div",{children:[Object(p.jsxs)(w.a,{className:n.form,onSubmit:L,children:[Object(p.jsxs)(w.a.Group,{controlId:"formBasicEmail",children:[Object(p.jsx)(w.a.Label,{children:"username"}),Object(p.jsx)(w.a.Control,{value:T.username,onChange:B,name:"username",type:"text",placeholder:"Enter email"})]}),Object(p.jsxs)(w.a.Group,{controlId:"formBasicPassword",children:[Object(p.jsx)(w.a.Label,{children:"password"}),Object(p.jsx)(w.a.Control,{value:T.password,onChange:B,name:"password",type:"password",placeholder:"password"})]}),Object(p.jsxs)(w.a.Group,{controlId:"formBasicPassword",children:[Object(p.jsx)(w.a.Label,{children:"repeat password"}),Object(p.jsx)(w.a.Control,{value:T.password,onChange:B,name:"password",type:"password",placeholder:"password"})]}),s.status&&Object(p.jsx)("div",{children:s.errorMessageList.map((function(e){return Object(p.jsx)("p",{className:n.errorMessage,children:e},e)}))}),Object(p.jsx)(k.a,{variant:"primary",type:"submit",children:"Submit"})]}),Object(p.jsxs)("div",{className:n.dividerContainer,children:[Object(p.jsx)("hr",{}),Object(p.jsx)("h1",{className:n.dividerText,children:"Or"})]}),Object(p.jsx)("div",{className:n.buttonContainer,children:Object(p.jsx)(S.GoogleLogin,{clientId:x,className:n.googleButton,buttonText:"Login",onSuccess:R,onFailure:R,cookiePolicy:"single_host_origin"})})]})})}var B=n(113),L=n(69),$=n(119),P=Object(T.a)({title:{marginTop:"2rem",marginBottom:"4rem"},description:{fontSize:"1.5rem",marginBottom:"2rem",paddingLeft:"1rem"},imageContainer:{width:"50%"},image:{marginLeft:"50%",marginTop:"-10%",width:"100%"},signoutButton:{borderStyle:"none",display:"inline",backgroundColor:"inherit",padding:"0",color:"dodgerblue"}}),R=n.p+"static/media/stockJournal.16770ff0.png";function D(e){var t=b(),n=P(),r=e.rootRoute;return Object(p.jsx)(v.a,{className:n.root,children:t.user?Object(p.jsxs)(p.Fragment,{children:[Object(p.jsx)(B.a,{children:Object(p.jsx)(L.a,{xs:6,children:Object(p.jsxs)("h1",{className:n.title,children:["Welcome Back, ",Object(p.jsx)(o.b,{to:"/profile",children:t.user})]})})}),Object(p.jsxs)(B.a,{children:[Object(p.jsx)(L.a,{xs:6,children:Object(p.jsxs)($.a,{children:[Object(p.jsx)($.a.Item,{children:Object(p.jsx)(o.b,{to:"/Journal",children:"Journal"})}),Object(p.jsx)($.a.Item,{children:Object(p.jsx)(o.b,{to:"/Profile",children:"Profile Page"})}),Object(p.jsx)($.a.Item,{children:Object(p.jsx)("button",{className:"".concat(n.signoutButton," list-group-item"),onClick:function(){return t.userSignOut()},children:"Signout"})})]})}),Object(p.jsx)(L.a,{xs:6,children:Object(p.jsx)("div",{className:n.imageContainer,children:Object(p.jsx)("img",{className:n.image,src:R,alt:""})})})]})]}):Object(p.jsxs)(p.Fragment,{children:[Object(p.jsx)(B.a,{children:Object(p.jsxs)(L.a,{xs:6,children:[Object(p.jsx)("h1",{className:n.title,children:"Welcome To My Online Journal"}),Object(p.jsx)("p",{className:n.description,children:"This is an online journal you can access from anywhere. Signup or Sign in with a social media account and start adding entries to your journal."})]})}),Object(p.jsxs)(B.a,{children:[Object(p.jsx)(L.a,{xs:6,children:Object(p.jsxs)($.a,{children:[Object(p.jsx)($.a.Item,{children:Object(p.jsx)(o.b,{to:"".concat(r,"/Signup"),children:"create an account"})}),Object(p.jsx)($.a.Item,{children:Object(p.jsx)(o.b,{to:"".concat(r,"/Signin"),children:"Sign in with an existing account"})})]})}),Object(p.jsx)(L.a,{xs:6,children:Object(p.jsx)("div",{className:n.imageContainer,children:Object(p.jsx)("img",{className:n.image,src:R,alt:""})})})]})]})})}var A=n(117),G=Object(T.a)({form:{marginTop:"2rem"},button:{marginBottom:"2rem"},dividerContainer:{marginTop:"4rem"},dividerText:{marginTop:"-45px",border:"2px solid black",display:"inline-block",borderRadius:"50%",background:"white",padding:"1rem",marginLeft:"50%",transform:"translate(-50%,-20%)"},buttonContainer:{display:"flex",justifyContent:"center",marginTop:"4rem"},googleButton:{width:"80%",background:"red !important",color:"white",padding:"1rem",border:"0px",boxShadow:"2px 3px 5px black"}});function J(e){var t=b(),n=G(),a=Object(r.useState)(!1),c=Object(O.a)(a,2),s=c[0],o=c[1];Object(r.useEffect)((function(){console.log("logging user context:"+JSON.stringify(t))}),[t]);var i=Object(r.useState)({username:"user",password:"pass1234",remember:!1}),l=Object(O.a)(i,2),j=l[0],h=l[1],m=function(e){console.log("change"),h((function(t){return Object(g.a)(Object(g.a)({},t),{},Object(f.a)({},e.target.name,e.target.value))}))},y=function(){var e=Object(d.a)(u.a.mark((function e(n){var r,a;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n.preventDefault(),r=j,e.next=4,t.userSignIn(r);case 4:a=e.sent,console.log(a),!1===a&&o(!0);case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();function C(e){return N.apply(this,arguments)}function N(){return(N=Object(d.a)(u.a.mark((function e(n){var r;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:try{console.log(n),r={access_token:n.tokenObj.access_token},t.userGoogleSignIn(r)}catch(a){console.log(a)}case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return Object(p.jsxs)(v.a,{children:[console.log("rendering sign in"),Object(p.jsx)("h2",{className:"mt-3",children:"sign in"}),Object(p.jsxs)(w.a,{className:n.form,onSubmit:y,children:[Object(p.jsxs)(w.a.Group,{controlId:"formBasicEmail",children:[Object(p.jsx)(w.a.Label,{children:"username"}),Object(p.jsx)(w.a.Control,{value:j.username,onChange:m,name:"username",type:"text",placeholder:"Enter email"})]}),Object(p.jsxs)(w.a.Group,{controlId:"formBasicPassword",children:[Object(p.jsx)(w.a.Label,{children:"Password"}),Object(p.jsx)(w.a.Control,{value:j.password,onChange:m,name:"password",type:"password",placeholder:"Password"})]}),Object(p.jsx)(w.a.Group,{controlId:"formBasicCheckbox",children:Object(p.jsx)(w.a.Check,{name:"remember",onChange:function(e){h((function(t){return Object(g.a)(Object(g.a)({},t),{},Object(f.a)({},e.target.name,!j.remember))}))},type:"checkbox",label:"remember me on this pc"})}),Object(p.jsx)(k.a,{className:n.button,variant:"primary",type:"submit",children:"Submit"}),s&&Object(p.jsx)(A.a,{variant:"danger",children:"Unable to login. Username or password are incorrect"})]}),Object(p.jsxs)("div",{className:n.dividerContainer,children:[Object(p.jsx)("hr",{}),Object(p.jsx)("h1",{className:n.dividerText,children:"Or"})]}),Object(p.jsx)("div",{className:n.buttonContainer,children:Object(p.jsx)(S.GoogleLogin,{clientId:x,className:n.googleButton,buttonText:"Login",onSuccess:C,onFailure:C,cookiePolicy:"single_host_origin"})})]})}var M=Object(T.a)({title:{padding:"2rem",textAlign:"center"},row:{marginBottom:"1rem"},label:{verticalAlign:"middle",marginBottom:"0",fontWeight:"bold"},spinnerContainer:{display:"flex",paddingTop:"20vh",justifyContent:"center"},spinner:{width:"5rem",height:"5rem"},button:{display:"block",marginLeft:"auto"}});function F(e){var t=b(),n=t.user,a=t.userGetDetails,c=t.userUpdateDetails,s=Object(r.useState)({name:"",email:"",hobbies:""}),o=Object(O.a)(s,2),i=o[0],l=o[1],j=Object(r.useState)(!1),h=Object(O.a)(j,2),m=h[0],x=h[1],C=M();function N(e){l((function(t){return Object(g.a)(Object(g.a)({},t),{},Object(f.a)({},e.target.name,e.target.value))}))}function S(){return(S=Object(d.a)(u.a.mark((function e(){var t,r,a,s;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=i.name,r=i.hobbies,a=i.email,x(!0),e.next=4,c(n,t,a,r);case 4:s=e.sent,x(!1),console.log(s);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return Object(r.useLayoutEffect)((function(){function e(){return(e=Object(d.a)(u.a.mark((function e(){var r,c,s,o;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return x(!0),e.next=3,a(n);case 3:r=e.sent,c=r.name,s=r.email,o=r.hobbies,t&&(l({name:c,email:s,hobbies:o}),x(!1));case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var t=!0;return console.log("mounted profile"),function(){e.apply(this,arguments)}(),function(){t=!1}}),[]),Object(p.jsxs)(v.a,{children:[console.log("render profile"),m?Object(p.jsxs)("div",{className:C.spinnerContainer,children:[" ",Object(p.jsx)(y.a,{animation:"border",className:C.spinner,role:"status",children:Object(p.jsx)("span",{className:"sr-only",children:"Loading..."})})]}):Object(p.jsxs)("div",{children:[Object(p.jsxs)("h1",{className:C.title,children:[n,"'s Profile Page"]}),Object(p.jsxs)(B.a,{className:C.row,children:[Object(p.jsx)(L.a,{xs:2,children:Object(p.jsx)(w.a.Label,{className:C.label,children:"Email address"})}),Object(p.jsx)(L.a,{xs:6,children:Object(p.jsx)(w.a.Control,{onChange:N,name:"email",value:i.email,type:"email"})})]}),Object(p.jsxs)(B.a,{className:C.row,children:[Object(p.jsx)(L.a,{xs:2,children:Object(p.jsx)(w.a.Label,{className:C.label,children:"Name"})}),Object(p.jsx)(L.a,{xs:6,children:Object(p.jsx)(w.a.Control,{onChange:N,name:"name",value:i.name,type:"text"})})]}),Object(p.jsxs)(B.a,{className:C.row,children:[Object(p.jsx)(L.a,{xs:2,children:Object(p.jsx)(w.a.Label,{className:C.label,children:"Interests and hobbies"})}),Object(p.jsx)(L.a,{xs:6,children:Object(p.jsx)(w.a.Control,{onChange:N,name:"hobbies",value:i.hobbies,as:"textarea",rows:3})})]}),Object(p.jsx)(B.a,{children:Object(p.jsxs)(L.a,{xs:8,children:[" ",Object(p.jsx)(k.a,{onClick:function(){return S.apply(this,arguments)},className:C.button,variant:"dark",children:"save"})]})})]})]})}var _=n(116),U=n(118),z=Object(T.a)({root:{background:"purple",padding:"10px"},item:{fontSize:"2rem",marginRight:"1rem",color:"white",textDecoration:"none","&:hover":{color:"black"}},signoutButton:{borderStyle:"none",backgroundColor:"inherit"}});function K(e){var t=z(),n=b(),a=e.rootRoute;return Object(r.useEffect)((function(){console.log("useeffect Navbar")}),[n.user]),Object(p.jsxs)(_.a,{bg:"light",expand:"sm",children:[console.log("rendering nav"),Object(p.jsx)(_.a.Brand,{children:Object(p.jsx)("b",{children:"My Online Journal"})}),Object(p.jsx)(_.a.Toggle,{"aria-controls":"basic-navbar-nav"}),Object(p.jsx)(_.a.Collapse,{id:"basic-navbar-nav",children:Object(p.jsxs)(U.a,{className:"mr-auto",children:[Object(p.jsx)(o.b,{className:"nav-link",to:"".concat(a,"/"),children:"Home"}),n.user?Object(p.jsxs)(p.Fragment,{children:[Object(p.jsx)(o.b,{className:"nav-link",to:"".concat(a,"/calendar"),children:"Calendar"}),Object(p.jsx)(o.b,{className:"nav-link",to:"".concat(a,"/journal"),children:"Journal"}),Object(p.jsx)(o.b,{className:"nav-link",to:"".concat(a,"/allentries"),children:"All Entries"}),Object(p.jsx)(o.b,{className:"nav-link",to:"".concat(a,"/profile"),children:"Profile"}),Object(p.jsx)("button",{className:"".concat(t.signoutButton," nav-link"),onClick:function(){return n.userSignOut()},children:"Signout"})]}):Object(p.jsxs)(p.Fragment,{children:[Object(p.jsx)(o.b,{className:"nav-link",to:"".concat(a,"/signin"),children:"Signin"}),Object(p.jsx)(o.b,{className:"nav-link",to:"".concat(a,"/signup"),children:"Signup"})]})]})})]})}var W=Object(T.a)({title:{marginTop:"2rem",marginBottom:"4rem"},imageContainer:{width:"50%"},image:{marginLeft:"50%",marginTop:"-10%",width:"100%"},signoutButton:{borderStyle:"none",display:"inline",backgroundColor:"inherit",padding:"0",color:"dodgerblue"}});function H(e){var t=W(),n=e.rootRoute;return Object(p.jsxs)(v.a,{className:t.root,children:[Object(p.jsx)(B.a,{children:Object(p.jsx)(L.a,{xs:6,children:Object(p.jsx)("h1",{className:t.title,children:"Add, browse or edit your Journal entries from this page!"})})}),Object(p.jsxs)(B.a,{children:[Object(p.jsx)(L.a,{xs:6,children:Object(p.jsxs)($.a,{children:[Object(p.jsx)($.a.Item,{children:Object(p.jsx)(o.b,{to:"".concat(n,"/allentries"),children:"Browse All Entries"})}),Object(p.jsx)($.a.Item,{children:Object(p.jsx)(o.b,{to:"".concat(n,"/Calendar"),children:"Browse Entries By Date"})}),Object(p.jsx)($.a.Item,{children:Object(p.jsx)(o.b,{to:"".concat(n,"/Entries/create-entry"),children:"create a new Entry"})})]})}),Object(p.jsx)(L.a,{xs:6,children:Object(p.jsx)("div",{className:t.imageContainer,children:Object(p.jsx)("img",{className:t.image,src:R,alt:""})})})]})]})}var q=n(73),Q=(n(87),n(28)),V=n.n(Q);function X(e,t,n,r){return Y.apply(this,arguments)}function Y(){return(Y=Object(d.a)(u.a.mark((function e(t,n,r,a){var c,s;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c={data:t,date:n,title:r,username:a},console.log("saving: ",t),console.log(t),e.next=5,fetch("".concat(m,"entries"),{method:"POST",withCredentials:!0,credentials:"include",headers:{"Content-Type":"application/json"},body:JSON.stringify(c)});case 5:return s=e.sent,e.abrupt("return",s);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Z(e,t,n){return ee.apply(this,arguments)}function ee(){return(ee=Object(d.a)(u.a.mark((function e(t,n,r){var a,c;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a={title:n,data:r},e.next=3,fetch("".concat(m,"entries/").concat(t),{method:"PUT",withCredentials:!0,credentials:"include",headers:{"Content-Type":"application/json"},body:JSON.stringify(a)});case 3:return c=e.sent,e.abrupt("return",c);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function te(e){return ne.apply(this,arguments)}function ne(){return(ne=Object(d.a)(u.a.mark((function e(t){var n,r;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("getting number of entries for "+t),e.next=3,fetch("".concat(m,"entries/count?username=").concat(t),{method:"GET",withCredentials:!0,credentials:"include",headers:{"Content-Type":"application/json"}});case 3:return n=e.sent,e.next=6,n.json();case 6:return r=e.sent,e.abrupt("return",r);case 8:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function re(e,t,n,r){return ae.apply(this,arguments)}function ae(){return(ae=Object(d.a)(u.a.mark((function e(t,n,r,a){var c,s,o;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("getting entries for "+t+" on "+n),c=encodeURIComponent(n),console.log(c),e.next=5,fetch("".concat(m,"entries?date=").concat(c,"&username=").concat(t,"&amount=").concat(r,"&order=").concat(a),{method:"GET",withCredentials:!0,credentials:"include",headers:{"Content-Type":"application/json"}});case 5:return s=e.sent,e.next=8,s.json();case 8:return o=e.sent,e.abrupt("return",o);case 10:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ce(e){return se.apply(this,arguments)}function se(){return(se=Object(d.a)(u.a.mark((function e(t){var n,r;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("id "+t),e.next=3,fetch("".concat(m,"entries/").concat(t),{method:"get",withCredentials:!0,credentials:"include",headers:{"Content-Type":"application/json"}});case 3:return n=e.sent,e.next=6,n.json();case 6:return r=e.sent,e.abrupt("return",r);case 8:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function oe(e){return ie.apply(this,arguments)}function ie(){return(ie=Object(d.a)(u.a.mark((function e(t){var n;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat(m,"entries/").concat(t),{method:"DELETE",withCredentials:!0,credentials:"include",headers:{"Content-Type":"application/json"}});case 2:return n=e.sent,e.abrupt("return",n);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var le=n(120),ue=Object(T.a)({headerContainer:{display:"flex",justifyContent:"space-between",alignItems:"center",marginTop:"2rem"},linkContainer:{textAlign:"end"},card:{marginTop:"2rem"},cardText:{whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis"},spinnerContainer:{display:"flex",paddingTop:"20vh",justifyContent:"center"},spinner:{width:"5rem",height:"5rem"},noEntriesMessageContainer:{display:"flex",justifyContent:"center",paddingTop:"4rem",border:"2px solid black",marginTop:"6rem",paddingBottom:"4rem",alignItems:"center",background:"lightsteelblue",borderRadius:"5px"}}),de=n(72);function je(e){return(new DOMParser).parseFromString(e,"text/html").body.textContent||""}function be(e){var t=[];e.forEach((function(e){return t.push(e.date)}));var n,r=new Set(t),a=[],c=Object(de.a)(r);try{for(c.s();!(n=c.n()).done;){var s=n.value;a.push({date:s,entries:[]})}}catch(o){c.e(o)}finally{c.f()}return a.forEach((function(t){e.forEach((function(e){t.date===e.date&&t.entries.push(e)})),t.date=new Date(t.date)})),a}function pe(e){var t,n=Object(i.g)(),a=Object(i.h)(),c=Object(r.useState)(!1),s=Object(O.a)(c,2),l=s[0],j=s[1],h=a.search.slice(1),m=e.rootRoute;try{h=decodeURI(h),t=V()(h,"dddd dd mmmm yyyy")}catch(S){console.log("date format incorrect")}var x=b(),f=Object(r.useState)([]),g=Object(O.a)(f,2),w=g[0],C=g[1],N=ue();return Object(r.useLayoutEffect)((function(){function e(){return(e=Object(d.a)(u.a.mark((function e(){var n;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return j(!0),console.log("retrieving for date: ",h),console.log("$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$"),e.next=5,re(x.user,h);case 5:n=e.sent,t&&(C(n),j(!1));case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}console.log("use effect entries");var t=!0;return function(){e.apply(this,arguments)}(),function(){t=!1}}),[]),Object(p.jsxs)(v.a,{children:[console.log("entries root"),Object(p.jsxs)("div",{className:N.headerContainer,children:[Object(p.jsx)("h1",{className:N.title,children:Object(p.jsx)("em",{children:Object(p.jsx)("i",{children:t})})}),Object(p.jsx)(o.b,{to:{pathname:"".concat(m,"/entries/create-entry"),new:!0,search:h},children:Object(p.jsx)(k.a,{variant:"dark",children:"create new entry"})})," "]}),l?Object(p.jsxs)("div",{className:N.spinnerContainer,children:[" ",Object(p.jsx)(y.a,{animation:"border",className:N.spinner,role:"status",children:Object(p.jsx)("span",{className:"sr-only",children:"Loading..."})})]}):w.length>0?w.map((function(e,t){return Object(p.jsx)(le.a,{className:N.card,children:Object(p.jsxs)(le.a.Body,{children:[Object(p.jsxs)(le.a.Title,{children:[e.title," "]}),Object(p.jsx)(le.a.Text,{className:N.cardText,children:je(e.data)}),Object(p.jsx)("div",{className:N.linkContainer,children:Object(p.jsxs)(k.a,{variant:"dark",onClick:function(){n.push({pathname:"".concat(m,"/entries/display-entry"),entry:e,search:"".concat(e._id)})},children:[" ","go to entry"]})})]})},t)})):Object(p.jsx)("div",{className:N.noEntriesMessageContainer,children:Object(p.jsx)("h1",{children:"No entries made on this date"})})]})}var he=Object(T.a)({calendar:{marginTop:"2rem",width:"100%","& .react-calendar__tile--active":{background:"black"}},button:{border:" 5px solid gray"}});function me(e){var t=Object(r.useState)(new Date),n=Object(O.a)(t,2),a=n[0],c=n[1],s=Object(i.i)().path,o=Object(i.g)(),l=he(),u=e.rootRoute;return Object(p.jsxs)(i.d,{children:[console.log("rendering calendar"),Object(p.jsx)(i.b,{path:"".concat(s,"/Entries"),children:Object(p.jsx)(pe,{rootRoute:u})}),Object(p.jsx)(i.b,{path:"".concat(s),children:Object(p.jsx)(v.a,{children:Object(p.jsx)(q.a,{className:l.calendar,onChange:c,value:a,onClickDay:function(e){o.push({pathname:"".concat(s,"/Entries"),search:e.toString()})}})})})]})}var xe=n(121);function fe(e){var t=e.pages,n=e.active,r=e.setActive;return Object(p.jsx)("div",{children:Object(p.jsx)(xe.a,{variant:"dark",size:"lg",children:function(){for(var e=[],a=function(t){e.push(Object(p.jsx)(xe.a.Item,{onClick:function(){return r(t)},active:t===n,children:t},t))},c=1;c<=t;c++)a(c);return e}().map((function(e){return e}))})})}var ge=Object(T.a)({headerContainer:{display:"flex",justifyContent:"space-between",alignItems:"center",marginTop:"2rem"},linkContainer:{textAlign:"end"},card:{marginBottom:"2rem"},cardText:{whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis"},spinnerContainer:{display:"flex",paddingTop:"20vh",justifyContent:"center"},spinner:{width:"5rem",height:"5rem"},noEntriesMessageContainer:{display:"flex",justifyContent:"center",paddingTop:"4rem",border:"2px solid black",marginTop:"6rem",paddingBottom:"4rem",alignItems:"center",background:"lightsteelblue",borderRadius:"5px"},dateContainer:{backgroundColor:"black",color:"white"},newEntryButton:{display:"block",marginBottom:"2rem"},paginationContainer:{display:"flex",justifyContent:"center",paddingTop:"2rem",paddingBottom:"2rem","& .page-item .page-link":{color:"black"},"& .page-item.active .page-link":{backgroundColor:"black",borderColor:"black",color:"white"}}});function Oe(e){var t=Object(r.useState)([]),n=Object(O.a)(t,2),a=n[0],c=n[1],s=Object(r.useState)(!1),o=Object(O.a)(s,2),l=o[0],j=o[1],h=b(),m=ge(),x=Object(i.g)(),f=Object(r.useState)(0),g=Object(O.a)(f,2),w=g[0],C=g[1],N=Object(r.useState)(1),S=Object(O.a)(N,2),T=S[0],E=S[1],I=Object(r.useState)(5),B=Object(O.a)(I,2),L=B[0],$=(B[1],e.rootRoute);return Object(r.useLayoutEffect)((function(){function e(){return(e=Object(d.a)(u.a.mark((function e(t){var r;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,te(t);case 2:r=e.sent,n&&C(r);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function t(){return(t=Object(d.a)(u.a.mark((function e(t,r,a){var s,o;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,re(t,null,r,a);case 2:s=e.sent,console.log(s),o=be(s),n&&(c(o),j(!1));case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}j(!0);var n=!0;return function(t){e.apply(this,arguments)}(h.user),function(e,n,r){t.apply(this,arguments)}(h.user,L,T),function(){n=!1}}),[T]),Object(p.jsx)(v.a,{children:l?Object(p.jsxs)("div",{className:m.spinnerContainer,children:[" ",Object(p.jsx)(y.a,{animation:"border",className:m.spinner,role:"status",children:Object(p.jsx)("span",{className:"sr-only",children:"Loading..."})})]}):Object(p.jsxs)("div",{children:[Object(p.jsx)("div",{className:m.paginationContainer,children:Object(p.jsx)(fe,{pages:Math.ceil(w/L),active:T,setActive:E})}),Object(p.jsx)(k.a,{className:m.newEntryButton,variant:"dark",onClick:function(){return x.push({pathname:"Entries/create-entry"})},children:"add a new journal entry"}),a.length>0?a.map((function(e,t){return Object(p.jsxs)("div",{children:[Object(p.jsx)("div",{className:m.dateContainer,children:Object(p.jsx)("h2",{children:V()(new Date(e.date),"dddd, mmmm dS, yyyy")})}),e.entries.map((function(e){return Object(p.jsx)(le.a,{className:m.card,children:Object(p.jsxs)(le.a.Body,{children:[Object(p.jsx)(le.a.Title,{children:e.title}),Object(p.jsx)(le.a.Text,{className:m.cardText,children:je(e.data)}),Object(p.jsx)("div",{className:m.linkContainer,children:Object(p.jsxs)(k.a,{variant:"dark",onClick:function(){x.push({pathname:"".concat($,"/entries/display-entry"),entry:e,search:"".concat(e._id)})},children:[" ","go to post"]})})]})},e._id)}))]},t)})):Object(p.jsx)("div",{children:Object(p.jsx)("div",{className:m.noEntriesMessageContainer,children:Object(p.jsx)("h1",{children:"No journal entries have been made yet"})})}),Object(p.jsx)("div",{className:m.paginationContainer,children:Object(p.jsx)(fe,{pages:Math.ceil(w/L),active:T,setActive:E})})]})})}var ve=n(33),ye=n(34),we=n.n(ye);function ke(e){var t=Object(r.useState)(!0),n=Object(O.a)(t,1)[0],a=e.data,c=e.setData;return Object(p.jsxs)("div",{className:"root",children:[console.log("rendering editor with data: "+a),n?Object(p.jsx)(ve.CKEditor,{editor:we.a,data:a,onReady:function(e){console.log("Editor is ready to use!",e)},onChange:function(e,t){return c(t.getData())},disabled:!1}):Object(p.jsx)(ve.CKEditor,{config:{toolbar:[]},editor:we.a,data:a,onReady:function(e){console.log("Editor is ready to use!",e)},disabled:!0})]})}var Ce=Object(T.a)({root:{paddingTop:"2rem"},inputLabel:{fontSize:"2rem",marginTop:"2rem",display:"block"},inputTitle:{width:"100%",marginBottom:"2rem"},message:{textAlign:"center"}});function Ne(e){var t,n=Object(i.h)(),a=Object(i.g)(),c=Object(r.useState)(),s=Object(O.a)(c,2),l=s[0],j=s[1],h=Object(r.useState)(""),m=Object(O.a)(h,2),x=m[0],f=m[1],g=Object(r.useState)(!1),y=Object(O.a)(g,2),w=y[0],C=y[1],N=b().user,S=Ce(),T=n.search.slice(1),E=e.rootRoute;try{T||(T=new Date),T=decodeURI(T),t=V()(T,"dddd dd mmmm yyyy")}catch(B){console.log(n.search.slice(1)),console.log(B)}var I=function(){var e=Object(d.a)(u.a.mark((function e(t){var n,r,c,s;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:s=function(){return(s=Object(d.a)(u.a.mark((function e(t){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,X(t);case 2:200===e.sent.status&&(C(!0),setTimeout((function(){return a.goBack()}),1e3));case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)},c=function(e){return s.apply(this,arguments)},n=new Date,r=n.getTimezoneOffset(),c({date:T,username:N,title:x,data:t,createdAt:n,timezoneOffset:r});case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(p.jsx)(v.a,{className:S.root,children:w?Object(p.jsx)("h1",{className:S.message,children:"Post successfull"}):Object(p.jsxs)("div",{children:[console.log(n.search.slice(1)),console.log(T),Object(p.jsxs)("h1",{children:[t,Object(p.jsx)("span",{style:{fontSize:"1.2rem"},children:Object(p.jsx)(o.b,{to:"".concat(E,"/Calendar"),children:" pick a different date"})})]}),Object(p.jsx)("h3",{children:"Create a new Entry"}),Object(p.jsx)("label",{htmlFor:"titleInput",className:S.inputLabel,children:"title"}),Object(p.jsx)("input",{id:"titleInput",value:x,onChange:function(e){return f(e.target.value)},className:S.inputTitle}),Object(p.jsx)(ke,{handleSubmit:I,data:l,setData:function(e){return j(e)}}),Object(p.jsx)(k.a,{variant:"dark mt-2",className:S.buttonSave,onClick:function(){return I(l)},children:"save new entry"})]})})}var Se=Object(T.a)({root:{paddingTop:"2rem"},titleInput:{marginBottom:"2rem",width:"100%"},titleLabel:{fontSize:"2rem"},buttonSave:{marginTop:"2rem",marginRight:"1rem"},message:{textAlign:"center"}});function Te(e){var t=Object(i.h)(),n=Object(i.g)(),a=Object(r.useState)(t.entry),c=Object(O.a)(a,2),s=c[0],o=c[1],l=Object(r.useState)(""),j=Object(O.a)(l,2),b=j[0],h=j[1],m=Object(r.useState)(""),x=Object(O.a)(m,2),f=x[0],g=x[1],y=Object(r.useState)(!1),w=Object(O.a)(y,2),C=w[0],N=w[1],S=Object(r.useState)(!1),T=Object(O.a)(S,2),E=T[0],I=T[1],B=Object(r.useState)(!1),L=Object(O.a)(B,2),$=L[0],P=L[1],R=Se();function D(){I(!0),setTimeout((function(){return I(!1)}),1e3)}Object(r.useEffect)((function(){function e(){return(e=Object(d.a)(u.a.mark((function e(){var n,r;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(s){e.next=12;break}return console.log("No entry"),n=t.search.slice(1),e.next=5,ce(n);case 5:r=e.sent,console.log("entry res "+r),o(r),h(r.data),g(r.title),e.next=13;break;case 12:b||(console.log("No data"),h(s.data),g(s.title));case 13:case"end":return e.stop()}}),e)})))).apply(this,arguments)}s&&b||function(){e.apply(this,arguments)}()}),[]);var A=function(){var e=Object(d.a)(u.a.mark((function e(){var t;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=function(){return(t=Object(d.a)(u.a.mark((function e(t){var n,r,a,c;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.entryId,r=t.title,a=t.data,console.log("id "+n),console.log("data "+a),console.log("title "+r),e.next=6,Z(n,r,a);case 6:c=e.sent,N(!1),console.log(c),D();case 10:case"end":return e.stop()}}),e)})))).apply(this,arguments)},function(e){return t.apply(this,arguments)}({data:b,title:f,entryId:s._id});case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),G=function(){var e=Object(d.a)(u.a.mark((function e(t){var r;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=s._id,e.next=3,oe(r);case 3:e.sent,P(!0),setTimeout((function(){P(!1),n.goBack()}),1e3);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(p.jsx)(v.a,{className:R.root,children:E?Object(p.jsx)("h1",{className:R.message,children:"post has been updated"}):Object(p.jsx)(p.Fragment,{children:$?Object(p.jsx)("h1",{className:R.message,children:"post has been deleted"}):Object(p.jsx)("div",{children:C?Object(p.jsxs)("div",{children:[Object(p.jsx)("label",{htmlFor:"titleInput",className:R.titleLabel,children:"Title"}),Object(p.jsx)("input",{id:"titleInput",type:"text",value:f,className:R.titleInput,onChange:function(e){return g(e.target.value)},disabled:!C}),Object(p.jsx)(ve.CKEditor,{editor:we.a,data:b,onReady:function(e){console.log("Editor is ready to use!",e)},onChange:function(e,t){return h(t.getData())},disabled:!C}),Object(p.jsxs)(k.a,{variant:"dark mt-2",className:R.buttonSave,onClick:function(){return A()},children:["save changes"," "]})]}):Object(p.jsxs)(p.Fragment,{children:[Object(p.jsx)("h1",{children:je(f)}),Object(p.jsx)("p",{children:je(b)}),Object(p.jsxs)(k.a,{variant:"dark",className:R.buttonSave,onClick:function(){return N(!C)},children:["edit post"," "]}),Object(p.jsxs)(k.a,{variant:"dark",className:R.buttonSave,name:"deleteButton",onClick:function(e){return G(e)},children:["delete post"," "]})]})})})})}function Ee(){return Object(p.jsx)("div",{style:{display:"flex",justifyContent:"center"},children:Object(p.jsx)("h1",{children:"error 404,Page not found."})})}var Ie=Object(T.a)({loadingContainer:{display:"flex",justifyContent:"center","& h1":{paddingTop:"2rem"}}});function Be(e){var t=b(),n=Ie(),r="/OnlineJournal";return Object(p.jsxs)("div",{children:[console.log("rendering APP"),console.log("production"),console.log("#####################"),Object(p.jsx)(h,{}),Object(p.jsx)("div",{children:t.loading?Object(p.jsx)("div",{className:n.loadingContainer,children:Object(p.jsx)("h1",{className:n.loadingText,children:"Loading..."})}):Object(p.jsxs)("div",{children:[Object(p.jsx)(K,{rootRoute:r}),Object(p.jsxs)(i.d,{children:[Object(p.jsx)(i.b,{exact:!0,path:"/",children:Object(p.jsx)(i.a,{to:{pathname:"".concat(r,"/")}})}),Object(p.jsx)(i.b,{exact:!0,path:"".concat(r,"/"),children:Object(p.jsx)(D,{rootRoute:r})}),Object(p.jsx)(i.b,{path:"".concat(r,"/signin"),children:t.user?Object(p.jsx)(i.a,{to:{pathname:"".concat(r,"/")}}):Object(p.jsx)(J,{})}),Object(p.jsx)(i.b,{path:"".concat(r,"/profile"),children:t.user?Object(p.jsx)(F,{}):Object(p.jsx)(i.a,{to:{pathname:"".concat(r,"/")}})}),Object(p.jsx)(i.b,{path:"".concat(r,"/signup"),children:t.user?Object(p.jsx)(i.a,{to:{pathname:"".concat(r,"/profile")}}):Object(p.jsx)(I,{})}),Object(p.jsx)(i.b,{path:"".concat(r,"/allentries"),children:t.user?Object(p.jsx)(Oe,{rootRoute:r}):Object(p.jsx)(i.a,{to:{pathname:"".concat(r,"/signin")}})}),Object(p.jsx)(i.b,{path:"".concat(r,"/calendar"),children:Object(p.jsx)(me,{rootRoute:r})}),Object(p.jsx)(i.b,{path:"".concat(r,"/journal"),children:t.user?Object(p.jsx)(H,{}):Object(p.jsx)(i.a,{to:{pathname:"".concat(r,"/")}})}),Object(p.jsx)(i.b,{path:"".concat(r,"/entries/create-entry"),children:t.user?Object(p.jsx)(Ne,{}):Object(p.jsx)(i.a,{to:{pathname:"".concat(r,"/")}})}),Object(p.jsx)(i.b,{path:"".concat(r,"/entries/display-entry"),children:t.user?Object(p.jsx)(Te,{}):Object(p.jsx)(i.a,{to:{pathname:"".concat(r,"/")}})}),Object(p.jsx)(i.b,{children:Object(p.jsx)(Ee,{})})]})]})})]})}var Le=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,122)).then((function(t){var n=t.getCLS,r=t.getFID,a=t.getFCP,c=t.getLCP,s=t.getTTFB;n(e),r(e),a(e),c(e),s(e)}))};function $e(){return Pe.apply(this,arguments)}function Pe(){return(Pe=Object(d.a)(u.a.mark((function e(){var t,n;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t="".concat(m,"users/auth"),console.log(t),console.log("checking auth"),e.next=5,fetch(t,{method:"GET",credentials:"include",headers:{"Content-Type":"application/json"}});case 5:return n=e.sent,e.abrupt("return",n);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Re(){return De.apply(this,arguments)}function De(){return(De=Object(d.a)(u.a.mark((function e(){var t;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat(m,"users/refreshToken"),{method:"GET",credentials:"include",headers:{"Content-Type":"application/json"}});case 2:return t=e.sent,e.abrupt("return",t);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Ae(){return Ge.apply(this,arguments)}function Ge(){return(Ge=Object(d.a)(u.a.mark((function e(){var t,n,r,a,c,s,o;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("in check and refresh auth"),e.next=3,$e();case 3:if(200!==(t=e.sent).status){e.next=13;break}return console.log("access token valid"),e.next=8,t.text();case 8:return n=e.sent,console.log("username: "+n),e.abrupt("return",n);case 13:if(401!==t.status){e.next=47;break}return console.log("access token expired"),e.next=17,t.text();case 17:return r=e.sent,console.log(r),e.next=21,Re();case 21:if(200!==(t=e.sent).status){e.next=44;break}return console.log("new access token issued"),e.next=26,$e();case 26:if(200!==(a=e.sent).status){e.next=36;break}return console.log("access token valid"),e.next=31,a.text();case 31:return c=e.sent,console.log("username: "+c),e.abrupt("return",c);case 36:return console.log("2nd check auth returned "+a.status),e.next=39,a.text();case 39:return s=e.sent,console.log(s),e.abrupt("return");case 42:e.next=45;break;case 44:return e.abrupt("return");case 45:e.next=52;break;case 47:return e.next=49,t.text();case 49:return o=e.sent,console.log(o),e.abrupt("return");case 52:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Je(){return Me.apply(this,arguments)}function Me(){return(Me=Object(d.a)(u.a.mark((function e(){var t;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat(m,"users/signout"),{withCredentials:!0,credentials:"include"});case 2:return t=e.sent,e.abrupt("return",t);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Fe(e){return _e.apply(this,arguments)}function _e(){return(_e=Object(d.a)(u.a.mark((function e(t){var n;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat(m,"users/signin"),{method:"POST",withCredentials:!0,credentials:"include",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)});case 2:return n=e.sent,e.abrupt("return",n);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Ue(e){return ze.apply(this,arguments)}function ze(){return(ze=Object(d.a)(u.a.mark((function e(t){var n;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat(m,"users/signup"),{method:"POST",withCredentials:!0,credentials:"include",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)});case 2:return n=e.sent,console.log("authAPI signup response"),console.log(n),e.abrupt("return",n);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Ke(e){return We.apply(this,arguments)}function We(){return(We=Object(d.a)(u.a.mark((function e(t){var n;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat(m,"users/google/signin"),{method:"POST",withCredentials:!0,credentials:"include",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)});case 2:return n=e.sent,e.abrupt("return",n);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function He(e){return qe.apply(this,arguments)}function qe(){return(qe=Object(d.a)(u.a.mark((function e(t){var n,r,a,c,s;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.username,r=t.name,a=t.email,c=t.hobbies,e.next=3,fetch("".concat(m,"users/").concat(n),{method:"PATCH",withCredentials:!0,credentials:"include",headers:{"Content-Type":"application/json"},body:JSON.stringify({name:r,email:a,hobbies:c})});case 3:return s=e.sent,e.abrupt("return",s);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Qe(e){return Ve.apply(this,arguments)}function Ve(){return(Ve=Object(d.a)(u.a.mark((function e(t){var n,r;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t,e.next=3,fetch("".concat(m,"users/").concat(n),{method:"GET",withCredentials:!0,credentials:"include",headers:{"Content-Type":"application/json"}});case 3:return r=e.sent,e.abrupt("return",r);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Xe(e){var t=function(){var e=Object(r.useState)(""),t=Object(O.a)(e,2),n=t[0],a=t[1],c=Object(r.useState)(!1),s=Object(O.a)(c,2),o=s[0],i=s[1];function l(){return(l=Object(d.a)(u.a.mark((function e(t){var n;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("in userSignIn"),e.next=3,Fe(t);case 3:if(200!==(n=e.sent).status){e.next=9;break}return console.log("user signin successfull"),console.log("setting user to: "+t.username),a(t.username),e.abrupt("return",!0);case 9:if(403!==n.status){e.next=12;break}return console.log(n.status),e.abrupt("return",!1);case 12:console.log(n);case 13:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function j(){return(j=Object(d.a)(u.a.mark((function e(t,n,r,a){var c,s,o;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c={username:t,name:n,email:r,hobbies:a},e.next=3,He(c);case 3:if(200!==(s=e.sent).status){e.next=11;break}return e.next=7,s.json();case 7:return o=e.sent,e.abrupt("return",o);case 11:return e.abrupt("return",!1);case 12:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function b(){return(b=Object(d.a)(u.a.mark((function e(t){var n,r;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Qe(t);case 2:if(200!==(n=e.sent).status){e.next=10;break}return e.next=6,n.json();case 6:return r=e.sent,e.abrupt("return",r);case 10:return console.log("error retrieving user data. err code",n.status),e.abrupt("return",!1);case 12:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function p(){return(p=Object(d.a)(u.a.mark((function e(t,n){var r,c,s;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ue({username:t,password:n});case 2:if(r=e.sent,console.log("useUserProvider signup res:"),console.log(r),200!==r.status){e.next=11;break}return console.log("user signin successfull"),a(t),e.abrupt("return",t);case 11:return e.next=13,r.json();case 13:return c=e.sent,s=c.message,e.abrupt("return",s);case 16:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function h(){return(h=Object(d.a)(u.a.mark((function e(t){var n,r;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("in google sign in"),e.next=3,Ke(t);case 3:if(n=e.sent,console.log("useUserProvider googleSignIn res:"),console.log(n),200!==n.status){e.next=13;break}return console.log("user signin successfull"),e.next=10,n.json();case 10:return r=e.sent,a(r),e.abrupt("return",!0);case 13:if(!(n.status>400)){e.next=17;break}return console.log(n.status),console.log("unauthorized"),e.abrupt("return",!1);case 17:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function m(){return(m=Object(d.a)(u.a.mark((function e(){var t;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Je();case 2:if(200!==(t=e.sent).status){e.next=7;break}return a(""),console.log("user removed from context"),e.abrupt("return",t);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function x(){return(x=Object(d.a)(u.a.mark((function e(){var t;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ae();case 2:return t=e.sent,console.log("check and refresh returned: "+t),t?t!==n&&(a(t),console.log("putting user in context")):(a(""),console.log("removing user from context")),e.abrupt("return");case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return{user:n,userCheckAndRefreshAuth:function(){return x.apply(this,arguments)},userGoogleSignIn:function(e){return h.apply(this,arguments)},userSignIn:function(e){return l.apply(this,arguments)},userSignOut:function(){return m.apply(this,arguments)},userSignUp:function(e,t){return p.apply(this,arguments)},loading:o,setLoading:i,userGetDetails:function(e){return b.apply(this,arguments)},userUpdateDetails:function(e,t,n,r){return j.apply(this,arguments)}}}();return Object(p.jsx)(j.Provider,{value:t,children:e.children})}n(101);s.a.render(Object(p.jsxs)(a.a.StrictMode,{children:[Object(p.jsx)(o.a,{children:Object(p.jsx)(Xe,{children:Object(p.jsx)(Be,{})})}),","]}),document.getElementById("root")),Le()}},[[102,1,2]]]);
//# sourceMappingURL=main.41c4d469.chunk.js.map