{"version":3,"sources":["context/UserContext.js","components/Middleware.js","components/Signup.js","api/config.js","api/authApi.js","img/stockJournal.png","components/Home.js","components/Signin.js","components/Profile.js","components/NavComp.js","components/Journal.js","api/entriesApi.js","components/DisplayEntry.js","components/Editor.js","components/NewEntry.js","components/Entries.js","components/Calendar.js","components/PaginationComponent.js","components/AllEntries.js","components/FourOFour.js","App.js","reportWebVitals.js","context/UserProvider.js","state/useUserProvider.js","index.js"],"names":["userContext","React","createContext","useUserContext","useContext","Middleware","props","location","useLocation","useLayoutEffect","a","setLoading","userCheckAndRefreshAuth","checkTokenValidity","pathname","console","log","useStyles","makeStyles","root","form","marginTop","errorMessage","color","spinnerContainer","display","paddingTop","justifyContent","spinner","width","height","Signup","classes","useState","status","errorMessageList","setErrorMessage","loading","useEffect","JSON","stringify","username","password","repeatPassword","formFields","setFormFields","handleChange","e","prev","target","name","value","handleSubmit","preventDefault","errorList","validatePassword","length","messageList","forEach","error","message","push","userSignUp","result","schema","passwordValidator","is","min","max","has","digits","not","spaces","validate","list","Container","className","Spinner","animation","role","Form","onSubmit","Group","controlId","Label","Control","onChange","type","placeholder","map","err","Button","variant","serverUrl","process","checkAuth","formedUrl","fetch","method","credentials","headers","response","refreshAuth","text","data","checkAndRefreshAuth","res","signout","withCredentials","signin","body","signup","googleSignin","accessTokenObj","updateDetails","email","hobbies","getDetails","title","marginBottom","imageContainer","image","marginLeft","signoutButton","borderStyle","backgroundColor","padding","Home","getHome","user","Row","Col","xs","to","ListGroup","Item","onClick","userSignOut","src","journalImg","alt","button","dividerContainer","dividerText","border","borderRadius","background","transform","buttonContainer","googleButton","boxShadow","Signin","remember","userSignIn","responseGoogle","access_token","tokenObj","userGoogleSignIn","Check","label","Alert","clientId","buttonText","onSuccess","onFailure","cookiePolicy","textAlign","row","verticalAlign","fontWeight","Profile","userGetDetails","userUpdateDetails","details","setDetails","event","userGetDetailsWrapper","as","rows","NavComp","rootRoute","Navbar","bg","expand","Brand","Toggle","aria-controls","Collapse","id","Nav","item","fontSize","marginRight","textDecoration","Journal","useRouteMatch","useHistory","saveEntry","date","entryData","updateEntry","getNumberOfEntries","json","entries","getEntries","amount","order","encodedDate","encodeURIComponent","getEntry","entryId","deleteEntry","titleInput","titleLabel","buttonSave","strip","html","DOMParser","parseFromString","textContent","DisplayEntry","history","entry","setEntry","setData","setTitle","editMode","setEditMode","successMessage","setSuccessMessage","deletMessage","setDeleteMessage","displaySuccessMessage","setTimeout","search","slice","getEntryWrapper","updateData","updateEntryWrapper","_id","handleDelete","goBack","htmlFor","disabled","editor","ClassicEditor","onReady","getData","Editor","config","toolbar","inputLabel","inputTitle","NewEntry","displayDate","Date","decodeURI","dateFormat","saveEntryWrapper","createdAt","timezoneOffset","getTimezoneOffset","style","headerContainer","alignItems","linkContainer","card","cardText","whiteSpace","overflow","textOverflow","noEntriesMessageContainer","paddingBottom","Entries","isExact","path","url","setEntries","loadEntries","new","Card","Body","Title","Text","calendar","Calendar","onDateChange","onClickDay","toString","PaginationComponent","pages","active","setActive","Pagination","size","items","number","makeItems","dateContainer","newEntryButton","paginationContainer","borderColor","AllEntries","entriesByDate","setEntriesByDate","numberOfEntries","setNumberOfEntries","activePage","setActivePage","entriesPerPage","dates","dateSet","Set","obj","getNumberOfEntriesWrapper","getEntriesWrapper","Math","ceil","FourOFour","loadingContainer","App","loadingText","exact","reportWebVitals","onPerfEntry","Function","then","getCLS","getFID","getFCP","getLCP","getTTFB","UserProvider","userMethods","setUser","useUserProvider","Provider","children","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.f01bb55f.chunk.js","sourcesContent":["import React, { useContext } from \"react\";\r\nconst userContext = React.createContext();\r\nfunction useUserContext() {\r\n  return useContext(userContext);\r\n}\r\nexport { useUserContext, userContext };\r\n","import { useLocation } from \"react-router-dom\";\r\nimport { useLayoutEffect, useState } from \"react\";\r\nimport { useUserContext } from \"../context/UserContext\";\r\n\r\nexport default function Middleware({ props }) {\r\n  const location = useLocation();\r\n\r\n  const userContext = useUserContext();\r\n\r\n  useLayoutEffect(() => {\r\n    async function checkTokenValidity() {\r\n      userContext.setLoading(true);\r\n\r\n      await userContext.userCheckAndRefreshAuth();\r\n      userContext.setLoading(false);\r\n    }\r\n    checkTokenValidity();\r\n  }, [location.pathname]);\r\n\r\n  return <div>{console.log(\"rendering middleware\")}</div>;\r\n}\r\n","import { useState, useEffect } from \"react\";\r\nimport { useUserContext } from \"../context/UserContext\";\r\nimport { useHistory } from \"react-router-dom\";\r\nimport { makeStyles } from \"@material-ui/styles\";\r\nimport { Form, Button, Container, Spinner } from \"react-bootstrap\";\r\nimport passwordValidator from \"password-validator\";\r\n\r\nconst useStyles = makeStyles({\r\n  root: {},\r\n  form: { marginTop: \"2rem\" },\r\n  errorMessage: {\r\n    color: \"red\",\r\n  },\r\n  spinnerContainer: {\r\n    display: \"flex\",\r\n    paddingTop: \"20vh\",\r\n    justifyContent: \"center\",\r\n  },\r\n  spinner: {\r\n    width: \"5rem\",\r\n    height: \"5rem\",\r\n  },\r\n});\r\n\r\nexport default function Signup(props) {\r\n  const userContext = useUserContext();\r\n  const classes = useStyles();\r\n  const [errorMessage, setErrorMessage] = useState({\r\n    status: false,\r\n    errorMessageList: [],\r\n  });\r\n  const [loading, setLoading] = useState(false);\r\n  useEffect(() => {\r\n    console.log(\"logging user context:\" + JSON.stringify(userContext));\r\n  }, [userContext]);\r\n\r\n  const [formFields, setFormFields] = useState({\r\n    username: \"\",\r\n    password: \"\",\r\n    repeatPassword: \"\",\r\n  });\r\n\r\n  const handleChange = (e) => {\r\n    console.log(\"change\");\r\n    setFormFields((prev) => ({ ...prev, [e.target.name]: e.target.value }));\r\n  };\r\n  const handleSubmit = async (e) => {\r\n    console.log(\"submit\");\r\n    e.preventDefault();\r\n    console.log(userContext);\r\n    const { username, password } = formFields;\r\n    const errorList = validatePassword(password);\r\n    console.log(errorList);\r\n\r\n    if (errorList.length > 0) {\r\n      let messageList = [];\r\n\r\n      errorList.forEach((error) => {\r\n        let message;\r\n        if (error === \"min\") message = \"password must be at least 8 characters\";\r\n        if (error === \"max\") message = \"password cannot exceed 100 characters\";\r\n        if (error === \"digits\")\r\n          message = \"password must contain at least one digit\";\r\n        if (error === \"spaces\") message = \"password cannot contain spaces\";\r\n        console.log(message);\r\n        messageList.push(message);\r\n      });\r\n      setErrorMessage({ status: true, errorMessageList: messageList });\r\n    } else {\r\n      setLoading(true);\r\n      const result = await userContext.userSignUp(username, password);\r\n      setLoading(false);\r\n\r\n      if (result !== username) {\r\n        setErrorMessage({ status: true, errorMessageList: [result] });\r\n      }\r\n    }\r\n  };\r\n\r\n  var schema = new passwordValidator();\r\n\r\n  function validatePassword(password) {\r\n    schema\r\n      .is()\r\n      .min(8) // Minimum length 8\r\n      .is()\r\n      .max(100) // Maximum length 100\r\n      .has()\r\n      .digits(1) // Must have at least 2 digits\r\n      .has()\r\n      .not()\r\n      .spaces();\r\n\r\n    return schema.validate(password, { list: true });\r\n  }\r\n\r\n  return (\r\n    <Container>\r\n      {loading ? (\r\n        <div className={classes.spinnerContainer}>\r\n          {\" \"}\r\n          <Spinner animation=\"border\" className={classes.spinner} role=\"status\">\r\n            <span className=\"sr-only\">Loading...</span>\r\n          </Spinner>\r\n        </div>\r\n      ) : (\r\n        <Form className={classes.form} onSubmit={handleSubmit}>\r\n          <Form.Group controlId=\"formBasicEmail\">\r\n            <Form.Label>username</Form.Label>\r\n            <Form.Control\r\n              value={formFields.username}\r\n              onChange={handleChange}\r\n              name=\"username\"\r\n              type=\"text\"\r\n              placeholder=\"Enter email\"\r\n            />\r\n          </Form.Group>\r\n\r\n          <Form.Group controlId=\"formBasicPassword\">\r\n            <Form.Label>password</Form.Label>\r\n            <Form.Control\r\n              value={formFields.password}\r\n              onChange={handleChange}\r\n              name=\"password\"\r\n              type=\"password\"\r\n              placeholder=\"password\"\r\n            />\r\n          </Form.Group>\r\n          <Form.Group controlId=\"formBasicPassword\">\r\n            <Form.Label>repeat password</Form.Label>\r\n            <Form.Control\r\n              value={formFields.password}\r\n              onChange={handleChange}\r\n              name=\"password\"\r\n              type=\"password\"\r\n              placeholder=\"password\"\r\n            />\r\n          </Form.Group>\r\n          {errorMessage.status && (\r\n            <div>\r\n              {errorMessage.errorMessageList.map((err) => (\r\n                <p key={err} className={classes.errorMessage}>\r\n                  {err}\r\n                </p>\r\n              ))}\r\n            </div>\r\n          )}\r\n\r\n          <Button variant=\"primary\" type=\"submit\">\r\n            Submit\r\n          </Button>\r\n        </Form>\r\n      )}\r\n    </Container>\r\n  );\r\n}\r\n","const serverUrl = process.env.REACT_APP_HEROKU_SERVER_URL;\r\n// const serverUrl = process.env.REACT_APP_LOCAL_SERVER_URL;\r\nexport default serverUrl;\r\n","import serverUrl from \"./config\";\r\n\r\nasync function checkAuth() {\r\n  var formedUrl = `${serverUrl}users/auth`;\r\n  console.log(formedUrl);\r\n  console.log(\"checking auth\");\r\n\r\n  const response = await fetch(formedUrl, {\r\n    method: \"GET\",\r\n    credentials: \"include\",\r\n    headers: {\r\n      \"Content-Type\": \"application/json\",\r\n    },\r\n  });\r\n  return response;\r\n}\r\nasync function refreshAuth() {\r\n  const response = await fetch(`${serverUrl}users/refreshToken`, {\r\n    method: \"GET\",\r\n    credentials: \"include\",\r\n    headers: {\r\n      \"Content-Type\": \"application/json\",\r\n    },\r\n  });\r\n  return response;\r\n}\r\nasync function getHome() {\r\n  const response = await fetch(`${serverUrl}`, {\r\n    method: \"GET\",\r\n    credentials: \"include\",\r\n    headers: {\r\n      \"Content-Type\": \"application/json\",\r\n    },\r\n  });\r\n  const data = await response.text();\r\n  console.log(response);\r\n  console.log(response.headers);\r\n  console.log(data);\r\n\r\n  return response;\r\n}\r\n\r\nasync function checkAndRefreshAuth() {\r\n  console.log(\"in check and refresh auth\");\r\n  let res = await checkAuth();\r\n  if (res.status === 200) {\r\n    console.log(\"access token valid\");\r\n    let username = await res.text();\r\n    console.log(\"username: \" + username);\r\n    return username;\r\n  } else if (res.status === 401) {\r\n    console.log(\"access token expired\");\r\n    const message = await res.text();\r\n    console.log(message);\r\n    res = await refreshAuth();\r\n    if (res.status === 200) {\r\n      console.log(\"new access token issued\");\r\n      let res = await checkAuth();\r\n      if (res.status === 200) {\r\n        console.log(\"access token valid\");\r\n        let username = await res.text();\r\n        console.log(\"username: \" + username);\r\n\r\n        return username;\r\n      } else {\r\n        console.log(\"2nd check auth returned \" + res.status);\r\n        let message = await res.text();\r\n        console.log(message);\r\n        return;\r\n      }\r\n    } else {\r\n      return;\r\n    }\r\n  } else {\r\n    let message = await res.text();\r\n    console.log(message);\r\n    return;\r\n  }\r\n}\r\n\r\nasync function signout() {\r\n  const res = await fetch(`${serverUrl}users/signout`, {\r\n    withCredentials: true,\r\n    credentials: \"include\",\r\n  });\r\n  return res;\r\n}\r\n\r\nasync function signin(data) {\r\n  // Default options are marked with *\r\n  const response = await fetch(`${serverUrl}users/signin`, {\r\n    method: \"POST\", // *GET, POST, PUT, DELETE, etc.\r\n    withCredentials: true,\r\n    credentials: \"include\",\r\n    headers: {\r\n      \"Content-Type\": \"application/json\",\r\n      // 'Content-Type': 'application/x-www-form-urlencoded',\r\n    },\r\n\r\n    body: JSON.stringify(data), // body data type must match \"Content-Type\" header\r\n  });\r\n  return response; // parses JSON response into native JavaScript objects\r\n}\r\nasync function signup(data) {\r\n  // Default options are marked with *\r\n  const response = await fetch(`${serverUrl}users/signup`, {\r\n    method: \"POST\", // *GET, POST, PUT, DELETE, etc.\r\n    withCredentials: true,\r\n    credentials: \"include\",\r\n    headers: {\r\n      \"Content-Type\": \"application/json\",\r\n      // 'Content-Type': 'application/x-www-form-urlencoded',\r\n    },\r\n\r\n    body: JSON.stringify(data), // body data type must match \"Content-Type\" header\r\n  });\r\n  console.log(\"authAPI signup response\");\r\n  console.log(response);\r\n\r\n  return response; // parses JSON response into native JavaScript objects\r\n}\r\nasync function googleSignin(accessTokenObj) {\r\n  const res = await fetch(`${serverUrl}users/google/signin`, {\r\n    method: \"POST\",\r\n    withCredentials: true,\r\n    credentials: \"include\",\r\n    headers: {\r\n      \"Content-Type\": \"application/json\",\r\n      // \"Content-Type\": \"application/x-www-form-urlencoded\",\r\n    },\r\n    body: JSON.stringify(accessTokenObj),\r\n    // body: accessToken,\r\n  });\r\n  return res;\r\n}\r\nasync function updateDetails(data) {\r\n  const { username, name, email, hobbies } = data;\r\n  const res = await fetch(`${serverUrl}users/${username}`, {\r\n    // const res = await fetch(`${serverUrl}users/user`, {\r\n    method: \"PATCH\",\r\n    withCredentials: true,\r\n    credentials: \"include\",\r\n    headers: {\r\n      \"Content-Type\": \"application/json\",\r\n      // \"Content-Type\": \"application/x-www-form-urlencoded\",\r\n    },\r\n    body: JSON.stringify({ name, email, hobbies }),\r\n  });\r\n  return res;\r\n}\r\nasync function getDetails(data) {\r\n  const username = data;\r\n  const res = await fetch(`${serverUrl}users/${username}`, {\r\n    method: \"GET\",\r\n    withCredentials: true,\r\n    credentials: \"include\",\r\n    headers: {\r\n      \"Content-Type\": \"application/json\",\r\n      // \"Content-Type\": \"application/x-www-form-urlencoded\",\r\n    },\r\n  });\r\n  return res;\r\n}\r\n\r\nexport {\r\n  getHome,\r\n  checkAuth,\r\n  refreshAuth,\r\n  signin,\r\n  signout,\r\n  signup,\r\n  checkAndRefreshAuth,\r\n  googleSignin,\r\n  updateDetails,\r\n  getDetails,\r\n};\r\n","export default __webpack_public_path__ + \"static/media/stockJournal.16770ff0.png\";","import { useUserContext } from \"../context/UserContext\";\r\nimport { Container, ListGroup, Col, Row } from \"react-bootstrap\";\r\nimport { useEffect } from \"react\";\r\nimport { makeStyles } from \"@material-ui/styles\";\r\nimport { Link } from \"react-router-dom\";\r\nimport { getHome } from \"../api/authApi\";\r\nimport journalImg from \"../img/stockJournal.png\";\r\n\r\nconst useStyles = makeStyles({\r\n  title: {\r\n    marginTop: \"2rem\",\r\n    marginBottom: \"4rem\",\r\n  },\r\n  imageContainer: {\r\n    width: \"50%\",\r\n  },\r\n  image: {\r\n    marginLeft: \"50%\",\r\n    marginTop: \"-10%\",\r\n    width: \"100%\",\r\n  },\r\n  signoutButton: {\r\n    borderStyle: \"none\",\r\n    display: \"inline\",\r\n    backgroundColor: \"inherit\",\r\n    padding: \"0\",\r\n    color: \"dodgerblue\",\r\n  },\r\n});\r\n\r\nexport default function Home() {\r\n  const userContext = useUserContext();\r\n  const classes = useStyles();\r\n\r\n  useEffect(() => {\r\n    getHome();\r\n  });\r\n\r\n  return (\r\n    <Container className={classes.root}>\r\n      {userContext.user ? (\r\n        <>\r\n          <Row>\r\n            <Col xs={6}>\r\n              <h1 className={classes.title}>\r\n                Welcome Back, <Link to=\"/profile\">{userContext.user}</Link>\r\n              </h1>\r\n            </Col>\r\n          </Row>\r\n          <Row>\r\n            <Col xs={6}>\r\n              <ListGroup>\r\n                <ListGroup.Item>\r\n                  <Link to=\"/Journal\">Journal</Link>\r\n                </ListGroup.Item>\r\n\r\n                <ListGroup.Item>\r\n                  <Link to=\"/Profile\">Profile Page</Link>\r\n                </ListGroup.Item>\r\n                <ListGroup.Item>\r\n                  <button\r\n                    className={`${classes.signoutButton} list-group-item`}\r\n                    onClick={() => userContext.userSignOut()}\r\n                  >\r\n                    Signout\r\n                  </button>\r\n                </ListGroup.Item>\r\n              </ListGroup>\r\n            </Col>\r\n            <Col xs={6}>\r\n              <div className={classes.imageContainer}>\r\n                <img className={classes.image} src={journalImg} alt=\"\" />\r\n              </div>\r\n            </Col>\r\n          </Row>\r\n        </>\r\n      ) : (\r\n        <>\r\n          <Row>\r\n            <Col xs={6}>\r\n              <h1 className={classes.title}>Welcome To My Online Journal</h1>\r\n            </Col>\r\n          </Row>\r\n          <Row>\r\n            <Col xs={6}>\r\n              <ListGroup>\r\n                <ListGroup.Item>\r\n                  <Link to=\"/Signup\">create an account</Link>\r\n                </ListGroup.Item>\r\n\r\n                <ListGroup.Item>\r\n                  <Link to=\"/Signin\">Sign in with an existing account</Link>\r\n                </ListGroup.Item>\r\n              </ListGroup>\r\n            </Col>\r\n            <Col xs={6}>\r\n              <div className={classes.imageContainer}>\r\n                <img className={classes.image} src={journalImg} alt=\"\" />\r\n              </div>\r\n            </Col>\r\n          </Row>\r\n        </>\r\n      )}\r\n    </Container>\r\n  );\r\n}\r\n","import { useState, useEffect } from \"react\";\r\nimport { useUserContext } from \"../context/UserContext\";\r\nimport { makeStyles } from \"@material-ui/styles\";\r\nimport { Form, Button, Container, Alert } from \"react-bootstrap\";\r\nimport { GoogleLogin } from \"react-google-login\";\r\n\r\nconst useStyles = makeStyles({\r\n  root: {},\r\n  form: { marginTop: \"2rem\" },\r\n  button: {\r\n    marginBottom: \"2rem\",\r\n  },\r\n  dividerContainer: {\r\n    marginTop: \"4rem\",\r\n  },\r\n  dividerText: {\r\n    marginTop: \"-45px\",\r\n    border: \"2px solid black\",\r\n    display: \"inline-block\",\r\n    borderRadius: \"50%\",\r\n    background: \"white\",\r\n    padding: \"1rem\",\r\n    marginLeft: \"50%\",\r\n    transform: \"translate(-50%,-20%)\",\r\n  },\r\n  buttonContainer: {\r\n    display: \"flex\",\r\n    justifyContent: \"center\",\r\n    marginTop: \"4rem\",\r\n  },\r\n  googleButton: {\r\n    width: \"80%\",\r\n    background: \"red !important\",\r\n    color: \"white\",\r\n    padding: \"1rem\",\r\n    border: \"0px\",\r\n    boxShadow: \"2px 3px 5px black\",\r\n  },\r\n});\r\n\r\nexport default function Signin(props) {\r\n  const userContext = useUserContext();\r\n  const classes = useStyles();\r\n  const [errorMessage, setErrorMessage] = useState(false);\r\n\r\n  useEffect(() => {\r\n    console.log(\"logging user context:\" + JSON.stringify(userContext));\r\n  }, [userContext]);\r\n\r\n  const [formFields, setFormFields] = useState({\r\n    username: \"\",\r\n    password: \"\",\r\n    remember: false,\r\n  });\r\n  const handleCheck = (e) => {\r\n    setFormFields((prev) => ({\r\n      ...prev,\r\n      [e.target.name]: !formFields.remember,\r\n    }));\r\n  };\r\n  const handleChange = (e) => {\r\n    console.log(\"change\");\r\n    setFormFields((prev) => ({ ...prev, [e.target.name]: e.target.value }));\r\n  };\r\n  const handleSubmit = async (e) => {\r\n    e.preventDefault();\r\n    const user = formFields;\r\n    const result = await userContext.userSignIn(user);\r\n    console.log(result);\r\n    if (result === false) {\r\n      setErrorMessage(true);\r\n    }\r\n  };\r\n\r\n  async function responseGoogle(response) {\r\n    try {\r\n      console.log(response);\r\n      // console.log(response.tokenObj[\"access_token\"]);\r\n      const accessTokenObj = { access_token: response.tokenObj.access_token };\r\n      userContext.userGoogleSignIn(accessTokenObj);\r\n    } catch (err) {\r\n      console.log(err);\r\n    }\r\n  }\r\n\r\n  return (\r\n    <Container>\r\n      {console.log(\"rendering sign in\")}\r\n      <h2 className=\"mt-3\">sign in</h2>\r\n      <Form className={classes.form} onSubmit={handleSubmit}>\r\n        <Form.Group controlId=\"formBasicEmail\">\r\n          <Form.Label>username</Form.Label>\r\n          <Form.Control\r\n            value={formFields.username}\r\n            onChange={handleChange}\r\n            name=\"username\"\r\n            type=\"text\"\r\n            placeholder=\"Enter email\"\r\n          />\r\n        </Form.Group>\r\n\r\n        <Form.Group controlId=\"formBasicPassword\">\r\n          <Form.Label>Password</Form.Label>\r\n          <Form.Control\r\n            value={formFields.password}\r\n            onChange={handleChange}\r\n            name=\"password\"\r\n            type=\"password\"\r\n            placeholder=\"Password\"\r\n          />\r\n        </Form.Group>\r\n        <Form.Group controlId=\"formBasicCheckbox\">\r\n          <Form.Check\r\n            name=\"remember\"\r\n            onChange={handleCheck}\r\n            type=\"checkbox\"\r\n            label=\"remember me on this pc\"\r\n          />\r\n        </Form.Group>\r\n\r\n        <Button className={classes.button} variant=\"primary\" type=\"submit\">\r\n          Submit\r\n        </Button>\r\n        {errorMessage && (\r\n          <Alert variant={\"danger\"}>\r\n            Unable to login. Username or password are incorrect\r\n          </Alert>\r\n        )}\r\n      </Form>\r\n      <div className={classes.dividerContainer}>\r\n        <hr></hr>\r\n\r\n        <h1 className={classes.dividerText}>Or</h1>\r\n      </div>\r\n      {/* <div className={classes.buttonContainer}>\r\n        <button onClick={handleClick} className={classes.googleButton}>\r\n          <i class=\"fab fa-google mr-2\"></i>\r\n          <span>connect with google</span>\r\n        </button>\r\n      </div> */}\r\n      <div className={classes.buttonContainer}>\r\n        <GoogleLogin\r\n          // clientId=\"507566462397-llnfhqvlk2g21hsviv4jditq01i9f860.apps.googleusercontent.com\"\r\n          // clientId=\"507566462397-vdp1f4lpqml8a4fppi7h5d1sg4fm72h0.apps.googleusercontent.com\" //production\r\n          clientId=\"507566462397-7qgm46k6a0g50bj4s21go3nuibfs024a.apps.googleusercontent.com\" //ghpages\r\n          className={classes.googleButton}\r\n          buttonText=\"Login\"\r\n          onSuccess={responseGoogle}\r\n          onFailure={responseGoogle}\r\n          cookiePolicy={\"single_host_origin\"}\r\n        />\r\n      </div>\r\n    </Container>\r\n  );\r\n}\r\n","import { useHistory } from \"react-router-dom\";\r\nimport { useUserContext } from \"../context/UserContext\";\r\nimport { Container, Form, Row, Col, Button } from \"react-bootstrap\";\r\nimport { makeStyles } from \"@material-ui/styles\";\r\nimport { useLayoutEffect, useState } from \"react\";\r\nimport { Spinner } from \"react-bootstrap\";\r\n\r\nconst useStyles = makeStyles({\r\n  title: {\r\n    padding: \"2rem\",\r\n    textAlign: \"center\",\r\n  },\r\n  row: {\r\n    marginBottom: \"1rem\",\r\n  },\r\n  label: {\r\n    verticalAlign: \"middle\",\r\n    marginBottom: \"0\",\r\n    fontWeight: \"bold\",\r\n  },\r\n  spinnerContainer: {\r\n    display: \"flex\",\r\n    paddingTop: \"20vh\",\r\n    justifyContent: \"center\",\r\n  },\r\n  spinner: {\r\n    width: \"5rem\",\r\n    height: \"5rem\",\r\n  },\r\n  button: { display: \"block\", marginLeft: \"auto\" },\r\n});\r\n\r\nexport default function Profile(props) {\r\n  const userContext = useUserContext();\r\n  const { user, userGetDetails, userUpdateDetails } = userContext;\r\n  const [details, setDetails] = useState({\r\n    name: \"\",\r\n    email: \"\",\r\n    hobbies: \"\",\r\n  });\r\n  const [loading, setLoading] = useState(false);\r\n  const classes = useStyles();\r\n\r\n  useLayoutEffect(() => {\r\n    async function userGetDetailsWrapper() {\r\n      setLoading(true);\r\n      const data = await userGetDetails(user);\r\n      console.log(data);\r\n      const { name, email, hobbies } = data;\r\n      console.log(name, email, hobbies);\r\n      setDetails({ name, email, hobbies });\r\n      setLoading(false);\r\n    }\r\n    userGetDetailsWrapper();\r\n  }, [user]);\r\n\r\n  function onChange(event) {\r\n    setDetails((prev) => ({\r\n      ...prev,\r\n      [event.target.name]: event.target.value,\r\n    }));\r\n  }\r\n  async function handleClick() {\r\n    const { name, hobbies, email } = details;\r\n    setLoading(true);\r\n    const res = await userUpdateDetails(user, name, email, hobbies);\r\n    setLoading(false);\r\n    console.log(res);\r\n  }\r\n\r\n  return (\r\n    <Container>\r\n      {loading ? (\r\n        <div className={classes.spinnerContainer}>\r\n          {\" \"}\r\n          <Spinner animation=\"border\" className={classes.spinner} role=\"status\">\r\n            <span className=\"sr-only\">Loading...</span>\r\n          </Spinner>\r\n        </div>\r\n      ) : (\r\n        <div>\r\n          <h1 className={classes.title}>{user}'s Profile Page</h1>\r\n          <Row className={classes.row}>\r\n            <Col xs={2}>\r\n              <Form.Label className={classes.label}>Email address</Form.Label>\r\n            </Col>\r\n            <Col xs={6}>\r\n              <Form.Control\r\n                onChange={onChange}\r\n                name=\"email\"\r\n                value={details.email}\r\n                type=\"email\"\r\n              />\r\n            </Col>\r\n          </Row>\r\n          <Row className={classes.row}>\r\n            <Col xs={2}>\r\n              <Form.Label className={classes.label}>Name</Form.Label>\r\n            </Col>\r\n            <Col xs={6}>\r\n              <Form.Control\r\n                onChange={onChange}\r\n                name=\"name\"\r\n                value={details.name}\r\n                type=\"text\"\r\n              />\r\n            </Col>\r\n          </Row>\r\n          <Row className={classes.row}>\r\n            <Col xs={2}>\r\n              <Form.Label className={classes.label}>\r\n                Interests and hobbies\r\n              </Form.Label>\r\n            </Col>\r\n            <Col xs={6}>\r\n              <Form.Control\r\n                onChange={onChange}\r\n                name=\"hobbies\"\r\n                value={details.hobbies}\r\n                as=\"textarea\"\r\n                rows={3}\r\n              />\r\n            </Col>\r\n          </Row>\r\n          <Row>\r\n            <Col xs={8}>\r\n              {\" \"}\r\n              <Button\r\n                onClick={handleClick}\r\n                className={classes.button}\r\n                variant=\"dark\"\r\n              >\r\n                save\r\n              </Button>\r\n            </Col>\r\n          </Row>\r\n        </div>\r\n      )}\r\n    </Container>\r\n  );\r\n}\r\n","import { Link } from \"react-router-dom\";\r\nimport { makeStyles } from \"@material-ui/styles\";\r\n\r\nimport { useEffect } from \"react\";\r\nimport { useUserContext } from \"../context/UserContext\";\r\nimport { Navbar, Nav } from \"react-bootstrap\";\r\n\r\nexport default function NavComp(props) {\r\n  const classes = useStyles();\r\n  const userContext = useUserContext();\r\n  const { rootRoute } = props;\r\n  useEffect(() => {\r\n    console.log(\"useeffect Navbar\");\r\n  }, [userContext.user]);\r\n\r\n  return (\r\n    <Navbar bg=\"light\" expand=\"sm\">\r\n      {console.log(\"rendering nav\")}\r\n\r\n      <Navbar.Brand>\r\n        <b>My Online Journal</b>\r\n      </Navbar.Brand>\r\n      <Navbar.Toggle aria-controls=\"basic-navbar-nav\" />\r\n      <Navbar.Collapse id=\"basic-navbar-nav\">\r\n        <Nav className=\"mr-auto\">\r\n          <Link className=\"nav-link\" to={`${rootRoute}/`}>\r\n            Home\r\n          </Link>\r\n\r\n          {userContext.user ? (\r\n            <>\r\n              <Link className=\"nav-link\" to={`${rootRoute}/calendar`}>\r\n                Calendar\r\n              </Link>\r\n              <Link className=\"nav-link\" to={`${rootRoute}/journal`}>\r\n                Journal\r\n              </Link>\r\n              <Link className=\"nav-link\" to={`${rootRoute}/allentries`}>\r\n                All Entries\r\n              </Link>\r\n              <Link className=\"nav-link\" to={`${rootRoute}/profile`}>\r\n                Profile\r\n              </Link>\r\n              {/* <Link className=\"nav-link\" to=\"/signout\">\r\n                Signout\r\n              </Link> */}\r\n              <button\r\n                className={`${classes.signoutButton} nav-link`}\r\n                onClick={() => userContext.userSignOut()}\r\n              >\r\n                Signout\r\n              </button>\r\n            </>\r\n          ) : (\r\n            <>\r\n              <Link className=\"nav-link\" to={`${rootRoute}/signin`}>\r\n                Signin\r\n              </Link>\r\n              <Link className=\"nav-link\" to={`${rootRoute}/signup`}>\r\n                Signup\r\n              </Link>\r\n            </>\r\n          )}\r\n        </Nav>\r\n      </Navbar.Collapse>\r\n    </Navbar>\r\n  );\r\n}\r\n\r\nconst useStyles = makeStyles({\r\n  root: {\r\n    background: \"purple\",\r\n\r\n    padding: \"10px\",\r\n  },\r\n  item: {\r\n    fontSize: \"2rem\",\r\n    marginRight: \"1rem\",\r\n    color: \"white\",\r\n    textDecoration: \"none\",\r\n    // \"&:first-child\": {\r\n    //   marginLeft: \"1rem\",\r\n    // },\r\n\r\n    \"&:hover\": {\r\n      color: \"black\",\r\n    },\r\n  },\r\n  signoutButton: {\r\n    borderStyle: \"none\",\r\n    backgroundColor: \"inherit\",\r\n  },\r\n});\r\n","import { Container, ListGroup, Col, Row } from \"react-bootstrap\";\r\nimport { makeStyles } from \"@material-ui/styles\";\r\nimport { Link } from \"react-router-dom\";\r\nimport journalImg from \"../img/stockJournal.png\";\r\nimport { useRouteMatch, useHistory, useLocation } from \"react-router-dom\";\r\n\r\nconst useStyles = makeStyles({\r\n  title: {\r\n    marginTop: \"2rem\",\r\n    marginBottom: \"4rem\",\r\n  },\r\n  imageContainer: {\r\n    width: \"50%\",\r\n  },\r\n  image: {\r\n    marginLeft: \"50%\",\r\n    marginTop: \"-10%\",\r\n    width: \"100%\",\r\n  },\r\n  signoutButton: {\r\n    borderStyle: \"none\",\r\n    display: \"inline\",\r\n    backgroundColor: \"inherit\",\r\n    padding: \"0\",\r\n    color: \"dodgerblue\",\r\n  },\r\n});\r\n\r\nexport default function Journal(props) {\r\n  const classes = useStyles();\r\n  const { ...routeMatchesRet } = useRouteMatch();\r\n  const { ...historyRet } = useHistory();\r\n  const { ...locationRet } = useLocation();\r\n  const { rootRoute } = props;\r\n\r\n  // if (userContext.userState) {\r\n  //   console.log(userContext.userState);\r\n  // }\r\n\r\n  return (\r\n    <Container className={classes.root}>\r\n      <Row>\r\n        <Col xs={6}>\r\n          <h1 className={classes.title}>\r\n            Add, browse or edit your Journal entries from this page!\r\n          </h1>\r\n        </Col>\r\n      </Row>\r\n      <Row>\r\n        <Col xs={6}>\r\n          <ListGroup>\r\n            <ListGroup.Item>\r\n              <Link to={`${rootRoute}/allentries`}>Browse All Entries</Link>\r\n            </ListGroup.Item>\r\n\r\n            <ListGroup.Item>\r\n              <Link to={`${rootRoute}/Calendar`}>Browse Entries By Date</Link>\r\n            </ListGroup.Item>\r\n            <ListGroup.Item>\r\n              <Link to={`${rootRoute}/Entries/create-entry`}>\r\n                create a new Entry\r\n              </Link>\r\n            </ListGroup.Item>\r\n          </ListGroup>\r\n        </Col>\r\n        <Col xs={6}>\r\n          <div className={classes.imageContainer}>\r\n            <img className={classes.image} src={journalImg} alt=\"\" />\r\n          </div>\r\n        </Col>\r\n      </Row>\r\n    </Container>\r\n  );\r\n}\r\n","import serverUrl from \"./config\";\r\n\r\nasync function saveEntry(data, date, title, username) {\r\n  const entryData = { data, date, title, username };\r\n  console.log(\"saving: \", data);\r\n  console.log(data);\r\n  const response = await fetch(`${serverUrl}entries`, {\r\n    method: \"POST\", // *GET, POST, PUT, DELETE, etc.\r\n    withCredentials: true,\r\n    credentials: \"include\",\r\n    headers: {\r\n      \"Content-Type\": \"application/json\",\r\n      // 'Content-Type': 'application/x-www-form-urlencoded',\r\n    },\r\n\r\n    body: JSON.stringify(entryData), // body data type must match \"Content-Type\" header\r\n  });\r\n  return response;\r\n}\r\nasync function updateEntry(id, title, data) {\r\n  const entryData = { title, data };\r\n\r\n  const response = await fetch(`${serverUrl}entries/${id}`, {\r\n    method: \"PUT\", // *GET, POST, PUT, DELETE, etc.\r\n    withCredentials: true,\r\n    credentials: \"include\",\r\n    headers: {\r\n      \"Content-Type\": \"application/json\",\r\n      // 'Content-Type': 'application/x-www-form-urlencoded',\r\n    },\r\n\r\n    body: JSON.stringify(entryData), // body data type must match \"Content-Type\" header\r\n  });\r\n  return response;\r\n}\r\nasync function getNumberOfEntries(username) {\r\n  console.log(\"getting number of entries for \" + username);\r\n  const response = await fetch(\r\n    `${serverUrl}entries/count?username=${username}`,\r\n    {\r\n      method: \"GET\", // *GET, POST, PUT, DELETE, etc.\r\n      withCredentials: true,\r\n      credentials: \"include\",\r\n      headers: {\r\n        \"Content-Type\": \"application/json\",\r\n        // 'Content-Type': 'application/x-www-form-urlencoded',\r\n      },\r\n\r\n      // body data type must match \"Content-Type\" header\r\n    }\r\n  );\r\n  const entries = await response.json();\r\n  return entries;\r\n}\r\n\r\nasync function getEntries(username, date, amount, order) {\r\n  console.log(\"getting entries for \" + username + \" on \" + date);\r\n  const encodedDate = encodeURIComponent(date);\r\n  console.log(encodedDate);\r\n\r\n  const response = await fetch(\r\n    `${serverUrl}entries?date=${encodedDate}&username=${username}&amount=${amount}&order=${order}`,\r\n    {\r\n      method: \"GET\", // *GET, POST, PUT, DELETE, etc.\r\n      withCredentials: true,\r\n      credentials: \"include\",\r\n      headers: {\r\n        \"Content-Type\": \"application/json\",\r\n        // 'Content-Type': 'application/x-www-form-urlencoded',\r\n      },\r\n\r\n      // body data type must match \"Content-Type\" header\r\n    }\r\n  );\r\n  const entries = await response.json();\r\n  return entries;\r\n}\r\nasync function getEntry(entryId) {\r\n  console.log(\"id \" + entryId);\r\n  const response = await fetch(`${serverUrl}entries/${entryId}`, {\r\n    method: \"get\", // *GET, POST, PUT, DELETE, etc.\r\n    withCredentials: true,\r\n    credentials: \"include\",\r\n    headers: {\r\n      \"Content-Type\": \"application/json\",\r\n      // 'Content-Type': 'application/x-www-form-urlencoded',\r\n    },\r\n  });\r\n  const entries = await response.json();\r\n  return entries;\r\n}\r\nasync function deleteEntry(entryId) {\r\n  const res = await fetch(`${serverUrl}entries/${entryId}`, {\r\n    method: \"DELETE\",\r\n    withCredentials: true,\r\n    credentials: \"include\",\r\n    headers: {\r\n      \"Content-Type\": \"application/json\",\r\n      // 'Content-Type': 'application/x-www-form-urlencoded',\r\n    },\r\n  });\r\n\r\n  return res;\r\n}\r\n\r\nexport {\r\n  saveEntry,\r\n  getEntries,\r\n  updateEntry,\r\n  getEntry,\r\n  deleteEntry,\r\n  getNumberOfEntries,\r\n};\r\n","import React, { useState, useEffect } from \"react\";\r\nimport { CKEditor } from \"@ckeditor/ckeditor5-react\";\r\nimport ClassicEditor from \"@ckeditor/ckeditor5-build-classic\";\r\n\r\nimport { useLocation, useHistory } from \"react-router\";\r\nimport { Card, Button, Container } from \"react-bootstrap\";\r\nimport { makeStyles } from \"@material-ui/styles\";\r\nimport {\r\n  getEntry,\r\n  updateEntry,\r\n  saveEntry,\r\n  deleteEntry,\r\n} from \"../api/entriesApi\";\r\nconst useStyles = makeStyles({\r\n  root: {\r\n    paddingTop: \"2rem\",\r\n  },\r\n  titleInput: {\r\n    marginBottom: \"2rem\",\r\n    width: \"100%\",\r\n  },\r\n  titleLabel: {\r\n    fontSize: \"2rem\",\r\n  },\r\n  buttonSave: {\r\n    marginTop: \"2rem\",\r\n    marginRight: \"1rem\",\r\n  },\r\n  message: {\r\n    textAlign: \"center\",\r\n  },\r\n});\r\nfunction strip(html) {\r\n  let doc = new DOMParser().parseFromString(html, \"text/html\");\r\n  return doc.body.textContent || \"\";\r\n}\r\n\r\nexport default function DisplayEntry(props) {\r\n  const location = useLocation();\r\n  const history = useHistory();\r\n  const [entry, setEntry] = useState(location.entry);\r\n  const [data, setData] = useState(\"\");\r\n  const [title, setTitle] = useState(\"\");\r\n  const [editMode, setEditMode] = useState(false);\r\n  const [successMessage, setSuccessMessage] = useState(false);\r\n  const [deletMessage, setDeleteMessage] = useState(false);\r\n  const classes = useStyles();\r\n\r\n  //   useEffect(() => {\r\n  //     async function getEntryWrapper() {\r\n  //       const entryId = location.search.slice(1);\r\n  //       const res = await getEntry(entryId);\r\n  //       console.log(\"entry res \" + res);\r\n  //       setEntry(res);\r\n  //       setData(res.data);\r\n  //     }\r\n  //     if (!entry) {\r\n  //       console.log(\"noEntry\");\r\n  //       getEntryWrapper();\r\n  //     }\r\n  //   }, []);\r\n  useEffect(() => {\r\n    async function getEntryWrapper() {\r\n      if (!entry) {\r\n        console.log(\"No entry\");\r\n        const entryId = location.search.slice(1);\r\n        const res = await getEntry(entryId);\r\n        console.log(\"entry res \" + res);\r\n        setEntry(res);\r\n        setData(res.data);\r\n        setTitle(res.title);\r\n      } else if (!data) {\r\n        console.log(\"No data\");\r\n        setData(entry.data);\r\n        setTitle(entry.title);\r\n      }\r\n    }\r\n\r\n    if (!entry || !data) {\r\n      getEntryWrapper();\r\n    }\r\n  }, []);\r\n\r\n  function displaySuccessMessage() {\r\n    setSuccessMessage(true);\r\n    setTimeout(() => setSuccessMessage(false), 1000);\r\n  }\r\n  function displayDeleteMessage() {\r\n    setDeleteMessage(true);\r\n\r\n    setTimeout(() => {\r\n      setDeleteMessage(false);\r\n      history.goBack();\r\n    }, 1000);\r\n  }\r\n\r\n  const handleSubmit = async () => {\r\n    async function updateEntryWrapper(updateData) {\r\n      const { entryId, title, data } = updateData;\r\n      console.log(\"id \" + entryId);\r\n      console.log(\"data \" + data);\r\n      console.log(\"title \" + title);\r\n      const res = await updateEntry(entryId, title, data);\r\n      setEditMode(false);\r\n      console.log(res);\r\n      displaySuccessMessage();\r\n    }\r\n    updateEntryWrapper({ data, title, entryId: entry._id });\r\n  };\r\n\r\n  const handleDelete = async (event) => {\r\n    const entryId = entry._id;\r\n    const res = await deleteEntry(entryId);\r\n    displayDeleteMessage();\r\n  };\r\n\r\n  return (\r\n    <Container className={classes.root}>\r\n      {successMessage ? (\r\n        <h1 className={classes.message}>post has been updated</h1>\r\n      ) : (\r\n        <>\r\n          {deletMessage ? (\r\n            <h1 className={classes.message}>post has been deleted</h1>\r\n          ) : (\r\n            <div>\r\n              {editMode ? (\r\n                <div>\r\n                  <label htmlFor=\"titleInput\" className={classes.titleLabel}>\r\n                    Title\r\n                  </label>\r\n                  <input\r\n                    id=\"titleInput\"\r\n                    type=\"text\"\r\n                    value={title}\r\n                    className={classes.titleInput}\r\n                    onChange={(event) => setTitle(event.target.value)}\r\n                    disabled={!editMode}\r\n                  />\r\n\r\n                  <CKEditor\r\n                    editor={ClassicEditor}\r\n                    data={data}\r\n                    onReady={(editor) => {\r\n                      // You can store the \"editor\" and use when it is needed.\r\n                      console.log(\"Editor is ready to use!\", editor);\r\n                    }}\r\n                    onChange={(event, editor) => setData(editor.getData())}\r\n                    disabled={!editMode}\r\n                  />\r\n                  <Button\r\n                    variant={\"dark mt-2\"}\r\n                    className={classes.buttonSave}\r\n                    onClick={() => handleSubmit()}\r\n                  >\r\n                    save changes{\" \"}\r\n                  </Button>\r\n                </div>\r\n              ) : (\r\n                <>\r\n                  <h1>{strip(title)}</h1>\r\n                  <p>{strip(data)}</p>\r\n                  <Button\r\n                    variant={\"dark\"}\r\n                    className={classes.buttonSave}\r\n                    onClick={() => setEditMode(!editMode)}\r\n                  >\r\n                    edit post{\" \"}\r\n                  </Button>\r\n                  <Button\r\n                    variant={\"dark\"}\r\n                    className={classes.buttonSave}\r\n                    name={\"deleteButton\"}\r\n                    onClick={(event) => handleDelete(event)}\r\n                  >\r\n                    delete post{\" \"}\r\n                  </Button>\r\n                </>\r\n              )}\r\n            </div>\r\n          )}\r\n        </>\r\n      )}\r\n    </Container>\r\n  );\r\n}\r\n","import React, { useState, useEffect } from \"react\";\r\nimport { CKEditor } from \"@ckeditor/ckeditor5-react\";\r\nimport ClassicEditor from \"@ckeditor/ckeditor5-build-classic\";\r\n\r\nexport default function Editor(props) {\r\n  const [editMode] = useState(true);\r\n  const { data, setData } = props;\r\n\r\n  useEffect(() => {\r\n    console.log(\"useEffect editor with data: \" + data);\r\n  }, [data]);\r\n\r\n  return (\r\n    <div className=\"root\">\r\n      {console.log(\"rendering editor with data: \" + data)}\r\n      {editMode ? (\r\n        <CKEditor\r\n          editor={ClassicEditor}\r\n          data={data}\r\n          onReady={(editor) => {\r\n            // You can store the \"editor\" and use when it is needed.\r\n            console.log(\"Editor is ready to use!\", editor);\r\n          }}\r\n          onChange={(event, editor) => setData(editor.getData())}\r\n          disabled={false}\r\n        />\r\n      ) : (\r\n        <CKEditor\r\n          config={{ toolbar: [] }}\r\n          editor={ClassicEditor}\r\n          data={data}\r\n          onReady={(editor) => {\r\n            // You can store the \"editor\" and use when it is needed.\r\n            console.log(\"Editor is ready to use!\", editor);\r\n          }}\r\n          disabled={true}\r\n        />\r\n      )}\r\n    </div>\r\n  );\r\n}\r\n","import React, { useState, useEffect } from \"react\";\r\nimport Editor from \"./Editor\";\r\nimport { useUserContext } from \"../context/UserContext\";\r\nimport dateFormat from \"dateformat\";\r\nimport { useLocation, useHistory } from \"react-router\";\r\nimport { Link } from \"react-router-dom\";\r\nimport { Card, Button, Container } from \"react-bootstrap\";\r\nimport { makeStyles } from \"@material-ui/styles\";\r\nimport { getEntry, updateEntry, saveEntry } from \"../api/entriesApi\";\r\n\r\nconst useStyles = makeStyles({\r\n  root: {\r\n    paddingTop: \"2rem\",\r\n  },\r\n  inputLabel: {\r\n    fontSize: \"2rem\",\r\n    marginTop: \"2rem\",\r\n    display: \"block\",\r\n  },\r\n  inputTitle: {\r\n    width: \"100%\",\r\n    marginBottom: \"2rem\",\r\n  },\r\n  message: {\r\n    textAlign: \"center\",\r\n  },\r\n});\r\n\r\nexport default function NewEntry(props) {\r\n  const location = useLocation();\r\n  const history = useHistory();\r\n  const [data, setData] = useState();\r\n  const [title, setTitle] = useState(\"\");\r\n  const [successMessage, setSuccessMessage] = useState(false);\r\n  const userContext = useUserContext();\r\n  const username = userContext.user;\r\n  const classes = useStyles();\r\n  var date = location.search.slice(1);\r\n  const { rootRoute } = props;\r\n\r\n  var displayDate;\r\n  try {\r\n    if (!date) {\r\n      date = new Date();\r\n    }\r\n    date = decodeURI(date);\r\n    displayDate = dateFormat(date, \"dddd dd mmmm yyyy\");\r\n  } catch (err) {\r\n    console.log(location.search.slice(1));\r\n    console.log(err);\r\n  }\r\n\r\n  const handleSubmit = async (data) => {\r\n    const createdAt = new Date();\r\n    const timezoneOffset = createdAt.getTimezoneOffset();\r\n\r\n    const entryData = {\r\n      date,\r\n      username,\r\n      title,\r\n      data,\r\n      createdAt,\r\n      timezoneOffset,\r\n    };\r\n    async function saveEntryWrapper(entryData) {\r\n      const res = await saveEntry(entryData);\r\n      if (res.status === 200) {\r\n        setSuccessMessage(true);\r\n        setTimeout(() => history.goBack(), 1000);\r\n      }\r\n    }\r\n    saveEntryWrapper(entryData);\r\n  };\r\n\r\n  return (\r\n    <Container className={classes.root}>\r\n      {successMessage ? (\r\n        <h1 className={classes.message}>Post successfull</h1>\r\n      ) : (\r\n        <div>\r\n          {console.log(location.search.slice(1))}\r\n          {console.log(date)}\r\n          <h1>\r\n            {displayDate}\r\n            <span style={{ fontSize: \"1.2rem\" }}>\r\n              <Link to={`${rootRoute}/Calendar`}> pick a different date</Link>\r\n            </span>\r\n          </h1>\r\n          <h3>Create a new Entry</h3>\r\n          <label htmlFor=\"titleInput\" className={classes.inputLabel}>\r\n            title\r\n          </label>\r\n          <input\r\n            id=\"titleInput\"\r\n            value={title}\r\n            onChange={(event) => setTitle(event.target.value)}\r\n            className={classes.inputTitle}\r\n          ></input>\r\n          <Editor\r\n            handleSubmit={handleSubmit}\r\n            data={data}\r\n            setData={(data) => setData(data)}\r\n          />\r\n          <Button\r\n            variant=\"dark mt-2\"\r\n            className={classes.buttonSave}\r\n            onClick={() => handleSubmit(data)}\r\n          >\r\n            save new entry\r\n          </Button>\r\n        </div>\r\n      )}\r\n    </Container>\r\n  );\r\n}\r\n","import React, { useState, useLayoutEffect } from \"react\";\r\nimport dateFormat from \"dateformat\";\r\nimport { Link, useHistory, useRouteMatch, useLocation } from \"react-router-dom\";\r\nimport DisplayEntry from \"./DisplayEntry\";\r\nimport NewEntry from \"./NewEntry\";\r\nimport { useUserContext } from \"../context/UserContext\";\r\nimport { getEntries } from \"../api/entriesApi\";\r\nimport { Card, Button, Container, Spinner } from \"react-bootstrap\";\r\nimport { makeStyles } from \"@material-ui/styles\";\r\n\r\nconst useStyles = makeStyles({\r\n  headerContainer: {\r\n    display: \"flex\",\r\n    justifyContent: \"space-between\",\r\n    alignItems: \"center\",\r\n    marginTop: \"2rem\",\r\n  },\r\n  linkContainer: { textAlign: \"end\" },\r\n  card: { marginTop: \"2rem\" },\r\n  cardText: {\r\n    whiteSpace: \"nowrap\",\r\n    overflow: \"hidden\",\r\n    textOverflow: \"ellipsis\",\r\n  },\r\n  spinnerContainer: {\r\n    display: \"flex\",\r\n    paddingTop: \"20vh\",\r\n    justifyContent: \"center\",\r\n  },\r\n  spinner: {\r\n    width: \"5rem\",\r\n    height: \"5rem\",\r\n  },\r\n\r\n  noEntriesMessageContainer: {\r\n    display: \"flex\",\r\n    justifyContent: \"center\",\r\n    paddingTop: \"4rem\",\r\n    border: \"2px solid black\",\r\n    marginTop: \"6rem\",\r\n    paddingBottom: \"4rem\",\r\n    alignItems: \"center\",\r\n    background: \"lightsteelblue\",\r\n    borderRadius: \"5px\",\r\n  },\r\n});\r\n\r\nfunction strip(html) {\r\n  let doc = new DOMParser().parseFromString(html, \"text/html\");\r\n  return doc.body.textContent || \"\";\r\n}\r\n\r\nexport default function Entries(props) {\r\n  const { path, url, isExact } = useRouteMatch();\r\n  const history = useHistory();\r\n  const location = useLocation();\r\n  const [loading, setLoading] = useState(false);\r\n  var date = location.search.slice(1);\r\n  var displayDate;\r\n  const { rootRoute } = props;\r\n\r\n  try {\r\n    console.log(\"date received as: \" + date);\r\n    date = decodeURI(date);\r\n    console.log(\"date decoded to: \" + date);\r\n    displayDate = dateFormat(date, \"dddd dd mmmm yyyy\");\r\n    console.log(\"display date formatted as: \" + displayDate);\r\n  } catch (err) {\r\n    console.log(\"date format incorrect\");\r\n  }\r\n\r\n  // const { date } = location.date;\r\n\r\n  const userContext = useUserContext();\r\n  const [entries, setEntries] = useState([]);\r\n  const classes = useStyles();\r\n\r\n  useLayoutEffect(() => {\r\n    console.log(\"use effect entries\");\r\n    async function loadEntries() {\r\n      setLoading(true);\r\n      console.log(\"retrieving for date: \", date);\r\n      console.log(\"$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$\");\r\n      const entries = await getEntries(userContext.user, date);\r\n      setLoading(false);\r\n\r\n      setEntries(entries);\r\n    }\r\n    if (isExact) {\r\n      console.log(\"loading entries\");\r\n      try {\r\n        loadEntries();\r\n      } catch (err) {\r\n        console.log(err);\r\n      }\r\n    }\r\n  }, []);\r\n\r\n  return (\r\n    <Container>\r\n      {console.log(\"entries root\")}\r\n\r\n      <div className={classes.headerContainer}>\r\n        <h1 className={classes.title}>\r\n          <em>\r\n            <i>{displayDate}</i>\r\n          </em>\r\n        </h1>\r\n        <Link\r\n          to={{\r\n            pathname: `${rootRoute}/entries/create-entry`,\r\n            new: true,\r\n            search: date,\r\n          }}\r\n        >\r\n          <Button variant=\"dark\">create new entry</Button>\r\n        </Link>{\" \"}\r\n      </div>\r\n\r\n      {loading ? (\r\n        <div className={classes.spinnerContainer}>\r\n          {\" \"}\r\n          <Spinner animation=\"border\" className={classes.spinner} role=\"status\">\r\n            <span className=\"sr-only\">Loading...</span>\r\n          </Spinner>\r\n        </div>\r\n      ) : entries.length > 0 ? (\r\n        entries.map((entry, id) => (\r\n          <Card key={id} className={classes.card}>\r\n            <Card.Body>\r\n              <Card.Title>{entry.title} </Card.Title>\r\n              <Card.Text className={classes.cardText}>\r\n                {strip(entry.data)}\r\n              </Card.Text>\r\n              <div className={classes.linkContainer}>\r\n                <Button\r\n                  variant=\"dark\"\r\n                  onClick={() => {\r\n                    history.push({\r\n                      pathname: `${rootRoute}/entries/display-entry`,\r\n                      entry: entry,\r\n                      search: `${entry._id}`,\r\n                      // search: `testentry`,\r\n                    });\r\n                  }}\r\n                >\r\n                  {\" \"}\r\n                  go to entry\r\n                </Button>\r\n              </div>\r\n            </Card.Body>\r\n          </Card>\r\n        ))\r\n      ) : (\r\n        <div className={classes.noEntriesMessageContainer}>\r\n          <h1>No entries made on this date</h1>\r\n        </div>\r\n      )}\r\n    </Container>\r\n  );\r\n}\r\n","import React, { useState } from \"react\";\r\nimport ReactCalendar from \"react-calendar\";\r\nimport { Container } from \"react-bootstrap\";\r\n// import \"./Calendar.css\";\r\nimport \"react-calendar/dist/Calendar.css\";\r\n\r\nimport {\r\n  useRouteMatch,\r\n  useLocation,\r\n  Route,\r\n  Switch,\r\n  useHistory,\r\n} from \"react-router-dom\";\r\nimport Entries from \"./Entries\";\r\nimport { makeStyles } from \"@material-ui/styles\";\r\n\r\nconst useStyles = makeStyles({\r\n  calendar: {\r\n    marginTop: \"2rem\",\r\n    width: \"100%\",\r\n    \"& .react-calendar__tile--active\": {\r\n      background: \"black\",\r\n    },\r\n  },\r\n\r\n  button: { border: \" 5px solid gray\" },\r\n});\r\n\r\nexport default function Calendar() {\r\n  const [date, onDateChange] = useState(new Date());\r\n  const { path, url } = useRouteMatch();\r\n  const location = useLocation();\r\n  const history = useHistory();\r\n  // const path = location.pathname;\r\n  const classes = useStyles();\r\n\r\n  return (\r\n    <Switch>\r\n      {console.log(\"rendering calendar\")}\r\n      <Route path={`${path}/Entries`}>\r\n        <Entries />\r\n      </Route>\r\n      <Route path={`${path}`}>\r\n        <Container>\r\n          <ReactCalendar\r\n            className={classes.calendar}\r\n            onChange={onDateChange}\r\n            value={date}\r\n            onClickDay={(date) => {\r\n              history.push({\r\n                pathname: `${path}/Entries`,\r\n                // search: `?query=${date}`,\r\n                // search: `${dateFormat(date, \"dd-mm-yyyy\")}`,\r\n                search: date.toString(),\r\n              });\r\n            }}\r\n            // history.push(`${path}/Entries`)\r\n          />\r\n        </Container>\r\n\r\n        {/* <Link to={`${url}/Entries`}>go to entries</Link>{\" \"} */}\r\n      </Route>\r\n    </Switch>\r\n  );\r\n}\r\n","import React, { useState } from \"react\";\r\nimport { Pagination } from \"react-bootstrap\";\r\n\r\nexport default function PaginationComponent(props) {\r\n  const { pages, active, setActive } = props;\r\n\r\n  function makeItems() {\r\n    let items = [];\r\n    for (let number = 1; number <= pages; number++) {\r\n      items.push(\r\n        <Pagination.Item\r\n          key={number}\r\n          onClick={() => setActive(number)}\r\n          active={number === active}\r\n        >\r\n          {number}\r\n        </Pagination.Item>\r\n      );\r\n    }\r\n    return items;\r\n  }\r\n\r\n  return (\r\n    <div>\r\n      <Pagination variant=\"dark\" size=\"lg\">\r\n        {makeItems().map((item) => item)}\r\n      </Pagination>\r\n    </div>\r\n  );\r\n}\r\n","import React, { useState, useLayoutEffect } from \"react\";\r\nimport { getEntries, getNumberOfEntries } from \"../api/entriesApi\";\r\nimport { useUserContext } from \"../context/UserContext\";\r\nimport { Card, Spinner, Container, Button } from \"react-bootstrap\";\r\nimport { makeStyles } from \"@material-ui/styles\";\r\nimport { useHistory, useRouteMatch } from \"react-router-dom\";\r\nimport dateFormat from \"dateformat\";\r\nimport PaginationComponent from \"./PaginationComponent\";\r\n\r\nconst useStyles = makeStyles({\r\n  headerContainer: {\r\n    display: \"flex\",\r\n    justifyContent: \"space-between\",\r\n    alignItems: \"center\",\r\n    marginTop: \"2rem\",\r\n  },\r\n  linkContainer: { textAlign: \"end\" },\r\n  card: { marginBottom: \"2rem\" },\r\n  cardText: {\r\n    whiteSpace: \"nowrap\",\r\n    overflow: \"hidden\",\r\n    textOverflow: \"ellipsis\",\r\n  },\r\n  spinnerContainer: {\r\n    display: \"flex\",\r\n    paddingTop: \"20vh\",\r\n    justifyContent: \"center\",\r\n  },\r\n  spinner: {\r\n    width: \"5rem\",\r\n    height: \"5rem\",\r\n  },\r\n\r\n  noEntriesMessageContainer: {\r\n    display: \"flex\",\r\n    justifyContent: \"center\",\r\n    paddingTop: \"4rem\",\r\n    border: \"2px solid black\",\r\n    marginTop: \"6rem\",\r\n    paddingBottom: \"4rem\",\r\n    alignItems: \"center\",\r\n    background: \"lightsteelblue\",\r\n    borderRadius: \"5px\",\r\n  },\r\n  dateContainer: {\r\n    backgroundColor: \"black\",\r\n    color: \"white\",\r\n  },\r\n  newEntryButton: {\r\n    display: \"block\",\r\n\r\n    marginBottom: \"2rem\",\r\n  },\r\n  paginationContainer: {\r\n    display: \"flex\",\r\n    justifyContent: \"center\",\r\n    paddingTop: \"2rem\",\r\n    paddingBottom: \"2rem\",\r\n\r\n    \"& .page-item .page-link\": {\r\n      color: \"black\",\r\n    },\r\n    \"& .page-item.active .page-link\": {\r\n      backgroundColor: \"black\",\r\n      borderColor: \"black\",\r\n      color: \"white\",\r\n    },\r\n  },\r\n});\r\nfunction strip(html) {\r\n  let doc = new DOMParser().parseFromString(html, \"text/html\");\r\n  return doc.body.textContent || \"\";\r\n}\r\n\r\nexport default function AllEntries() {\r\n  const [entriesByDate, setEntriesByDate] = useState([]);\r\n  const [loading, setLoading] = useState(false);\r\n  const userContext = useUserContext();\r\n  const classes = useStyles();\r\n  const { path } = useRouteMatch();\r\n  const history = useHistory();\r\n  const [numberOfEntries, setNumberOfEntries] = useState(0);\r\n  const [activePage, setActivePage] = useState(1);\r\n  const [entriesPerPage, setEntriesPerPage] = useState(5);\r\n\r\n  useLayoutEffect(() => {\r\n    setLoading(true);\r\n\r\n    async function getNumberOfEntriesWrapper(user) {\r\n      const res = await getNumberOfEntries(user);\r\n      setNumberOfEntries(res);\r\n    }\r\n    async function getEntriesWrapper(user, entriesPerPage, activePage) {\r\n      const res = await getEntries(user, null, entriesPerPage, activePage);\r\n      console.log(res);\r\n      var dates = [];\r\n      res.forEach((entry) => dates.push(entry.date));\r\n      var dateSet = new Set(dates);\r\n      // var entriesByDate = [{ date: \"\", entries: [{}] }];\r\n      var entriesByDate = [];\r\n      for (let date of dateSet) {\r\n        entriesByDate.push({ date, entries: [] });\r\n      }\r\n      entriesByDate.forEach((obj) => {\r\n        res.forEach((entry) => {\r\n          if (obj.date === entry.date) {\r\n            obj.entries.push(entry);\r\n          }\r\n        });\r\n        obj.date = new Date(obj.date);\r\n      });\r\n      setEntriesByDate(entriesByDate);\r\n      setLoading(false);\r\n    }\r\n\r\n    // setEntries(res);\r\n    // setLoading(false);\r\n    getNumberOfEntriesWrapper(userContext.user);\r\n    getEntriesWrapper(userContext.user, entriesPerPage, activePage);\r\n  }, [activePage]);\r\n\r\n  return (\r\n    <Container>\r\n      {loading ? (\r\n        <div className={classes.spinnerContainer}>\r\n          {\" \"}\r\n          <Spinner animation=\"border\" className={classes.spinner} role=\"status\">\r\n            <span className=\"sr-only\">Loading...</span>\r\n          </Spinner>\r\n        </div>\r\n      ) : (\r\n        <div>\r\n          <div className={classes.paginationContainer}>\r\n            <PaginationComponent\r\n              pages={Math.ceil(numberOfEntries / entriesPerPage)}\r\n              active={activePage}\r\n              setActive={setActivePage}\r\n            />\r\n          </div>\r\n          <Button\r\n            className={classes.newEntryButton}\r\n            variant=\"dark\"\r\n            onClick={() => history.push({ pathname: `Entries/create-entry` })}\r\n          >\r\n            add a new journal entry\r\n          </Button>\r\n          {entriesByDate.length > 0 ? (\r\n            entriesByDate.map((obj) => (\r\n              <div>\r\n                <div className={classes.dateContainer}>\r\n                  <h2>\r\n                    {dateFormat(new Date(obj.date), \"dddd, mmmm dS, yyyy\")}\r\n                  </h2>\r\n                </div>\r\n\r\n                {obj.entries.map((entry) => (\r\n                  <Card key={entry._id} className={classes.card}>\r\n                    <Card.Body>\r\n                      <Card.Title>{entry.title}</Card.Title>\r\n                      <Card.Text className={classes.cardText}>\r\n                        {strip(entry.data)}\r\n                      </Card.Text>\r\n                      <div className={classes.linkContainer}>\r\n                        <Button\r\n                          variant=\"dark\"\r\n                          onClick={() => {\r\n                            history.push({\r\n                              pathname: `${path}/display-entry`,\r\n                              entry: entry,\r\n                              search: `${entry._id}`,\r\n                              // search: `testentry`,\r\n                            });\r\n                          }}\r\n                        >\r\n                          {\" \"}\r\n                          go to post\r\n                        </Button>\r\n                      </div>\r\n                    </Card.Body>\r\n                  </Card>\r\n                ))}\r\n              </div>\r\n            ))\r\n          ) : (\r\n            <div>\r\n              <div className={classes.noEntriesMessageContainer}>\r\n                <h1>No journal entries have been made yet</h1>\r\n              </div>\r\n            </div>\r\n          )}\r\n\r\n          <div className={classes.paginationContainer}>\r\n            <PaginationComponent\r\n              pages={Math.ceil(numberOfEntries / entriesPerPage)}\r\n              active={activePage}\r\n              setActive={setActivePage}\r\n            />\r\n          </div>\r\n        </div>\r\n      )}\r\n    </Container>\r\n  );\r\n}\r\n","import React from \"react\";\r\n\r\nexport default function FourOFour() {\r\n  return (\r\n    <div style={{ display: \"flex\", justifyContent: \"center\" }}>\r\n      <h1>error 404,Page not found.</h1>\r\n    </div>\r\n  );\r\n}\r\n","import React, { useEffect, useState } from \"react\";\r\nimport { BrowserRouter, Redirect, Route, Switch } from \"react-router-dom\";\r\n\r\nimport Middleware from \"./components/Middleware\";\r\nimport Signup from \"./components/Signup\";\r\nimport Home from \"./components/Home\";\r\nimport Signin from \"./components/Signin\";\r\nimport Profile from \"./components/Profile\";\r\nimport NavComp from \"./components/NavComp\";\r\nimport Journal from \"./components/Journal\";\r\n\r\nimport Calendar from \"./components/Calendar\";\r\nimport { useUserContext } from \"./context/UserContext\";\r\nimport { makeStyles } from \"@material-ui/styles\";\r\nimport AllEntries from \"./components/AllEntries\";\r\nimport NewEntry from \"./components/NewEntry\";\r\nimport DisplayEntry from \"./components/DisplayEntry\";\r\nimport FourOFour from \"./components/FourOFour\";\r\n\r\nconst useStyles = makeStyles({\r\n  loadingContainer: {\r\n    display: \"flex\",\r\n    justifyContent: \"center\",\r\n\r\n    \"& h1\": {\r\n      paddingTop: \"2rem\",\r\n    },\r\n  },\r\n});\r\nexport default function App() {\r\n  const userContext = useUserContext();\r\n  const classes = useStyles();\r\n\r\n  const rootRoute = \"/OnlineJournal\";\r\n\r\n  return (\r\n    <div>\r\n      {console.log(rootRoute)}\r\n      {console.log(process.env.NODE_ENV)}\r\n      {console.log(\"#####################\")}\r\n      {console.log(\"rendering APP\")}\r\n      <Middleware />\r\n      <div>\r\n        {userContext.loading ? (\r\n          <div className={classes.loadingContainer}>\r\n            {console.log(\"display loading\")}\r\n            <h1 className={classes.loadingText}>Loading...</h1>\r\n          </div>\r\n        ) : (\r\n          <div>\r\n            {console.log(\"remove loading\")}\r\n            <NavComp rootRoute={rootRoute} />\r\n            <Switch>\r\n              <Route exact path={`${rootRoute}/`}>\r\n                <Home />\r\n              </Route>\r\n\r\n              {/* <PrivateRoute path=\"/signin\">\r\n              <Signin />\r\n            </PrivateRoute> */}\r\n              <Route path={`${rootRoute}/signin`}>\r\n                {console.log(`${rootRoute}/signin`)}\r\n                {!userContext.user ? (\r\n                  <Signin />\r\n                ) : (\r\n                  <Redirect\r\n                    to={{\r\n                      pathname: `${rootRoute}/`,\r\n                    }}\r\n                  />\r\n                )}\r\n              </Route>\r\n\r\n              <Route path={`${rootRoute}/profile`}>\r\n                {userContext.user ? (\r\n                  <Profile />\r\n                ) : (\r\n                  <Redirect\r\n                    to={{\r\n                      pathname: `${rootRoute}/`,\r\n                    }}\r\n                  />\r\n                )}\r\n              </Route>\r\n              <Route path={`${rootRoute}/signup`}>\r\n                {!userContext.user ? (\r\n                  <Signup />\r\n                ) : (\r\n                  <Redirect\r\n                    to={{\r\n                      pathname: `${rootRoute}/profile`,\r\n                    }}\r\n                  />\r\n                )}\r\n              </Route>\r\n              <Route path={`${rootRoute}/allentries`}>\r\n                {userContext.user ? (\r\n                  <AllEntries />\r\n                ) : (\r\n                  <Redirect\r\n                    to={{\r\n                      pathname: `${rootRoute}/signin`,\r\n                    }}\r\n                  />\r\n                )}\r\n              </Route>\r\n              <Route path={`${rootRoute}/calendar`}>\r\n                <Calendar />\r\n              </Route>\r\n              <Route path={`${rootRoute}/journal`}>\r\n                {userContext.user ? (\r\n                  <Journal />\r\n                ) : (\r\n                  <Redirect\r\n                    to={{\r\n                      pathname: `${rootRoute}/`,\r\n                    }}\r\n                  />\r\n                )}\r\n              </Route>\r\n              <Route path={`${rootRoute}/entries/create-entry`}>\r\n                {userContext.user ? (\r\n                  <NewEntry />\r\n                ) : (\r\n                  <Redirect\r\n                    to={{\r\n                      pathname: `${rootRoute}/`,\r\n                    }}\r\n                  />\r\n                )}\r\n              </Route>\r\n              <Route path={`${rootRoute}/entries/display-entry`}>\r\n                {userContext.user ? (\r\n                  <DisplayEntry />\r\n                ) : (\r\n                  <Redirect\r\n                    to={{\r\n                      pathname: `${rootRoute}/`,\r\n                    }}\r\n                  />\r\n                )}\r\n              </Route>\r\n              <Route>\r\n                <FourOFour />\r\n              </Route>\r\n            </Switch>\r\n          </div>\r\n        )}\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\nfunction PrivateRoute({ children, ...rest }) {\r\n  let auth = useUserContext();\r\n  return (\r\n    <Route\r\n      {...rest}\r\n      render={({ location }) =>\r\n        !auth.user ? (\r\n          children\r\n        ) : (\r\n          <Redirect\r\n            to={{\r\n              pathname: \"/profile\",\r\n              state: { from: location },\r\n            }}\r\n          />\r\n        )\r\n      }\r\n    />\r\n  );\r\n}\r\n","const reportWebVitals = onPerfEntry => {\r\n  if (onPerfEntry && onPerfEntry instanceof Function) {\r\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\r\n      getCLS(onPerfEntry);\r\n      getFID(onPerfEntry);\r\n      getFCP(onPerfEntry);\r\n      getLCP(onPerfEntry);\r\n      getTTFB(onPerfEntry);\r\n    });\r\n  }\r\n};\r\n\r\nexport default reportWebVitals;\r\n","import { userContext } from \"./UserContext\";\r\nimport useUserProvider from \"../state/useUserProvider\";\r\n\r\nexport default function UserProvider(props) {\r\n  const userMethods = useUserProvider();\r\n  return (\r\n    <userContext.Provider value={userMethods}>\r\n      {props.children}\r\n    </userContext.Provider>\r\n  );\r\n}\r\n","import {\r\n  signin,\r\n  checkAndRefreshAuth,\r\n  signout,\r\n  signup,\r\n  googleSignin,\r\n  updateDetails,\r\n  getDetails,\r\n} from \"../api/authApi\";\r\nimport { useState } from \"react\";\r\nimport { trackPromise } from \"react-promise-tracker\";\r\n\r\nexport default function useUserProvider() {\r\n  const [user, setUser] = useState(\"\");\r\n  const [loading, setLoading] = useState(false);\r\n\r\n  async function userSignIn(user) {\r\n    console.log(\"in userSignIn\");\r\n    const res = await signin(user);\r\n    if (res.status === 200) {\r\n      console.log(\"user signin successfull\");\r\n      console.log(\"setting user to: \" + user.username);\r\n      setUser(user.username);\r\n      return true;\r\n    }\r\n    if (res.status === 403) {\r\n      console.log(res.status);\r\n      return false;\r\n    }\r\n\r\n    console.log(res);\r\n  }\r\n  async function userUpdateDetails(username, name, email, hobbies) {\r\n    const data = { username, name, email, hobbies };\r\n    const res = await updateDetails(data);\r\n    if (res.status === 200) {\r\n      const data = await res.json();\r\n      return data;\r\n    } else return false;\r\n  }\r\n  async function userGetDetails(username) {\r\n    const res = await getDetails(username);\r\n    if (res.status === 200) {\r\n      const data = await res.json();\r\n      console.log(data);\r\n      return data;\r\n    } else return false;\r\n  }\r\n\r\n  async function userSignUp(username, password) {\r\n    const res = await signup({ username, password });\r\n    console.log(\"useUserProvider signup res:\");\r\n    console.log(res);\r\n\r\n    if (res.status === 200) {\r\n      console.log(\"user signin successfull\");\r\n\r\n      setUser(username);\r\n      return username;\r\n    } else {\r\n      const { message } = await res.json();\r\n      return message;\r\n    }\r\n  }\r\n\r\n  async function userGoogleSignIn(accessTokenObj) {\r\n    console.log(\"in google sign in\");\r\n    const res = await googleSignin(accessTokenObj);\r\n    console.log(\"useUserProvider googleSignIn res:\");\r\n    console.log(res);\r\n    if (res.status === 200) {\r\n      console.log(\"user signin successfull\");\r\n      const username = await res.json();\r\n\r\n      setUser(username);\r\n      return true;\r\n    }\r\n    if (res.status > 400) {\r\n      console.log(res.status);\r\n      console.log(\"unauthorized\");\r\n      return false;\r\n    }\r\n  }\r\n  async function userSignOut() {\r\n    const res = await signout();\r\n    if (res.status === 200) {\r\n      setUser(\"\");\r\n      console.log(\"user removed from context\");\r\n\r\n      return res;\r\n    }\r\n  }\r\n\r\n  async function userCheckAndRefreshAuth() {\r\n    const username = await checkAndRefreshAuth();\r\n    console.log(\"check and refresh returned: \" + username);\r\n    if (username) {\r\n      setUser(username);\r\n      console.log(\"setting user in context\" + username);\r\n    } else {\r\n      setUser(\"\");\r\n      console.log(\"removing user from context\");\r\n    }\r\n    return;\r\n    // console.log(\"setting loading to false\");\r\n    // setLoading(false);\r\n  }\r\n\r\n  return {\r\n    user,\r\n    userCheckAndRefreshAuth,\r\n    userGoogleSignIn,\r\n    userSignIn,\r\n    userSignOut,\r\n    userSignUp,\r\n    loading,\r\n    setLoading,\r\n    userGetDetails,\r\n    userUpdateDetails,\r\n  };\r\n}\r\n","import React from \"react\";\r\nimport ReactDOM from \"react-dom\";\r\nimport { BrowserRouter } from \"react-router-dom\";\r\n\r\nimport App from \"./App\";\r\nimport reportWebVitals from \"./reportWebVitals\";\r\nimport UserProvider from \"./context/UserProvider\";\r\nimport \"bootstrap/dist/css/bootstrap.min.css\";\r\n\r\nReactDOM.render(\r\n  <React.StrictMode>\r\n    <UserProvider>\r\n      <BrowserRouter>\r\n        <App />\r\n      </BrowserRouter>\r\n    </UserProvider>\r\n  </React.StrictMode>,\r\n  document.getElementById(\"root\")\r\n);\r\n\r\nreportWebVitals();\r\n"],"sourceRoot":""}